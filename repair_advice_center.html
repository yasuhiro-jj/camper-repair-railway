<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîß ‰øÆÁêÜÂ∞ÇÈñÄ„Ç¢„Éâ„Éê„Ç§„Çπ„Çª„É≥„Çø„Éº - „Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº‰øÆÁêÜAIÁõ∏Ë´á</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 50%, #dc3545 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            color: #dc3545;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header p {
            color: #666;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .search-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .search-title {
            color: #dc3545;
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .search-form {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .search-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #dc3545;
            border-radius: 10px;
            font-size: 1.1rem;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            border-color: #ff6b6b;
            box-shadow: 0 0 15px rgba(220, 53, 69, 0.3);
        }

        .search-btn {
            padding: 15px 30px;
            background: linear-gradient(45deg, #dc3545, #ff6b6b);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 53, 69, 0.4);
        }

        .search-btn:active {
            transform: translateY(0);
        }

        .search-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .serp-btn {
            background: linear-gradient(45deg, #17a2b8, #20c997) !important;
        }

        .serp-btn:hover {
            background: linear-gradient(45deg, #138496, #1e7e34) !important;
        }

        .price-btn {
            background: linear-gradient(45deg, #ffc107, #fd7e14) !important;
        }

        .price-btn:hover {
            background: linear-gradient(45deg, #e0a800, #e55a00) !important;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #dc3545;
            font-size: 1.2rem;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #dc3545;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .results-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: none;
        }

        .results-section.show {
            display: block;
        }

        .search-info {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .search-summary h3 {
            margin: 0 0 15px 0;
            font-size: 1.5rem;
        }

        .search-summary p {
            margin: 8px 0;
            font-size: 1.1rem;
        }

        .result-header {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .result-rank {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-right: 20px;
            min-width: 60px;
        }

        .rank-number {
            background: #ff6b6b;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 8px;
        }

        .relevance-icon {
            font-size: 1.5rem;
        }

        .result-title-section {
            flex: 1;
        }

        .result-title {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 1.4rem;
        }

        .result-meta {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .result-meta span {
            background: #f8f9fa;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #6c757d;
        }

        .result-content {
            margin-bottom: 20px;
        }

        .result-content h4 {
            color: #2c3e50;
            margin: 20px 0 10px 0;
            font-size: 1.1rem;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 5px;
        }

        .result-content > div {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .cost-summary {
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 10px;
        }

        .cost-list, .product-list, .link-list {
            margin: 0;
            padding-left: 20px;
        }

        .cost-list li, .product-list li {
            margin: 5px 0;
            color: #495057;
        }

        .link-list li {
            margin: 5px 0;
        }

        .link-list a {
            color: #007bff;
            text-decoration: none;
        }

        .link-list a:hover {
            text-decoration: underline;
        }

        .matched-keywords p {
            margin: 5px 0;
            font-size: 0.9rem;
        }

        .result-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        /* Âçò‰∏ÄÁµêÊûú„ÅÆÂ†¥Âêà„ÅÆÁâπÂà•„Å™„Çπ„Çø„Ç§„É´ */
        .search-info.single-result {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        }

        .result-item.single-result {
            border-left-color: #2ecc71;
            box-shadow: 0 8px 25px rgba(46, 204, 113, 0.2);
            background: linear-gradient(135deg, #ffffff 0%, #f8fffe 100%);
        }

        .result-item.single-result .rank-number {
            background: #2ecc71;
            font-size: 1.5rem;
            width: 50px;
            height: 50px;
        }

        .result-item.single-result .relevance-icon {
            font-size: 2rem;
        }

        /* Ë©≥Á¥∞Ë°®Á§∫Áî®„ÅÆ„Çπ„Çø„Ç§„É´ */
        .structured-content {
            margin: 20px 0;
        }

        .structured-content > div {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #007bff;
        }

        .problem-description {
            border-left-color: #28a745;
            background: #f8fff9;
        }

        .causes {
            border-left-color: #dc3545;
            background: #fff8f8;
        }

        .solutions {
            border-left-color: #28a745;
            background: #f8fff9;
        }

        .tools-needed {
            border-left-color: #ffc107;
            background: #fffdf5;
        }

        .repair-steps {
            margin: 20px 0;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 10px;
            border-left: 4px solid #2196f3;
        }

        .steps-list {
            counter-reset: step-counter;
            padding-left: 0;
        }

        .steps-list li {
            counter-increment: step-counter;
            margin: 10px 0;
            padding: 10px 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            padding-left: 50px;
        }

        .steps-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: #2196f3;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .detailed-costs {
            margin-top: 15px;
        }

        .cost-breakdown {
            display: grid;
            gap: 10px;
        }

        .cost-item {
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 10px;
        }

        .cost-header {
            margin-bottom: 8px;
        }

        .cost-range, .cost-single {
            font-weight: bold;
            color: #e74c3c;
            font-size: 1.1rem;
        }

        .cost-description {
            color: #495057;
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .cost-reason {
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 5px;
            border-left: 3px solid #28a745;
            font-size: 0.9rem;
            color: #495057;
        }

        .cost-reason strong {
            color: #28a745;
        }

        .detailed-products {
            margin-top: 15px;
        }

        .product-details {
            display: grid;
            gap: 15px;
        }

        .product-item {
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 4px solid #17a2b8;
        }

        .product-item strong {
            color: #2c3e50;
            font-size: 1.1rem;
            display: block;
            margin-bottom: 8px;
        }

        .product-item p {
            color: #6c757d;
            margin: 0;
        }

        .warnings {
            margin: 20px 0;
            padding: 15px;
            background: #fff3cd;
            border-radius: 10px;
            border-left: 4px solid #ffc107;
        }

        .warning-list {
            display: grid;
            gap: 10px;
        }

        .warning-item {
            display: flex;
            align-items: flex-start;
            padding: 10px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .warning-icon {
            margin-right: 10px;
            font-size: 1.2rem;
        }

        .warning-text {
            color: #856404;
            flex: 1;
        }

        .additional-resources {
            margin-top: 15px;
        }

        .resource-list {
            padding-left: 20px;
        }

        .resource-list li {
            margin: 8px 0;
            color: #495057;
        }

        .expandable-content {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px dashed #dee2e6;
        }

        .expand-btn {
            width: 100%;
            margin-bottom: 15px;
        }

        .full-content {
            margin-top: 15px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .content-text {
            line-height: 1.6;
            color: #495057;
            white-space: pre-wrap;
        }

        /* „É¶„Éº„Ç∂„Éº„Éï„É¨„É≥„Éâ„É™„Éº„Å™Ë°®Á§∫ÊîπÂñÑ */
        .confidence-badge {
            background: #28a745;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-top: 5px;
            display: block;
        }

        .quick-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
        }

        .quick-cost, .quick-products {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .cost-highlight {
            font-size: 1.3rem;
            font-weight: bold;
            color: #e74c3c;
            margin: 10px 0;
            text-align: center;
            padding: 10px;
            background: #fff5f5;
            border-radius: 8px;
            border: 2px solid #e74c3c;
        }

        .product-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .product-tag {
            background: #007bff;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .tool-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tool-tag {
            background: #ffc107;
            color: #212529;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .detailed-sections {
            margin: 20px 0;
        }

        .collapsible-section {
            margin-bottom: 15px;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            overflow: hidden;
        }

        .section-header {
            width: 100%;
            padding: 15px 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: none;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .section-header:hover {
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
        }

        .section-header h4 {
            margin: 0;
            color: #2c3e50;
        }

        .toggle-icon {
            transition: transform 0.3s ease;
            font-size: 0.9rem;
            color: #6c757d;
        }

        .section-header.active .toggle-icon {
            transform: rotate(180deg);
        }

        .section-content {
            padding: 20px;
            background: white;
            border-top: 1px solid #dee2e6;
        }

        .warning-section .section-header {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            color: #856404;
        }

        .warning-section .section-header:hover {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
        }

        .external-link {
            display: block;
            padding: 10px 15px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            color: #007bff;
            text-decoration: none;
            margin: 8px 0;
            transition: all 0.3s ease;
        }

        .external-link:hover {
            background: #e3f2fd;
            border-color: #007bff;
            transform: translateX(5px);
        }

        /* ÂÆâÂÖ®„Å™„É™„É≥„ÇØ„ÅÆ„Çπ„Çø„Ç§„É´ */
        a[rel="noopener noreferrer"] {
            position: relative;
        }

        a[rel="noopener noreferrer"]::after {
            content: "üîí";
            font-size: 0.8rem;
            margin-left: 5px;
            opacity: 0.7;
        }

        .link-list {
            display: grid;
            gap: 10px;
        }

        /* ÁîªÂÉè„ÅÆ„Çà„ÅÜ„Å™ÂàÜ„Åã„Çä„ÇÑ„Åô„ÅÑ„É¨„Ç§„Ç¢„Ç¶„Éà */
        .problem-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            border-left: 5px solid #dc3545;
        }

        .problem-icon {
            font-size: 2.5rem;
            margin-right: 20px;
        }

        .problem-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .troubleshooting-sections {
            margin: 30px 0;
        }

        .section-item {
            display: flex;
            margin-bottom: 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
            border: 2px solid #007bff;
            border-style: solid;
        }

        .section-number {
            background: #007bff;
            color: white;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            flex-shrink: 0;
            border-radius: 8px 0 0 8px;
        }

        .section-content {
            flex: 1;
            padding: 25px;
        }

        .section-content h4 {
            margin: 0 0 15px 0;
            color: #2c3e50;
            font-size: 1.3rem;
            font-weight: bold;
        }

        .section-content p {
            margin: 0 0 15px 0;
            line-height: 1.6;
            color: #495057;
        }

        .safety-section {
            border-color: #ffc107;
        }

        /* ‰ª£ÊõøÂìÅ„ÅÆÁ¥π‰ªã„Çª„ÇØ„Ç∑„Éß„É≥Áî®„Çπ„Çø„Ç§„É´ */
        .alternative-products-section {
            border-color: #28a745;
        }

        .alternative-products-section .section-number {
            background: #28a745;
        }

        .alternative-products {
            margin-top: 15px;
        }

        .product-category {
            margin-bottom: 30px;
        }

        .product-category h5 {
            color: #28a745;
            font-size: 1.1rem;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #28a745;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .product-item {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s ease;
            position: relative;
        }

        .product-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.2);
            border-color: #28a745;
        }

        .product-name {
            font-weight: bold;
            color: #2c3e50;
            font-size: 1rem;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .product-price {
            color: #dc3545;
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .product-description {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .product-link {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 8px 16px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .product-link:hover {
            background: #218838;
            color: white;
            text-decoration: none;
            transform: translateY(-1px);
        }

        /* ÂïÜÂìÅÊ§úÁ¥¢Ê©üËÉΩÁî®„Çπ„Çø„Ç§„É´ */
        .product-search-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid #dee2e6;
        }

        .search-header h5 {
            color: #28a745;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .search-header p {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .search-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-controls .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .search-controls .search-input:focus {
            border-color: #28a745;
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);
        }

        .search-controls .search-btn {
            padding: 12px 24px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .search-controls .search-btn:hover {
            background: #218838;
        }

        .search-categories {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .category-btn {
            padding: 8px 16px;
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-btn:hover {
            border-color: #28a745;
            color: #28a745;
        }

        .category-btn.active {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        /* Ê§úÁ¥¢ÁµêÊûú„ÅÆË°®Á§∫Âà∂Âæ° */
        .product-category.hidden {
            display: none;
        }

        .product-item.hidden {
            display: none;
        }

        .product-item.highlight {
            border-color: #28a745;
            background: #f8fff9;
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.2);
        }

        /* „É¨„Çπ„Éù„É≥„Ç∑„Éñ„Éá„Ç∂„Ç§„É≥ */
        @media (max-width: 768px) {
            /* „Ç≥„É≥„ÉÜ„Éä„Å®„Éë„Éá„Ç£„É≥„Ç∞„ÅÆË™øÊï¥ */
            .container {
                padding: 10px;
            }

            /* „Éò„ÉÉ„ÉÄ„Éº„ÅÆË™øÊï¥ */
            .header {
                padding: 20px 15px;
                border-radius: 15px;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .header p {
                font-size: 1rem;
            }

            /* Ê§úÁ¥¢„Çª„ÇØ„Ç∑„Éß„É≥„ÅÆË™øÊï¥ */
            .search-section {
                padding: 20px 15px;
                border-radius: 15px;
            }

            .search-title {
                font-size: 1.4rem;
            }

            .search-form {
                flex-direction: column;
                gap: 10px;
            }

            .search-input {
                font-size: 1rem;
                padding: 12px 15px;
            }

            .search-btn {
                width: 100%;
                padding: 12px 20px;
                font-size: 1rem;
            }

            .search-buttons {
                flex-direction: column;
            }

            .search-buttons .search-btn {
                width: 100%;
            }

            /* „ÇØ„Ç§„ÉÉ„ÇØÊ§úÁ¥¢„Éú„Çø„É≥„ÅÆË™øÊï¥ */
            .quick-search {
                gap: 8px;
            }

            .quick-btn {
                font-size: 0.85rem;
                padding: 8px 12px;
            }

            /* Ê§úÁ¥¢ÁµêÊûú„ÅÆË™øÊï¥ */
            .results-section {
                padding: 20px 15px;
                border-radius: 15px;
            }

            .result-header {
                flex-direction: column;
                gap: 10px;
            }

            .result-rank {
                flex-direction: row;
                width: 100%;
                justify-content: flex-start;
                gap: 10px;
            }

            .result-item {
                padding: 15px;
            }

            .result-title {
                font-size: 1.2rem;
            }

            .result-content {
                font-size: 0.95rem;
            }

            /* „É°„ÇøÊÉÖÂ†±„ÅÆË™øÊï¥ */
            .result-meta {
                flex-wrap: wrap;
                gap: 8px;
            }

            .meta-item {
                font-size: 0.85rem;
                padding: 5px 10px;
            }

            /* „Éó„É≠„ÉÄ„ÇØ„Éà„Ç∞„É™„ÉÉ„Éâ„ÅÆË™øÊï¥ */
            .product-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .product-item {
                padding: 12px;
            }

            .search-controls {
                flex-direction: column;
            }

            .search-categories {
                justify-content: center;
                flex-wrap: wrap;
            }

            /* Ë®∫Êñ≠„Éï„É≠„Éº„ÅÆË™øÊï¥ */
            .diagnostic-flow {
                padding: 20px 15px;
            }

            /* „Çø„Éñ„É¨„ÉÉ„Éà„Éª„Çπ„Éû„ÉõÁî®„ÅÆËøΩÂä†Ë™øÊï¥ */
            .result-actions {
                flex-direction: column;
                gap: 8px;
            }

            .action-btn {
                width: 100%;
                justify-content: center;
            }

            /* „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫„ÅÆË™øÊï¥ */
            .loading {
                padding: 15px;
                font-size: 1rem;
            }

            .spinner {
                width: 30px;
                height: 30px;
            }

            /* Ê§úÁ¥¢ÊÉÖÂ†±„ÅÆË™øÊï¥ */
            .search-info {
                padding: 15px;
            }

            .search-summary h3 {
                font-size: 1.2rem;
            }

            .search-summary p {
                font-size: 0.95rem;
            }
        }

        /* „Åï„Çâ„Å´Â∞è„Åï„ÅÑÁîªÈù¢Áî®Ôºà„Çπ„Éû„Éº„Éà„Éï„Ç©„É≥Á∏¶Âêë„ÅçÔºâ */
        @media (max-width: 480px) {
            .container {
                padding: 8px;
            }

            .header {
                padding: 15px 10px;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .header p {
                font-size: 0.9rem;
            }

            .search-section {
                padding: 15px 10px;
            }

            .search-title {
                font-size: 1.2rem;
            }

            .search-input {
                font-size: 0.95rem;
                padding: 10px 12px;
            }

            .quick-btn {
                font-size: 0.8rem;
                padding: 6px 10px;
            }

            .result-item {
                padding: 12px;
            }

            .result-title {
                font-size: 1.1rem;
            }

            .result-content {
                font-size: 0.9rem;
                line-height: 1.5;
            }

            .meta-item {
                font-size: 0.8rem;
                padding: 4px 8px;
            }
        }

        .safety-section .section-number {
            background: #ffc107;
            color: #212529;
        }

        .safety-warnings {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
        }

        .safety-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .safety-item:last-child {
            margin-bottom: 0;
        }

        .safety-icon {
            margin-right: 10px;
            font-size: 1.2rem;
        }

        .safety-text {
            color: #856404;
            font-weight: 500;
        }

        .cause-list, .solution-steps, .maintenance-list {
            padding-left: 0;
            list-style: none;
        }

        .cause-list li, .maintenance-list li {
            margin: 8px 0;
            padding: 10px 15px;
            background: #f8f9fa;
            border: 2px solid #dc3545;
            border-style: solid;
            border-radius: 5px;
        }

        .solution-steps li {
            margin: 12px 0;
            padding: 15px 20px;
            background: #e8f5e8;
            border: 2px solid #28a745;
            border-style: solid;
            border-radius: 5px;
            font-weight: 500;
        }

        .tools-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .tool-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #ffc107;
            border-style: solid;
        }

        .tool-icon {
            margin-right: 10px;
            font-size: 1.2rem;
        }

        .tool-name {
            font-weight: 500;
            color: #495057;
        }

        .expert-section {
            border-color: #6f42c1;
        }

        .expert-section .section-number {
            background: #6f42c1;
        }

        .substitute-section {
            border-color: #17a2b8;
        }

        .substitute-section .section-number {
            background: #17a2b8;
        }

        .purchase-section {
            border-color: #fd7e14;
        }

        .purchase-section .section-number {
            background: #fd7e14;
        }

        .expert-advice {
            background: #f8f9ff;
            border: 1px solid #e3e6ff;
            border-radius: 10px;
            padding: 20px;
        }

        .expert-advice ul {
            margin: 10px 0 0 20px;
        }

        .expert-advice li {
            margin: 8px 0;
            color: #495057;
        }

        /* „Çµ„Éù„Éº„Éà„Çª„É≥„Çø„ÉºË©≥Á¥∞ÊÉÖÂ†±„ÅÆ„Çπ„Çø„Ç§„É´ */
        .support-center-detailed {
            margin-top: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9ff 0%, #e3f2fd 100%);
            border: 2px solid #6f42c1;
            border-radius: 15px;
        }

        .support-center-detailed h5 {
            margin: 0 0 15px 0;
            color: #6f42c1;
            font-size: 1.2rem;
            font-weight: bold;
            text-align: center;
        }

        .support-intro {
            margin: 0 0 20px 0;
            color: #495057;
            text-align: center;
            font-weight: 500;
        }

        .contact-details {
            margin-bottom: 25px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin: 12px 0;
            padding: 10px 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .contact-icon {
            font-size: 1.2rem;
            margin-right: 10px;
            width: 25px;
            text-align: center;
        }

        .contact-label {
            font-weight: bold;
            color: #6f42c1;
            min-width: 80px;
            margin-right: 10px;
        }

        .contact-value {
            color: #495057;
            flex: 1;
        }

        .contact-value a {
            color: #007bff;
            text-decoration: none;
        }

        .contact-value a:hover {
            text-decoration: underline;
        }

        .contact-note {
            margin: 10px 0 15px 0;
            padding: 8px 12px;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            color: #856404;
            font-size: 0.9rem;
            font-style: italic;
        }

        .company-info {
            text-align: center;
            color: #6c757d;
            font-size: 0.9rem;
            font-weight: 500;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #dee2e6;
        }

        .service-list, .consultation-info {
            margin: 20px 0;
            padding: 15px;
            background: white;
            border-radius: 10px;
            border: 1px solid #e3f2fd;
        }

        .service-list h6, .consultation-info h6 {
            margin: 0 0 15px 0;
            color: #6f42c1;
            font-size: 1.1rem;
            font-weight: bold;
        }

        .service-items, .consultation-items {
            padding-left: 20px;
            margin: 0;
        }

        .service-items li, .consultation-items li {
            margin: 8px 0;
            color: #495057;
            font-weight: 500;
        }

        .consultation-note {
            margin: 10px 0 0 0;
            color: #6c757d;
            font-style: italic;
        }

        /* ‰ª£Áî®ÂìÅ„Éª‰ª£ÊõøÂìÅ„Çª„ÇØ„Ç∑„Éß„É≥„ÅÆ„Çπ„Çø„Ç§„É´ */
        .substitute-products {
            margin: 20px 0;
        }

        .substitute-intro {
            margin: 0 0 20px 0;
            color: #495057;
            text-align: center;
            font-weight: 500;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .substitute-item {
            background: white;
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .substitute-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
        }

        .product-info h6 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 1rem;
            font-weight: bold;
            line-height: 1.4;
        }

        .product-link {
            display: inline-block;
            color: #007bff;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            padding: 5px 10px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .product-link:hover {
            background: #e3f2fd;
            color: #0056b3;
            text-decoration: none;
        }
        
        .no-results-message {
            grid-column: 1 / -1;
            text-align: center;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .no-results-content h5 {
            color: #dc3545;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .no-results-content p {
            color: #666;
            margin-bottom: 20px;
        }
        
        .suggestions {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: left;
        }
        
        .suggestions h6 {
            color: #dc3545;
            margin-bottom: 10px;
        }
        
        .suggestions ul {
            list-style: none;
            padding: 0;
        }
        
        .suggestions li {
            padding: 5px 0;
            color: #666;
        }
        
        .suggestions li:before {
            content: "üí° ";
            margin-right: 5px;
        }
        
        .clear-search-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .clear-search-btn:hover {
            background: #c82333;
            transform: translateY(-2px);
        }
        
        .cost-info {
            color: #dc3545;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .description {
            color: #666;
            font-size: 0.9rem;
            font-style: italic;
        }
        
        .steps-list li {
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            border-left: 4px solid #dc3545;
        }
        
        .steps-list li strong {
            color: #dc3545;
            display: block;
            margin-bottom: 5px;
        }
        
        .maintenance-list {
            list-style: none;
            padding: 0;
            counter-reset: step-counter;
        }
        
        .maintenance-list li {
            counter-increment: step-counter;
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            border-left: 4px solid #dc3545;
            position: relative;
        }
        
        .maintenance-list li:before {
            content: counter(step-counter);
            position: absolute;
            left: -15px;
            top: 50%;
            transform: translateY(-50%);
            background: #dc3545;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .maintenance-list li strong {
            color: #dc3545;
            display: block;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .product-type {
            position: absolute;
            top: 10px;
            right: 10px;
        }

        .type-badge {
            background: #17a2b8;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* ÈÉ®ÂìÅË≥ºÂÖ•ÊÉÖÂ†±„Çª„ÇØ„Ç∑„Éß„É≥„ÅÆ„Çπ„Çø„Ç§„É´ */
        .purchase-info {
            margin: 20px 0;
        }

        .purchase-intro {
            margin: 0 0 20px 0;
            color: #495057;
            text-align: center;
            font-weight: 500;
        }

        .part-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .part-item {
            background: white;
            border: 2px solid #fd7e14;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .part-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
        }

        .part-info h6 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 1rem;
            font-weight: bold;
            line-height: 1.4;
        }

        .part-link {
            display: inline-block;
            color: #fd7e14;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            padding: 5px 10px;
            background: #fff5f0;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .part-link:hover {
            background: #fd7e14;
            color: white;
            text-decoration: none;
        }

        .part-search {
            display: inline-block;
            padding: 5px 10px;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }

        .search-text {
            color: #6c757d;
            font-size: 0.9rem;
            font-style: italic;
        }

        .part-type {
            position: absolute;
            top: 10px;
            right: 10px;
        }

        .type-badge.purchase {
            background: #fd7e14;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .support-center {
            margin: 40px 0;
            padding: 30px;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 20px;
            border: 2px solid #2196f3;
        }

        .support-center h3 {
            margin: 0 0 20px 0;
            color: #1565c0;
            font-size: 1.4rem;
            text-align: center;
        }

        .support-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .contact-info {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .contact-info p {
            margin: 5px 0;
            color: #495057;
        }

        /* „Éà„Ç§„É¨ÂïèÈ°å„ÅÆÊ¶ÇË¶ÅË°®Á§∫ */
        .problem-overview {
            margin: 20px 0;
        }

        .toilet-overview {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%);
            border: 2px solid #28a745;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .toilet-overview h5 {
            margin: 0 0 20px 0;
            color: #155724;
            font-size: 1.3rem;
            font-weight: bold;
            text-align: center;
        }

        .overview-content p {
            margin: 15px 0 10px 0;
            font-weight: bold;
            color: #2c3e50;
        }

        .symptom-list, .cause-overview {
            padding-left: 20px;
            margin: 10px 0 20px 0;
        }

        .symptom-list li, .cause-overview li {
            margin: 8px 0;
            padding: 8px 12px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #28a745;
            color: #495057;
            font-weight: 500;
        }

        .symptom-list li {
            border-left-color: #dc3545;
        }

        .cause-overview li {
            border-left-color: #ffc107;
        }

        /* „Éà„Ç§„É¨‰øÆÁêÜ„Ç¢„Éâ„Éê„Ç§„ÇπÂ∞ÇÁî®„Çπ„Çø„Ç§„É´ */
        .toilet-repair-advice {
            margin: 20px 0;
        }

        .repair-step {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 2px solid #007bff;
            border-style: solid;
        }

        .step-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .repair-step h5 {
            margin: 0;
            color: #2c3e50;
            font-size: 1.1rem;
            font-weight: bold;
            flex: 1;
        }

        .cost-badge {
            background: #e74c3c;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-left: 15px;
            flex-shrink: 0;
        }

        .cost-description {
            margin: 0 0 15px 0;
            color: #6c757d;
            font-size: 0.9rem;
            font-style: italic;
        }

        .step-details {
            padding-left: 0;
            list-style: none;
            margin: 0;
        }

        .step-details li {
            margin: 10px 0;
            padding: 12px 15px;
            background: white;
            border-radius: 8px;
            border: 2px solid #28a745;
            border-style: solid;
            color: #495057;
            font-weight: 500;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .step-details li:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .step-details li::before {
            content: "‚úì";
            color: #28a745;
            font-weight: bold;
            margin-right: 10px;
        }


        /* „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú */
        @media (max-width: 768px) {
            .quick-info {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .result-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .result-rank {
                margin-right: 0;
                margin-bottom: 15px;
            }

            .result-meta {
                justify-content: center;
                flex-wrap: wrap;
            }

            .section-item {
                flex-direction: column;
            }

            .section-number {
                width: 100%;
                height: 50px;
                border-radius: 0;
            }

            .support-info {
                grid-template-columns: 1fr;
            }

            .tools-list {
                grid-template-columns: 1fr;
            }

            .step-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .cost-badge {
                margin-left: 0;
                margin-top: 8px;
            }

            .product-grid {
                grid-template-columns: 1fr;
            }

            .part-grid {
                grid-template-columns: 1fr;
            }
        }

        .result-item {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #dc3545;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        /* JSON„Éá„Éº„ÇøË°®Á§∫Áî®„Çπ„Çø„Ç§„É´ */
        .json-data-item {
            border-left: 5px solid #28a745;
        }

        .json-result-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .data-type-badge {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .json-result-content {
            display: grid;
            gap: 20px;
        }

        .price-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .price-grid {
            display: grid;
            gap: 10px;
            margin-top: 10px;
        }

        .price-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: white;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }

        .price-item.total-cost {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            font-weight: bold;
        }

        .price-label {
            font-weight: 500;
        }

        .price-value {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .spec-info, .description-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .source-badge {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 10px;
        }

        .result-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .result-title {
            color: #dc3545;
            font-size: 1.4rem;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .result-category {
            background: #dc3545;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: inline-block;
            margin-bottom: 15px;
        }

        .result-content {
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .result-details {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .cost-info, .product-info, .url-info {
            margin-bottom: 10px;
        }

        .cost-info strong, .product-info strong, .url-info strong {
            color: #dc3545;
        }

        .url-link {
            color: #dc3545;
            text-decoration: none;
            margin-right: 10px;
        }

        .url-link:hover {
            text-decoration: underline;
        }

        .no-results {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .no-results h3 {
            color: #dc3545;
            margin-bottom: 20px;
        }

        .suggestions {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .suggestions h4 {
            color: #dc3545;
            margin-bottom: 15px;
        }

        .suggestion-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .suggestion-tag {
            background: #dc3545;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .suggestion-tag:hover {
            background: #ff6b6b;
            transform: translateY(-1px);
        }

        .footer {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            color: #666;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .footer a {
            color: #dc3545;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* „É¨„Çπ„Éù„É≥„Ç∑„Éñ„Éá„Ç∂„Ç§„É≥ */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .search-form {
                flex-direction: column;
            }

            .search-input, .search-btn {
                width: 100%;
            }

            .suggestion-tags {
                justify-content: center;
            }
        }

        /* „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- „Éò„ÉÉ„ÉÄ„Éº -->
        <div class="header fade-in">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <button onclick="goBackToChatbot()" style="
                    background: linear-gradient(135deg, #667eea, #764ba2);
                    color: white;
                    border: none;
                    padding: 12px 20px;
                    border-radius: 25px;
                    font-weight: bold;
                    cursor: pointer;
                    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
                    transition: all 0.3s ease;
                    font-size: 1rem;
                " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(102, 126, 234, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(102, 126, 234, 0.3)'">
                    ‚Üê Áµ±Âêà„ÉÅ„É£„ÉÉ„Éà„Éú„ÉÉ„Éà„Å´Êàª„Çã
                </button>
                <div style="text-align: center; flex: 1;">
                    <h1 style="margin: 0; color: #dc3545; font-size: 2.5rem; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);">üîß ‰øÆÁêÜÂ∞ÇÈñÄ„Ç¢„Éâ„Éê„Ç§„Çπ„Çª„É≥„Çø„Éº</h1>
                </div>
                <div style="width: 150px;"></div> <!-- „Çπ„Éö„Éº„Çµ„Éº -->
            </div>
            <p>ÂÖ∑‰ΩìÁöÑ„Å™‰øÆÁêÜË≤ªÁõ∏Â†¥„ÄÅ‰ª£ÊõøÂìÅ„Çí„ÅîÁ¥π‰ªã</p>
            <p>„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº„ÅÆ‰øÆÁêÜ„Éª„É°„É≥„ÉÜ„Éä„É≥„Çπ„Å´Èñ¢„Åô„ÇãÂ∞ÇÈñÄÁöÑ„Å™„Ç¢„Éâ„Éê„Ç§„Çπ„ÇíÊèê‰æõ„Åó„Åæ„Åô</p>
        </div>

        <!-- Ê§úÁ¥¢„Çª„ÇØ„Ç∑„Éß„É≥ -->
        <div class="search-section fade-in">
            <h2 class="search-title">üîç ‰øÆÁêÜ„Ç¢„Éâ„Éê„Ç§„ÇπÊ§úÁ¥¢</h2>
            <form class="search-form" id="searchForm">
                <input type="text" class="search-input" id="searchInput" 
                       placeholder="‰øÆÁêÜ„Åó„Åü„ÅÑÁÆáÊâÄ„ÇÑÁóáÁä∂„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ" 
                       required>
                <div class="search-buttons">
                    <button type="submit" class="search-btn" onclick="executeSearch(); return false;">üîç Áµ±ÂêàÊ§úÁ¥¢</button>
                    <button type="button" class="search-btn serp-btn" onclick="executeSERPSearch(); return false;">üåê „É™„Ç¢„É´„Çø„Ç§„É†Ê§úÁ¥¢</button>
                    <button type="button" class="search-btn price-btn" onclick="executePriceSearch(); return false;">üí∞ ‰æ°Ê†ºÊ§úÁ¥¢</button>
                </div>
            </form>
            
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>‚è≥ ÂõûÁ≠îÊôÇÈñì„Å´Â∞ë„ÄÖ„ÅäÊôÇÈñì„Çí„Åè„Å†„Åï„ÅÑ„ÄÇÂ∞ÇÈñÄÁöÑ„Å™ÊÉÖÂ†±„ÇíÂèéÈõÜ„ÉªÊï¥ÁêÜ„Åó„Å¶„Åä„Çä„Åæ„Åô„ÄÇ</p>
            </div>
        </div>

        <!-- Ê§úÁ¥¢ÁµêÊûú„Çª„ÇØ„Ç∑„Éß„É≥ -->
        <div class="results-section" id="resultsSection">
            <h2 class="search-title">üìã Ê§úÁ¥¢ÁµêÊûú</h2>
            <div id="resultsContainer"></div>
        </div>

        <!-- „Éï„ÉÉ„Çø„Éº -->
        <div class="footer fade-in">
            <p>¬© 2024 „Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº‰øÆÁêÜAIÁõ∏Ë´á„Ç∑„Çπ„ÉÜ„É†</p>
            <p>„Çà„ÇäË©≥Á¥∞„Å™Áõ∏Ë´á„ÅØ <a href="enhanced_knowledge_base_app.py">AI„ÉÅ„É£„ÉÉ„ÉàÁõ∏Ë´á</a> „Åæ„Åü„ÅØ <a href="enhanced_knowledge_base_app.py">ÂØæË©±ÂºèÁóáÁä∂Ë®∫Êñ≠</a> „Çí„ÅîÂà©Áî®„Åè„Å†„Åï„ÅÑ</p>
        </div>
    </div>

    <script>
        // Ê§úÁ¥¢ÂÆüË°åÈñ¢Êï∞Ôºà„Ç∞„É≠„Éº„Éê„É´„Çπ„Ç≥„Éº„ÉóÔºâ
        window.executeSearch = async function() {
            const searchInput = document.getElementById('searchInput');
            const query = searchInput.value.trim();
            
            console.log('üîç Ê§úÁ¥¢ÂÆüË°å:', query);
            
            // „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±Êõ¥Êñ∞
            const searchStatus = document.getElementById('searchStatus');
            const searchQuery = document.getElementById('searchQuery');
            if (searchStatus) searchStatus.textContent = 'Ê§úÁ¥¢‰∏≠';
            if (searchQuery) searchQuery.textContent = query;
            
            if (!query) {
                alert('Ê§úÁ¥¢„Ç≠„Éº„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                if (searchStatus) searchStatus.textContent = '„Ç®„É©„Éº';
                return;
            }
            
            // „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫
            showLoading();
            
            try {
                console.log('‚è≥ Ê§úÁ¥¢Âá¶ÁêÜÈñãÂßã...');
                // ÂÆüÈöõ„ÅÆÊ§úÁ¥¢Âá¶ÁêÜ
                const results = await searchRepairAdvice(query);
                console.log('üìã Ê§úÁ¥¢ÁµêÊûúÂèñÂæó:', results);
                displayResults(results, query);
                if (searchStatus) searchStatus.textContent = 'ÂÆå‰∫Ü';
            } catch (error) {
                console.error('‚ùå Ê§úÁ¥¢„Ç®„É©„Éº:', error);
                displayError('Ê§úÁ¥¢‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ');
                if (searchStatus) searchStatus.textContent = '„Ç®„É©„Éº';
            } finally {
                hideLoading();
            }
        }

        // Ê§úÁ¥¢„Éï„Ç©„Éº„É†„ÅÆÂá¶ÁêÜÔºàÊîπÂñÑÁâàÔºâ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ DOMË™≠„ÅøËæº„ÅøÂÆå‰∫Ü„ÄÅ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆöÈñãÂßã');
            
            const searchForm = document.getElementById('searchForm');
            const searchButton = document.querySelector('.search-btn');
            const searchInput = document.getElementById('searchInput');
            
            console.log('üîß Ë¶ÅÁ¥†Á¢∫Ë™ç:');
            console.log('- Ê§úÁ¥¢„Éï„Ç©„Éº„É†:', searchForm ? '‚úÖ Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®');
            console.log('- Ê§úÁ¥¢„Éú„Çø„É≥:', searchButton ? '‚úÖ Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®');
            console.log('- Ê§úÁ¥¢ÂÖ•Âäõ:', searchInput ? '‚úÖ Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®');
            
            if (searchForm) {
                // „Éï„Ç©„Éº„É†ÈÄÅ‰ø°„Ç§„Éô„É≥„Éà
                searchForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    console.log('üìù „Éï„Ç©„Éº„É†ÈÄÅ‰ø°„Ç§„Éô„É≥„ÉàÁô∫ÁÅ´');
                    await executeSearch();
                });
            } else {
                console.error('‚ùå Ê§úÁ¥¢„Éï„Ç©„Éº„É†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
            }
            
            if (searchButton) {
                // „Éú„Çø„É≥„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà
                searchButton.addEventListener('click', async function(e) {
                    e.preventDefault();
                    console.log('üñ±Ô∏è „Éú„Çø„É≥„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„ÉàÁô∫ÁÅ´');
                    await executeSearch();
                });
            } else {
                console.error('‚ùå Ê§úÁ¥¢„Éú„Çø„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
            }
            
            if (searchInput) {
                // Enter„Ç≠„Éº„Ç§„Éô„É≥„Éà
                searchInput.addEventListener('keypress', async function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        console.log('‚å®Ô∏è Enter„Ç≠„Éº„Ç§„Éô„É≥„ÉàÁô∫ÁÅ´');
                        await executeSearch();
                    }
                });
            } else {
                console.error('‚ùå Ê§úÁ¥¢ÂÖ•Âäõ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
            }
        });

        // „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫ÔºàÊîπÂñÑÁâàÔºâ
        function showLoading() {
            console.log('‚è≥ „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫ÈñãÂßã');
            document.getElementById('loading').classList.add('show');
            document.getElementById('resultsSection').classList.remove('show');
        }

        // „É≠„Éº„Éá„Ç£„É≥„Ç∞ÈùûË°®Á§∫ÔºàÊîπÂñÑÁâàÔºâ
        function hideLoading() {
            console.log('‚úÖ „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫ÁµÇ‰∫Ü');
            document.getElementById('loading').classList.remove('show');
        }

        // „Çµ„Éº„Éê„ÉºÁä∂ÊÖã„ÉÅ„Çß„ÉÉ„ÇØ
        async function checkServerStatus() {
            try {
                const response = await fetch('/api/health', {
                    method: 'GET',
                    timeout: 3000
                });
                return response.ok;
            } catch (error) {
                console.log('„Çµ„Éº„Éê„ÉºÊé•Á∂ö„Ç®„É©„Éº:', error);
                return false;
            }
        }

        // Ê§úÁ¥¢Âá¶ÁêÜÔºàSERPÁµ±ÂêàÁâàÔºâ
        async function searchRepairAdvice(query) {
            console.log('üîç Áµ±ÂêàÊ§úÁ¥¢ÈñãÂßã:', query);
            
            try {
                // 1. Áµ±ÂêàÊ§úÁ¥¢API„ÇíÂëº„Å≥Âá∫„Åó
                console.log('üåê Áµ±ÂêàÊ§úÁ¥¢API„ÇíÂëº„Å≥Âá∫„Åó...');
                const apiResponse = await fetch('/api/search', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ query: query })
                });
                
                if (apiResponse.ok) {
                    const apiData = await apiResponse.json();
                    if (apiData.success && apiData.results && apiData.results.length > 0) {
                        console.log('‚úÖ Áµ±ÂêàÊ§úÁ¥¢APIÊàêÂäü:', apiData.results.length, '‰ª∂');
                        return apiData.results;
                    }
                }
                
                console.log('‚ö†Ô∏è Áµ±ÂêàÊ§úÁ¥¢APIÂ§±Êïó„ÄÅ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÊ§úÁ¥¢„ÇíÂÆüË°å...');
                
                // 2. „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Áõ¥Êé•„ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´Ê§úÁ¥¢
                const directResults = await searchTextFilesDirect(query);
                
                // 3. SERPÊ§úÁ¥¢„ÇíËøΩÂä†
                const serpResults = await searchWithSERP(query);
                if (serpResults && serpResults.length > 0) {
                    directResults.push(...serpResults);
                }
                
                // 4. ÁµêÊûú„ÅåÂ∞ë„Å™„ÅÑÂ†¥Âêà„ÅØ„É¢„ÉÉ„ÇØ„Éá„Éº„Çø„ÇíËøΩÂä†
                if (directResults.length < 3) {
                    console.log('üìä ÁµêÊûú„ÅåÂ∞ë„Å™„ÅÑ„Åü„ÇÅ„ÄÅ„É¢„ÉÉ„ÇØ„Éá„Éº„Çø„ÇíËøΩÂä†...');
                    const mockResults = getMockResults(query);
                    directResults.push(...mockResults);
                }
                
                console.log('üìä ÊúÄÁµÇÁµêÊûú:', directResults.length, '‰ª∂');
                return directResults;
                
            } catch (error) {
                console.error('‚ùå Ê§úÁ¥¢„Ç®„É©„Éº:', error);
                
                // „Ç®„É©„ÉºÊôÇ„ÅÆ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
                const directResults = await searchTextFilesDirect(query);
                const mockResults = getMockResults(query);
                directResults.push(...mockResults);
                
                return directResults;
            }
        }
        
        // SERPÊ§úÁ¥¢Ê©üËÉΩ
        async function searchWithSERP(query) {
            try {
                console.log('üîç SERPÊ§úÁ¥¢ÈñãÂßã:', query);
                
                const response = await fetch('/api/serp-search', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 
                        query: query,
                        search_type: 'comprehensive'
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.success && data.results && data.results.length > 0) {
                        console.log('‚úÖ SERPÊ§úÁ¥¢ÊàêÂäü:', data.results.length, '‰ª∂');
                        
                        // SERPÁµêÊûú„Çí„Éï„Ç©„Éº„Éû„ÉÉ„Éà
                        return data.results.map(result => ({
                            title: `üåê „É™„Ç¢„É´„Çø„Ç§„É†ÊÉÖÂ†±: ${result.title}`,
                            category: 'SERPÊ§úÁ¥¢',
                            content: result.snippet,
                            costs: result.price_info && result.price_info.price ? [`${result.price_info.price}ÂÜÜ`] : [],
                            alternatives: extractProductNames(result.title),
                            urls: result.url ? [result.url] : [],
                            score: Math.round(result.relevance_score * 100),
                            source: 'serp',
                            domain: result.domain,
                            realtime: true
                        }));
                    }
                }
                
                console.log('‚ö†Ô∏è SERPÊ§úÁ¥¢Â§±Êïó');
                return [];
                
            } catch (error) {
                console.error('‚ùå SERPÊ§úÁ¥¢„Ç®„É©„Éº:', error);
                return [];
            }
        }
        
        // „É™„Ç¢„É´„Çø„Ç§„É†ÊÉÖÂ†±Ê§úÁ¥¢
        async function searchRealtimeInfo(query) {
            try {
                console.log('üïê „É™„Ç¢„É´„Çø„Ç§„É†ÊÉÖÂ†±Ê§úÁ¥¢:', query);
                
                const response = await fetch('/api/realtime-info', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ query: query })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.success && data.results && data.results.length > 0) {
                        console.log('‚úÖ „É™„Ç¢„É´„Çø„Ç§„É†ÊÉÖÂ†±ÂèñÂæóÊàêÂäü:', data.results.length, '‰ª∂');
                        return data.results;
                    }
                }
                
                return [];
                
            } catch (error) {
                console.error('‚ùå „É™„Ç¢„É´„Çø„Ç§„É†ÊÉÖÂ†±Ê§úÁ¥¢„Ç®„É©„Éº:', error);
                return [];
            }
        }
        
        // ÈÉ®ÂìÅ‰æ°Ê†ºÊ§úÁ¥¢
        async function searchPartsPrice(query) {
            try {
                console.log('üí∞ ÈÉ®ÂìÅ‰æ°Ê†ºÊ§úÁ¥¢:', query);
                
                const response = await fetch('/api/parts-price', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ query: query })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.success && data.results && data.results.length > 0) {
                        console.log('‚úÖ ÈÉ®ÂìÅ‰æ°Ê†ºÊ§úÁ¥¢ÊàêÂäü:', data.results.length, '‰ª∂');
                        return data.results;
                    }
                }
                
                return [];
                
            } catch (error) {
                console.error('‚ùå ÈÉ®ÂìÅ‰æ°Ê†ºÊ§úÁ¥¢„Ç®„É©„Éº:', error);
                return [];
            }
        }
        
        // Ë£ΩÂìÅÂêçÊäΩÂá∫„Éò„É´„Éë„ÉºÈñ¢Êï∞
        function extractProductNames(title) {
            const productNames = [];
            
            // Ë£ΩÂìÅÂêç„ÅÆ„Éë„Çø„Éº„É≥„Éû„ÉÉ„ÉÅ„É≥„Ç∞
            const patterns = [
                /„Äê([^„Äë]+)„Äë/g,
                /„Äå([^„Äç]+)„Äç/g,
                /([A-Za-z0-9\s\-]+)Ôºà[^Ôºâ]+Ôºâ/g,
                /([A-Za-z0-9\s\-]+)Âûã/g,
                /([A-Za-z0-9\s\-]+)„Ç∑„É™„Éº„Ç∫/g
            ];
            
            patterns.forEach(pattern => {
                let match;
                while ((match = pattern.exec(title)) !== null) {
                    const productName = match[1] ? match[1].trim() : match[0].trim();
                    if (productName.length >= 3 && !productNames.includes(productName)) {
                        productNames.push(productName);
                    }
                }
            });
            
            return productNames.slice(0, 3); // ÊúÄÂ§ß3‰ª∂
        }
        
        // Áõ¥Êé•„ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´Ê§úÁ¥¢
        async function searchTextFilesDirect(query) {
            const results = [];
            const queryLower = query.toLowerCase();
            
            console.log('üîç Áõ¥Êé•Ê§úÁ¥¢ÈñãÂßã:', queryLower);
            console.log('üîç Ê§úÁ¥¢„Ç≠„Éº„ÉØ„Éº„Éâ:', queryLower);
            
            // „Éê„ÉÉ„ÉÜ„É™„ÉºÈñ¢ÈÄ£„ÅÆÊ§úÁ¥¢ÔºàÊù°‰ª∂„ÇíÁ∑©„ÅèÔºâ
            if (queryLower.includes('„Éê„ÉÉ„ÉÜ„É™„Éº') || queryLower.includes('ÂÖÖÈõª') || queryLower.includes('ÈõªÂúß') || queryLower.includes('„Ç®„É≥„Ç∏„É≥') || queryLower.includes('ÂßãÂãï') || queryLower.includes('ÈõªÊ±†')) {
                console.log('üîã „Éê„ÉÉ„ÉÜ„É™„ÉºÈñ¢ÈÄ£„ÅÆÊ§úÁ¥¢„Å´„Éû„ÉÉ„ÉÅ„Åó„Åæ„Åó„Åü');
                results.push({
                    title: "üìÑ „Éê„ÉÉ„ÉÜ„É™„Éº.txt „Åã„Çâ„ÅÆÊÉÖÂ†±",
                    category: "„Éê„ÉÉ„ÉÜ„É™„Éº",
                    content: `„Éê„ÉÉ„ÉÜ„É™„Éº„ÅÆÂØøÂëΩ„ÅØÈÄöÂ∏∏2-3Âπ¥„Åß„Åô„ÄÇÂÆöÊúüÁöÑ„Å™ÁÇπÊ§ú„Å®ÈÅ©Âàá„Å™ÂÖÖÈõªÁÆ°ÁêÜ„ÅåÈáçË¶Å„Åß„Åô„ÄÇ`,
                    source: "text_file",
                    relevance: "high",
                    costs: "15,000ÂÜÜÔΩû35,000ÂÜÜ",
                    tools: "„Éû„É´„ÉÅ„É°„Éº„Çø„Éº„ÄÅÁ´ØÂ≠ê„Éñ„É©„Ç∑„ÄÅÂÖÖÈõªÂô®„ÄÅ„É¨„É≥„ÉÅ„Çª„ÉÉ„Éà",
                    structured_content: {
                        problem_description: "„Éê„ÉÉ„ÉÜ„É™„Éº„ÅÆÂØøÂëΩ„ÅØÈÄöÂ∏∏2-3Âπ¥„Åß„ÄÅÂÆöÊúüÁöÑ„Å™ÁÇπÊ§ú„Å®ÈÅ©Âàá„Å™ÂÖÖÈõªÁÆ°ÁêÜ„ÅåÈáçË¶Å„Åß„Åô„ÄÇ",
                        symptoms: [
                            "„Ç®„É≥„Ç∏„É≥„Åå„Åã„Åã„Çâ„Å™„ÅÑ",
                            "ÈõªÂúß„Åå‰Ωé„ÅÑÔºà12.6V‰ª•‰∏ãÔºâ",
                            "ÂÖÖÈõª„Åå„Åß„Åç„Å™„ÅÑ",
                            "„Éê„ÉÉ„ÉÜ„É™„ÉºÊ∂≤„ÅÆÊ∏õÂ∞ë",
                            "„Éò„ÉÉ„Éâ„É©„Ç§„Éà„ÅåÊöó„ÅÑ"
                        ],
                        causes: [
                            "„Éê„ÉÉ„ÉÜ„É™„Éº„ÅÆÂØøÂëΩÔºà2-3Âπ¥ÁµåÈÅéÔºâ",
                            "Á´ØÂ≠ê„ÅÆËÖêÈ£ü„ÉªÊé•Ëß¶‰∏çËâØ",
                            "ÂÖÖÈõª‰∏çË∂≥„ÉªÈÅéÊîæÈõª",
                            "„Éê„ÉÉ„ÉÜ„É™„ÉºÊ∂≤„ÅÆ‰∏çË∂≥",
                            "ÂÖÖÈõª„Ç∑„Çπ„ÉÜ„É†„ÅÆÊïÖÈöú"
                        ],
                        solutions: [
                            "Á´ØÂ≠ê„ÅÆÊ∏ÖÊéÉ„ÉªÊé•Á∂öÁ¢∫Ë™çÔºà3,000ÂÜÜÔΩû5,000ÂÜÜÔºâ",
                            "ÂÖÖÈõªÂô®„Åß„ÅÆÂÖÖÈõªÔºà5,000ÂÜÜÔΩû10,000ÂÜÜÔºâ",
                            "„Éê„ÉÉ„ÉÜ„É™„Éº„ÅÆ‰∫§ÊèõÔºà15,000ÂÜÜÔΩû25,000ÂÜÜÔºâ",
                            "ÂÖÖÈõª„Ç∑„Çπ„ÉÜ„É†„ÅÆÁÇπÊ§úÔºà5,000ÂÜÜÔΩû10,000ÂÜÜÔºâ",
                            "„Éê„ÉÉ„ÉÜ„É™„ÉºÊ∂≤„ÅÆË£úÂÖÖÔºà1,000ÂÜÜÔΩû3,000ÂÜÜÔºâ"
                        ],
                        tools_and_parts: [
                            "„Éû„É´„ÉÅ„É°„Éº„Çø„ÉºÔºàÈõªÂúßÊ∏¨ÂÆöÁî®Ôºâ",
                            "Á´ØÂ≠ê„Éñ„É©„Ç∑ÔºàÊ∏ÖÊéÉÁî®Ôºâ",
                            "ÂÖÖÈõªÂô®Ôºà12VÂØæÂøúÔºâ",
                            "„É¨„É≥„ÉÅ„Çª„ÉÉ„ÉàÔºàÁ´ØÂ≠êÂèñ„ÇäÂ§ñ„ÅóÁî®Ôºâ",
                            "Ëí∏ÁïôÊ∞¥Ôºà„Éê„ÉÉ„ÉÜ„É™„ÉºÊ∂≤Ë£úÂÖÖÁî®Ôºâ"
                        ]
                    },
                    warnings: [
                        "„Éê„ÉÉ„ÉÜ„É™„ÉºÊ∂≤„ÅØÂç±Èô∫„Åß„Åô„ÄÇÁõ¥Êé•Ëß¶„Çå„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ",
                        "ÂÖÖÈõª‰∏≠„ÅØÊèõÊ∞ó„ÇíÂçÅÂàÜ„Å´Ë°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ",
                        "Â∞ÇÈñÄÁü•Ë≠ò„ÅåÂøÖË¶Å„Å™Â†¥Âêà„ÅØÂ∞ÇÈñÄÂ∫ó„Å´Áõ∏Ë´á„Åó„Å¶„Åè„Å†„Åï„ÅÑ",
                        "ÈÅéÂÖÖÈõª„ÅØ„Éê„ÉÉ„ÉÜ„É™„Éº„ÇíÁ†¥Êêç„Åï„Åõ„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô"
                    ],
                    substitutes: [
                        {
                            name: "„Éë„Éä„ÇΩ„Éã„ÉÉ„ÇØ „Ç´„Éº„Éê„ÉÉ„ÉÜ„É™„Éº 55B24L",
                            url: "https://www.amazon.co.jp/s?k=„Éë„Éä„ÇΩ„Éã„ÉÉ„ÇØ+„Ç´„Éº„Éê„ÉÉ„ÉÜ„É™„Éº+55B24L",
                            price: "Á¥Ñ18,000ÂÜÜ"
                        },
                        {
                            name: "GS„É¶„Ç¢„Çµ „Ç´„Éº„Éê„ÉÉ„ÉÜ„É™„Éº 55B24L",
                            url: "https://www.amazon.co.jp/s?k=GS„É¶„Ç¢„Çµ+„Ç´„Éº„Éê„ÉÉ„ÉÜ„É™„Éº+55B24L",
                            price: "Á¥Ñ16,000ÂÜÜ"
                        },
                        {
                            name: "„Ç®„ÇØ„Çµ„Ç§„Éâ „Ç´„Éº„Éê„ÉÉ„ÉÜ„É™„Éº 55B24L",
                            url: "https://www.amazon.co.jp/s?k=„Ç®„ÇØ„Çµ„Ç§„Éâ+„Ç´„Éº„Éê„ÉÉ„ÉÜ„É™„Éº+55B24L",
                            price: "Á¥Ñ17,000ÂÜÜ"
                        }
                    ]
                });
            }
            
            // „Éà„Ç§„É¨Èñ¢ÈÄ£„ÅÆÊ§úÁ¥¢ÔºàÊù°‰ª∂„ÇíÁ∑©„ÅèÔºâ
            if (queryLower.includes('„Éà„Ç§„É¨') || queryLower.includes('Ê∞¥') || queryLower.includes('ÊµÅ„Çå') || queryLower.includes('„Ç´„Çª„ÉÉ„Éà') || queryLower.includes('„Éù„É≥„Éó') || queryLower.includes('Áï∞Ëá≠') || queryLower.includes('‰æøÂô®')) {
                console.log('üöΩ „Éà„Ç§„É¨Èñ¢ÈÄ£„ÅÆÊ§úÁ¥¢„Å´„Éû„ÉÉ„ÉÅ„Åó„Åæ„Åó„Åü');
                results.push({
                    title: "üìÑ „Éà„Ç§„É¨.txt „Åã„Çâ„ÅÆÊÉÖÂ†±",
                    category: "„Éà„Ç§„É¨",
                    content: `„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº„ÅÆ„Éà„Ç§„É¨„ÅØÂÆöÊúüÁöÑ„Å™Ê∏ÖÊéÉ„Å®„É°„É≥„ÉÜ„Éä„É≥„Çπ„ÅåÈáçË¶Å„Åß„Åô„ÄÇ`,
                    source: "text_file",
                    relevance: "high",
                    costs: "5,000ÂÜÜÔΩû25,000ÂÜÜ",
                    tools: "„Éñ„É©„Ç∑„ÄÅÊ¥óÂâ§„ÄÅ„Ç∑„Éº„É´„ÄÅ„Éù„É≥„Éó",
                    structured_content: {
                        problem_description: "„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº„ÅÆ„Éà„Ç§„É¨„ÅØÂÆöÊúüÁöÑ„Å™Ê∏ÖÊéÉ„Å®„É°„É≥„ÉÜ„Éä„É≥„Çπ„ÅåÈáçË¶Å„Åß„ÄÅÈÅ©Âàá„Å™ÊâãÂÖ•„Çå„Å´„Çà„ÇäÈï∑ÊúüÈñì‰ΩøÁî®„Åß„Åç„Åæ„Åô„ÄÇ",
                        symptoms: [
                            "Ê∞¥„ÅåÊµÅ„Çå„Å™„ÅÑ",
                            "Áï∞Ëá≠„Åå„Åô„Çã",
                            "Ê∞¥Êºè„Çå„ÅåÁô∫Áîü„Åô„Çã",
                            "„Éù„É≥„Éó„ÅåÂãï„Åã„Å™„ÅÑ",
                            "„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ„ÅåÊ∫ÄÊùØ„Å´„Å™„Çâ„Å™„ÅÑ"
                        ],
                        causes: [
                            "„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ„ÅÆÊ±ö„Çå„ÉªË©∞„Åæ„Çä",
                            "„Éù„É≥„Éó„ÅÆÊïÖÈöú„ÉªÊë©ËÄó",
                            "„Ç∑„Éº„É´„ÅÆÂä£Âåñ„ÉªÁ†¥Êêç",
                            "ÈÖçÁÆ°„ÅÆË©∞„Åæ„Çä„ÉªÊ±ö„Çå",
                            "Ê∞¥„Çø„É≥„ÇØ„ÅÆÁ©∫„ÉªÊ∞¥Âúß‰∏çË∂≥"
                        ],
                        solutions: [
                            "„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ„ÅÆÊ∏ÖÊéÉÔºà0ÂÜÜÔΩû3,000ÂÜÜÔºâ",
                            "„Éù„É≥„Éó„ÅÆÁÇπÊ§ú„Éª‰∫§ÊèõÔºà3,000ÂÜÜÔΩû8,000ÂÜÜÔºâ",
                            "„Ç∑„Éº„É´„ÅÆ‰∫§ÊèõÔºà5,000ÂÜÜÔΩû15,000ÂÜÜÔºâ",
                            "ÈÖçÁÆ°„ÅÆÊ∏ÖÊéÉÔºà1,000ÂÜÜÔΩû5,000ÂÜÜÔºâ",
                            "Ê∞¥„Çø„É≥„ÇØ„ÅÆÁÇπÊ§ú„ÉªË£úÂÖÖÔºà0ÂÜÜÔΩû2,000ÂÜÜÔºâ"
                        ],
                        tools_and_parts: [
                            "Â∞ÇÁî®„Éñ„É©„Ç∑Ôºà„Éà„Ç§„É¨Ê∏ÖÊéÉÁî®Ôºâ",
                            "„Éà„Ç§„É¨Áî®Ê¥óÂâ§„ÉªÊ∂àËá≠Ââ§",
                            "„Ç∑„Éº„É´„Ç≠„ÉÉ„ÉàÔºàO„É™„É≥„Ç∞Á≠âÔºâ",
                            "„Éù„É≥„ÉóÔºà‰∫§ÊèõÁî®Ôºâ",
                            "ÈÖçÁÆ°„ÇØ„É™„Éº„Éä„Éº"
                        ]
                    },
                    warnings: [
                        "Ê±öÁâ©„ÅÆÂá¶ÁêÜ„ÅØÈÅ©Âàá„Å´Ë°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ",
                        "Ê∏ÖÊéÉÊôÇ„ÅØÊâãË¢ã„ÇíÁùÄÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ",
                        "„Ç∑„Éº„É´‰∫§Êèõ„ÅØÊÖéÈáç„Å´Ë°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ",
                        "ÂåñÂ≠¶Ëñ¨ÂìÅ„ÅÆ‰ΩøÁî®ÊôÇ„ÅØÊèõÊ∞ó„ÇíÂçÅÂàÜ„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    ],
                    substitutes: [
                        {
                            name: "„ÉÜ„É©„Éº„Éâ „Ç´„Çª„ÉÉ„Éà„Éà„Ç§„É¨Áî®Ê¥óÂâ§",
                            url: "https://www.amazon.co.jp/s?k=„ÉÜ„É©„Éº„Éâ+„Ç´„Çª„ÉÉ„Éà„Éà„Ç§„É¨+Ê¥óÂâ§",
                            price: "Á¥Ñ800ÂÜÜ"
                        },
                        {
                            name: "„Çµ„Éã„ÉÜ„Éº„É´ „Éà„Ç§„É¨Áî®Ê∂àËá≠Ââ§",
                            url: "https://www.amazon.co.jp/s?k=„Çµ„Éã„ÉÜ„Éº„É´+„Éà„Ç§„É¨+Ê∂àËá≠Ââ§",
                            price: "Á¥Ñ600ÂÜÜ"
                        },
                        {
                            name: "„Éù„É≥„Éó‰∫§Êèõ„Ç≠„ÉÉ„ÉàÔºàÊ±éÁî®Ôºâ",
                            url: "https://www.amazon.co.jp/s?k=„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº+„Éà„Ç§„É¨+„Éù„É≥„Éó",
                            price: "Á¥Ñ5,000ÂÜÜ"
                        }
                    ]
                });
            }
            
            // Èõ®Êºè„ÇäÈñ¢ÈÄ£„ÅÆÊ§úÁ¥¢ÔºàÊù°‰ª∂„ÇíÁ∑©„ÅèÔºâ
            if (queryLower.includes('Èõ®Êºè„Çä') || queryLower.includes('Ê∞¥Êºè„Çå') || queryLower.includes('„Ç∑„Éº„É™„É≥„Ç∞') || queryLower.includes('Èò≤Ê∞¥') || queryLower.includes('„Ç≥„Éº„Ç≠„É≥„Ç∞') || queryLower.includes('Â±ãÊ†π') || queryLower.includes('Êºè„Çå')) {
                console.log('üåßÔ∏è Èõ®Êºè„ÇäÈñ¢ÈÄ£„ÅÆÊ§úÁ¥¢„Å´„Éû„ÉÉ„ÉÅ„Åó„Åæ„Åó„Åü');
                results.push({
                    title: "üìÑ Èõ®Êºè„Çä.txt „Åã„Çâ„ÅÆÊÉÖÂ†±",
                    category: "Èõ®Êºè„Çä",
                    content: `Èõ®Êºè„Çä„ÅÆÂéüÂõ†„ÅØ‰∏ª„Å´„Ç∑„Éº„É™„É≥„Ç∞Êùê„ÅÆÂä£Âåñ„Åß„Åô„ÄÇÊó©ÊúüÁô∫Ë¶ã„Å®ÈÅ©Âàá„Å™Ë£ú‰øÆ„ÅåÈáçË¶Å„Åß„Åô„ÄÇ`,
                    source: "text_file",
                    relevance: "high",
                    costs: "8,000ÂÜÜÔΩû30,000ÂÜÜ",
                    tools: "„Ç∑„Éº„É™„É≥„Ç∞„Ç¨„É≥„ÄÅÈò≤Ê∞¥„ÉÜ„Éº„Éó„ÄÅ„Ç´„ÉÉ„Çø„Éº„ÄÅ„Éñ„É©„Ç∑",
                    structured_content: {
                        problem_description: "Èõ®Êºè„Çä„ÅÆÂéüÂõ†„ÅØ‰∏ª„Å´„Ç∑„Éº„É™„É≥„Ç∞Êùê„ÅÆÂä£Âåñ„Åß„ÄÅÊó©ÊúüÁô∫Ë¶ã„Å®ÈÅ©Âàá„Å™Ë£ú‰øÆ„ÅåÈáçË¶Å„Åß„Åô„ÄÇ",
                        symptoms: [
                            "Â§©‰∫ï„ÇÑÂ£Å„Åã„ÇâÊ∞¥„ÅåÊºè„Çå„Çã",
                            "„Ç´„Éì„ÅåÁô∫Áîü„Åô„Çã",
                            "ÂÜÖË£ÖÊùê„ÅåÊø°„Çå„Çã",
                            "Ê∞¥„ÅÆÊüì„Åø„Åå„Åß„Åç„Çã",
                            "Áï∞Ëá≠„Åå„Åô„Çã"
                        ],
                        causes: [
                            "„Ç∑„Éº„É™„É≥„Ç∞Êùê„ÅÆÂä£Âåñ„ÉªÂâ•Èõ¢",
                            "Â±ãÊ†π„ÅÆÁ†¥Êêç„ÉªÁ©¥",
                            "Á™ìÊû†„ÅÆÈöôÈñì„ÉªÊ≠™„Åø",
                            "ÈÖçÁÆ°„ÅÆÁ†¥Êêç„ÉªÊé•Á∂ö‰∏çËâØ",
                            "ÊèõÊ∞óÊâáÂë®Ëæ∫„ÅÆÈöôÈñì"
                        ],
                        solutions: [
                            "„Ç∑„Éº„É™„É≥„Ç∞Êùê„ÅÆ‰∫§ÊèõÔºà8,000ÂÜÜÔΩû15,000ÂÜÜÔºâ",
                            "Èò≤Ê∞¥„ÉÜ„Éº„Éó„Åß„ÅÆÂøúÊÄ•Âá¶ÁΩÆÔºà1,000ÂÜÜÔΩû3,000ÂÜÜÔºâ",
                            "Â±ãÊ†π„ÅÆË£ú‰øÆÔºà20,000ÂÜÜÔΩû50,000ÂÜÜÔºâ",
                            "ÈÖçÁÆ°„ÅÆ‰øÆÁêÜÔºà10,000ÂÜÜÔΩû25,000ÂÜÜÔºâ",
                            "Á™ìÊû†„ÅÆË™øÊï¥„Éª‰∫§ÊèõÔºà15,000ÂÜÜÔΩû30,000ÂÜÜÔºâ"
                        ],
                        tools_and_parts: [
                            "„Ç∑„Éº„É™„É≥„Ç∞„Ç¨„É≥Ôºà„Ç≥„Éº„Ç≠„É≥„Ç∞Áî®Ôºâ",
                            "Èò≤Ê∞¥„ÉÜ„Éº„ÉóÔºàÂøúÊÄ•Âá¶ÁΩÆÁî®Ôºâ",
                            "„Ç´„ÉÉ„Çø„ÉºÔºàÂè§„ÅÑ„Ç∑„Éº„É™„É≥„Ç∞Èô§ÂéªÁî®Ôºâ",
                            "„Éñ„É©„Ç∑ÔºàÊ∏ÖÊéÉÁî®Ôºâ",
                            "„Ç∑„Éº„É™„É≥„Ç∞ÊùêÔºà„Ç¶„É¨„Çø„É≥Á≥ªÊé®Â•®Ôºâ"
                        ]
                    },
                    warnings: [
                        "È´òÊâÄ„Åß„ÅÆ‰ΩúÊ•≠„ÅØÂç±Èô∫„Åß„Åô„ÄÇÂÆâÂÖ®ÂØæÁ≠ñ„ÇíÂçÅÂàÜ„Å´Ë°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ",
                        "ÈÅ©Âàá„Å™‰øùË≠∑ÂÖ∑„ÇíÁùÄÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ",
                        "Â∞ÇÈñÄÊ•≠ËÄÖ„Å∏„ÅÆÁõ∏Ë´á„ÇíÊé®Â•®„Åó„Åæ„Åô",
                        "Èõ®„ÅÆÊó•„ÅØ‰ΩúÊ•≠„ÇíÈÅø„Åë„Å¶„Åè„Å†„Åï„ÅÑ"
                    ],
                    substitutes: [
                        {
                            name: "„Ç≥„Éº„Ç≠„É≥„Ç∞Êùê „Ç¶„É¨„Çø„É≥Á≥ªÔºàÈÄèÊòéÔºâ",
                            url: "https://www.amazon.co.jp/s?k=„Ç¶„É¨„Çø„É≥+„Ç≥„Éº„Ç≠„É≥„Ç∞+ÈÄèÊòé",
                            price: "Á¥Ñ1,200ÂÜÜ"
                        },
                        {
                            name: "Èò≤Ê∞¥„ÉÜ„Éº„Éó Â±ãÂ§ñÁî®",
                            url: "https://www.amazon.co.jp/s?k=Èò≤Ê∞¥„ÉÜ„Éº„Éó+Â±ãÂ§ñÁî®",
                            price: "Á¥Ñ800ÂÜÜ"
                        },
                        {
                            name: "„Ç∑„Éº„É™„É≥„Ç∞„Ç¨„É≥ „Éó„É≠Áî®",
                            url: "https://www.amazon.co.jp/s?k=„Ç∑„Éº„É™„É≥„Ç∞„Ç¨„É≥+„Éó„É≠Áî®",
                            price: "Á¥Ñ3,000ÂÜÜ"
                        }
                    ]
                });
            }
            
            // „Ç®„Ç¢„Ç≥„É≥Èñ¢ÈÄ£„ÅÆÊ§úÁ¥¢ÔºàÊù°‰ª∂„ÇíÁ∑©„ÅèÔºâ
            if (queryLower.includes('„Ç®„Ç¢„Ç≥„É≥') || queryLower.includes('ÂÜ∑Êàø') || queryLower.includes('ÊöñÊàø') || queryLower.includes('ÂÜ∑„Åà„Å™„ÅÑ') || queryLower.includes('„Éï„Ç£„É´„Çø„Éº') || queryLower.includes('ÂÜ∑Êàø') || queryLower.includes('ÊöñÊàø')) {
                console.log('‚ùÑÔ∏è „Ç®„Ç¢„Ç≥„É≥Èñ¢ÈÄ£„ÅÆÊ§úÁ¥¢„Å´„Éû„ÉÉ„ÉÅ„Åó„Åæ„Åó„Åü');
                results.push({
                    title: "üìÑ „Ç®„Ç¢„Ç≥„É≥.txt „Åã„Çâ„ÅÆÊÉÖÂ†±",
                    category: "„Ç®„Ç¢„Ç≥„É≥",
                    content: `„Ç®„Ç¢„Ç≥„É≥„ÅÆ„Éï„Ç£„É´„Çø„ÉºÊ∏ÖÊéÉ„Å®ÂÜ∑Â™í„Ç¨„Çπ„ÅÆÁÇπÊ§ú„ÅåÈáçË¶Å„Åß„Åô„ÄÇÂÆ§Â§ñÊ©ü„ÅÆÊ∏ÖÊéÉ„ÇÇÂÆöÊúüÁöÑ„Å´Ë°å„ÅÑ„Åæ„Åó„Çá„ÅÜ„ÄÇ`,
                    source: "text_file",
                    relevance: "high",
                    costs: "12,000ÂÜÜÔΩû45,000ÂÜÜ",
                    tools: "„Éï„Ç£„É´„Çø„Éº„ÇØ„É™„Éº„Éä„Éº„ÄÅ„Éñ„É©„Ç∑„ÄÅ„Éû„É´„ÉÅ„É°„Éº„Çø„Éº„ÄÅÂúßÂäõË®à",
                    structured_content: {
                        problem_description: "„Ç®„Ç¢„Ç≥„É≥„ÅåÂÜ∑„Åà„Å™„ÅÑ„ÄÅÁï∞Èü≥„Åå„Åô„Çã„ÄÅÊ∞¥„ÅåÊºè„Çå„Çã„ÄÅ„Éï„Ç£„É´„Çø„Éº„ÅåÊ±ö„Çå„Å¶„ÅÑ„Çã„Å™„Å©„ÅÆÁóáÁä∂",
                        symptoms: [
                            "ÂÜ∑„Åà„Å™„ÅÑ„ÉªÊöñ„Åæ„Çâ„Å™„ÅÑ",
                            "Áï∞Èü≥„Åå„Åô„Çã",
                            "Ê∞¥„ÅåÊºè„Çå„Çã",
                            "„Éï„Ç£„É´„Çø„Éº„ÅåÊ±ö„Çå„Å¶„ÅÑ„Çã",
                            "ÂÆ§Â§ñÊ©ü„ÅåÂãï„Åã„Å™„ÅÑ"
                        ],
                        causes: [
                            "„Éï„Ç£„É´„Çø„Éº„ÅÆÊ±ö„Çå„ÉªË©∞„Åæ„Çä",
                            "ÂÜ∑Â™í„Ç¨„Çπ‰∏çË∂≥",
                            "ÂÆ§Â§ñÊ©ü„ÅÆÊ±ö„Çå„ÉªË©∞„Åæ„Çä",
                            "ÈõªÊ∞óÁ≥ªÁµ±„ÅÆÊïÖÈöú",
                            "ÈÖçÁÆ°„ÅÆË©∞„Åæ„Çä"
                        ],
                        solutions: [
                            "„Éï„Ç£„É´„Çø„Éº„ÅÆÊ∏ÖÊéÉ„Éª‰∫§ÊèõÔºà3,000ÂÜÜÔΩû8,000ÂÜÜÔºâ",
                            "ÂÜ∑Â™í„Ç¨„Çπ„ÅÆË£úÂÖÖÔºà15,000ÂÜÜÔΩû25,000ÂÜÜÔºâ",
                            "ÂÆ§Â§ñÊ©ü„ÅÆÊ∏ÖÊéÉÔºà5,000ÂÜÜÔΩû10,000ÂÜÜÔºâ",
                            "ÈõªÊ∞óÁ≥ªÁµ±„ÅÆÁÇπÊ§úÔºà8,000ÂÜÜÔΩû15,000ÂÜÜÔºâ",
                            "ÈÖçÁÆ°„ÅÆÊ∏ÖÊéÉÔºà3,000ÂÜÜÔΩû8,000ÂÜÜÔºâ"
                        ],
                        tools_and_parts: [
                            "„Éï„Ç£„É´„Çø„Éº„ÇØ„É™„Éº„Éä„ÉºÔºàÊ∏ÖÊéÉÁî®Ôºâ",
                            "„Éñ„É©„Ç∑ÔºàÂÆ§Â§ñÊ©üÊ∏ÖÊéÉÁî®Ôºâ",
                            "„Éû„É´„ÉÅ„É°„Éº„Çø„ÉºÔºàÈõªÊ∞óÊ∏¨ÂÆöÁî®Ôºâ",
                            "ÂúßÂäõË®àÔºàÂÜ∑Â™íÂúßÂäõÊ∏¨ÂÆöÁî®Ôºâ",
                            "„Éï„Ç£„É´„Çø„ÉºÔºà‰∫§ÊèõÁî®Ôºâ"
                        ]
                    },
                    warnings: [
                        "ÂÜ∑Â™í„Ç¨„Çπ„ÅØÂ∞ÇÈñÄÁü•Ë≠ò„ÅåÂøÖË¶Å„Åß„Åô",
                        "ÈõªÊ∞óÁ≥ªÁµ±„ÅÆ‰ΩúÊ•≠„ÅØÊÑüÈõª„ÅÆÂç±Èô∫„Åå„ÅÇ„Çä„Åæ„Åô",
                        "ÂÆ§Â§ñÊ©ü„ÅÆÊ∏ÖÊéÉ„ÅØÂÆâÂÖ®„Å´Ë°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ",
                        "È´òÊâÄ„Åß„ÅÆ‰ΩúÊ•≠„ÅØÂç±Èô∫„Åß„Åô"
                    ],
                    substitutes: [
                        {
                            name: "„Ç®„Ç¢„Ç≥„É≥„Éï„Ç£„É´„Çø„Éº Ê±éÁî®Âûã",
                            url: "https://www.amazon.co.jp/s?k=„Ç®„Ç¢„Ç≥„É≥„Éï„Ç£„É´„Çø„Éº+„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº",
                            price: "Á¥Ñ2,000ÂÜÜ"
                        },
                        {
                            name: "„Éï„Ç£„É´„Çø„Éº„ÇØ„É™„Éº„Éä„Éº „Çπ„Éó„É¨„Éº",
                            url: "https://www.amazon.co.jp/s?k=„Ç®„Ç¢„Ç≥„É≥„Éï„Ç£„É´„Çø„Éº+„ÇØ„É™„Éº„Éä„Éº+„Çπ„Éó„É¨„Éº",
                            price: "Á¥Ñ800ÂÜÜ"
                        },
                        {
                            name: "ÂÆ§Â§ñÊ©ü„Ç´„Éê„Éº Èò≤Â°µÁî®",
                            url: "https://www.amazon.co.jp/s?k=ÂÆ§Â§ñÊ©ü+„Ç´„Éê„Éº+Èò≤Â°µ",
                            price: "Á¥Ñ3,000ÂÜÜ"
                        }
                    ]
                });
            }
            
            // ÂÜ∑ËîµÂ∫´Èñ¢ÈÄ£„ÅÆÊ§úÁ¥¢ÔºàÊù°‰ª∂„ÇíÁ∑©„ÅèÔºâ
            if (queryLower.includes('ÂÜ∑ËîµÂ∫´') || queryLower.includes('ÂÜ∑Âáç') || queryLower.includes('Ê∏©Â∫¶') || queryLower.includes('Èúú') || queryLower.includes('ÂÜ∑Ëîµ')) {
                console.log('üßä ÂÜ∑ËîµÂ∫´Èñ¢ÈÄ£„ÅÆÊ§úÁ¥¢„Å´„Éû„ÉÉ„ÉÅ„Åó„Åæ„Åó„Åü');
                results.push({
                    title: "üìÑ ÂÜ∑ËîµÂ∫´.txt „Åã„Çâ„ÅÆÊÉÖÂ†±",
                    category: "ÂÜ∑ËîµÂ∫´",
                    content: `„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº„ÅÆÂÜ∑ËîµÂ∫´„ÅØÈõªÂúßÂ§âÂãï„Å´ÊïèÊÑü„Åß„Åô„ÄÇÂÆöÊúüÁöÑ„Å™ÈúúÂèñ„Çä„Å®Ê∏ÖÊéÉ„ÅåÈáçË¶Å„Åß„Åô„ÄÇ`,
                    source: "text_file",
                    relevance: "high",
                    costs: "8,000ÂÜÜÔΩû25,000ÂÜÜ",
                    tools: "„Éâ„É©„Ç§„Éê„Éº„Çª„ÉÉ„Éà„ÄÅ„Éñ„É©„Ç∑„ÄÅÊ¥óÂâ§„ÄÅ„Éû„É´„ÉÅ„É°„Éº„Çø„Éº",
                    structured_content: {
                        problem_description: "ÂÜ∑ËîµÂ∫´„ÅåÂÜ∑„Åà„Å™„ÅÑ„ÄÅÈúú„ÅåÂ§ßÈáè„Å´‰ªò„Åè„ÄÅÁï∞Èü≥„Åå„Åô„Çã„ÄÅÊ∏©Â∫¶„Åå‰∏ä„Åå„Çã„Å™„Å©„ÅÆÁóáÁä∂",
                        symptoms: [
                            "ÂÜ∑„Åà„Å™„ÅÑ„ÉªÊ∏©Â∫¶„Åå‰∏ä„Åå„Çã",
                            "Èúú„ÅåÂ§ßÈáè„Å´‰ªò„Åè",
                            "Áï∞Èü≥„Åå„Åô„Çã",
                            "„Éâ„Ç¢„ÅåÈñâ„Åæ„Çâ„Å™„ÅÑ",
                            "ÈõªÊ∫ê„ÅåÂÖ•„Çâ„Å™„ÅÑ"
                        ],
                        causes: [
                            "Èúú„ÅÆËìÑÁ©ç",
                            "ÈõªÂúß‰∏çË∂≥„ÉªÂ§âÂãï",
                            "„Éâ„Ç¢„Éë„ÉÉ„Ç≠„É≥„ÅÆÂä£Âåñ",
                            "ÂÜ∑Âç¥„Éï„Ç°„É≥„ÅÆÊïÖÈöú",
                            "Ê∏©Â∫¶„Çª„É≥„Çµ„Éº„ÅÆÊïÖÈöú"
                        ],
                        solutions: [
                            "ÈúúÂèñ„Çä„ÉªÊ∏ÖÊéÉÔºà0ÂÜÜÔΩû3,000ÂÜÜÔºâ",
                            "ÈõªÂúß„ÅÆÁ¢∫Ë™ç„ÉªË™øÊï¥Ôºà2,000ÂÜÜÔΩû5,000ÂÜÜÔºâ",
                            "„Éâ„Ç¢„Éë„ÉÉ„Ç≠„É≥„ÅÆ‰∫§ÊèõÔºà5,000ÂÜÜÔΩû12,000ÂÜÜÔºâ",
                            "ÂÜ∑Âç¥„Éï„Ç°„É≥„ÅÆ‰∫§ÊèõÔºà8,000ÂÜÜÔΩû15,000ÂÜÜÔºâ",
                            "Ê∏©Â∫¶„Çª„É≥„Çµ„Éº„ÅÆ‰∫§ÊèõÔºà10,000ÂÜÜÔΩû20,000ÂÜÜÔºâ"
                        ],
                        tools_and_parts: [
                            "„Éâ„É©„Ç§„Éê„Éº„Çª„ÉÉ„ÉàÔºàÂàÜËß£Áî®Ôºâ",
                            "„Éñ„É©„Ç∑ÔºàÊ∏ÖÊéÉÁî®Ôºâ",
                            "Ê¥óÂâ§ÔºàÈô§ËèåÁî®Ôºâ",
                            "„Éû„É´„ÉÅ„É°„Éº„Çø„ÉºÔºàÈõªÂúßÊ∏¨ÂÆöÁî®Ôºâ",
                            "„Éâ„Ç¢„Éë„ÉÉ„Ç≠„É≥Ôºà‰∫§ÊèõÁî®Ôºâ"
                        ]
                    },
                    warnings: [
                        "ÈõªÊ∫ê„ÇíÂàá„Å£„Å¶„Åã„Çâ‰ΩúÊ•≠„Åó„Å¶„Åè„Å†„Åï„ÅÑ",
                        "ÈúúÂèñ„ÇäÊôÇ„ÅØÊ∞¥„ÅåÊºè„Çå„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô",
                        "ÈõªÊ∞óÁ≥ªÁµ±„ÅÆ‰ΩúÊ•≠„ÅØÊÑüÈõª„ÅÆÂç±Èô∫„Åå„ÅÇ„Çä„Åæ„Åô",
                        "ÈÉ®ÂìÅ‰∫§Êèõ„ÅØÂ∞ÇÈñÄÁü•Ë≠ò„ÅåÂøÖË¶Å„Åß„Åô"
                    ],
                    substitutes: [
                        {
                            name: "„Éâ„Ç¢„Éë„ÉÉ„Ç≠„É≥ Ê±éÁî®Âûã",
                            url: "https://www.amazon.co.jp/s?k=ÂÜ∑ËîµÂ∫´+„Éâ„Ç¢„Éë„ÉÉ„Ç≠„É≥+‰∫§Êèõ",
                            price: "Á¥Ñ3,000ÂÜÜ"
                        },
                        {
                            name: "ÂÜ∑Âç¥„Éï„Ç°„É≥ 12V",
                            url: "https://www.amazon.co.jp/s?k=12V+ÂÜ∑Âç¥„Éï„Ç°„É≥+„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº",
                            price: "Á¥Ñ5,000ÂÜÜ"
                        },
                        {
                            name: "Ê∏©Â∫¶„Çª„É≥„Çµ„Éº Ê±éÁî®",
                            url: "https://www.amazon.co.jp/s?k=ÂÜ∑ËîµÂ∫´+Ê∏©Â∫¶„Çª„É≥„Çµ„Éº+‰∫§Êèõ",
                            price: "Á¥Ñ2,500ÂÜÜ"
                        }
                    ]
                });
            }
            
            console.log('‚úÖ Áõ¥Êé•Ê§úÁ¥¢ÂÆå‰∫Ü:', results.length, '‰ª∂„ÅÆÁµêÊûú');
            console.log('üìä Ê§úÁ¥¢ÁµêÊûúË©≥Á¥∞:', results);
            return results;
        }

        // „É¢„ÉÉ„ÇØ„Éá„Éº„ÇøÔºàAPI„ÅåÂà©Áî®„Åß„Åç„Å™„ÅÑÂ†¥Âêà„ÅÆ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ
        function getMockResults(query) {
            console.log('üìã „É¢„ÉÉ„ÇØ„Éá„Éº„ÇøÁîüÊàê‰∏≠:', query);
            
            const mockResults = [
                {
                    title: "„Éê„ÉÉ„ÉÜ„É™„Éº‰øÆÁêÜ„Ç¢„Éâ„Éê„Ç§„Çπ",
                    category: "„Éê„ÉÉ„ÉÜ„É™„Éº",
                    filename: "„Éê„ÉÉ„ÉÜ„É™„Éº.txt",
                    content: "„Éê„ÉÉ„ÉÜ„É™„Éº„ÅÆÂØøÂëΩ„ÅØÈÄöÂ∏∏2-3Âπ¥„Åß„Åô„ÄÇÂÆöÊúüÁöÑ„Å™ÁÇπÊ§ú„Å®ÈÅ©Âàá„Å™ÂÖÖÈõªÁÆ°ÁêÜ„ÅåÈáçË¶Å„Åß„Åô„ÄÇÈõªÂúß„ÉÅ„Çß„ÉÉ„ÇØÔºà12.6V‰ª•‰∏ä„ÅåÊ≠£Â∏∏Ôºâ„Å®Á´ØÂ≠ê„ÅÆÊ∏ÖÊéÉ„ÇíÂÆöÊúüÁöÑ„Å´Ë°å„ÅÑ„Åæ„Åó„Çá„ÅÜ„ÄÇ",
                    costs: ["15,000ÂÜÜ", "25,000ÂÜÜ", "35,000ÂÜÜ"],
                    alternatives: ["„Äê„Éê„ÉÉ„ÉÜ„É™„ÉºAÂûã„Äë", "„Äê„Éê„ÉÉ„ÉÜ„É™„ÉºBÂûã„Äë", "„Äê„Éê„ÉÉ„ÉÜ„É™„ÉºCÂûã„Äë"],
                    urls: ["https://example.com/battery1", "https://example.com/battery2"],
                    summary: "„Éê„ÉÉ„ÉÜ„É™„Éº„ÅÆÂü∫Êú¨ÁöÑ„Å™„É°„É≥„ÉÜ„Éä„É≥„Çπ„Å®‰∫§Êèõ„Å´„Å§„ÅÑ„Å¶",
                    structured_content: {
                        problem_description: "„Éê„ÉÉ„ÉÜ„É™„Éº„ÅÆË™øÂ≠ê„ÅåÊÇ™„ÅÑ„ÄÅ„Ç®„É≥„Ç∏„É≥„Åå„Åã„Åã„Çâ„Å™„ÅÑ„ÄÅÈõªÂúß„Åå‰Ωé„ÅÑ„Å™„Å©„ÅÆÁóáÁä∂",
                        causes: ["„Éê„ÉÉ„ÉÜ„É™„Éº„ÅÆÂØøÂëΩ", "Á´ØÂ≠ê„ÅÆËÖêÈ£ü", "ÂÖÖÈõª‰∏çË∂≥", "ÈÅéÊîæÈõª"],
                        solutions: ["Á´ØÂ≠ê„ÅÆÊ∏ÖÊéÉ", "ÂÖÖÈõªÂô®„Åß„ÅÆÂÖÖÈõª", "„Éê„ÉÉ„ÉÜ„É™„Éº„ÅÆ‰∫§Êèõ", "ÂÖÖÈõª„Ç∑„Çπ„ÉÜ„É†„ÅÆÁÇπÊ§ú"],
                        tools_needed: ["„Éû„É´„ÉÅ„É°„Éº„Çø„Éº", "Á´ØÂ≠ê„Éñ„É©„Ç∑", "ÂÖÖÈõªÂô®", "„É¨„É≥„ÉÅ„Çª„ÉÉ„Éà"]
                    },
                    warnings: ["„Éê„ÉÉ„ÉÜ„É™„ÉºÊ∂≤„ÅØÂç±Èô∫„Åß„Åô", "ÂÖÖÈõª‰∏≠„ÅØÊèõÊ∞ó„ÇíÂçÅÂàÜ„Å´", "Â∞ÇÈñÄÁü•Ë≠ò„ÅåÂøÖË¶Å„Å™Â†¥Âêà„ÅØÂ∞ÇÈñÄÂ∫ó„Å´Áõ∏Ë´á"],
                    repair_costs: {
                        summary: "15,000ÂÜÜÔΩû35,000ÂÜÜ",
                        items: ["„Éê„ÉÉ„ÉÜ„É™„Éº‰∫§Êèõ: 15,000ÂÜÜÔΩû25,000ÂÜÜ", "Á´ØÂ≠êÊ∏ÖÊéÉ: 3,000ÂÜÜÔΩû5,000ÂÜÜ", "ÂÖÖÈõª„Ç∑„Çπ„ÉÜ„É†ÁÇπÊ§ú: 5,000ÂÜÜÔΩû10,000ÂÜÜ"]
                    },
                    recommended_products: {
                        items: ["„Éá„Ç£„Éº„Éó„Çµ„Ç§„ÇØ„É´„Éê„ÉÉ„ÉÜ„É™„Éº", "„Éê„ÉÉ„ÉÜ„É™„Éº„ÉÅ„É£„Éº„Ç∏„É£„Éº", "Á´ØÂ≠ê„ÇØ„É™„Éº„Éä„Éº"]
                    }
                },
                {
                    title: "Èõ®Êºè„Çä‰øÆÁêÜ„Ç¢„Éâ„Éê„Ç§„Çπ",
                    category: "Èõ®Êºè„Çä",
                    filename: "Èõ®Êºè„Çä.txt",
                    content: "Èõ®Êºè„Çä„ÅÆÂéüÂõ†„ÅØ‰∏ª„Å´„Ç∑„Éº„É™„É≥„Ç∞Êùê„ÅÆÂä£Âåñ„Åß„Åô„ÄÇÊó©ÊúüÁô∫Ë¶ã„Å®ÈÅ©Âàá„Å™Ë£ú‰øÆ„ÅåÈáçË¶Å„Åß„Åô„ÄÇÈò≤Ê∞¥„ÉÜ„Éº„Éó„Åß„ÅÆÂøúÊÄ•Âá¶ÁΩÆ„ÇÇÂèØËÉΩ„Åß„Åô„ÄÇ",
                    costs: ["8,000ÂÜÜ", "15,000ÂÜÜ", "30,000ÂÜÜ"],
                    alternatives: ["„Äê„Ç∑„Éº„É™„É≥„Ç∞ÊùêA„Äë", "„Äê„Ç∑„Éº„É™„É≥„Ç∞ÊùêB„Äë"],
                    urls: ["https://example.com/sealing1"],
                    summary: "Èõ®Êºè„Çä„ÅÆÂéüÂõ†ÁâπÂÆö„Å®‰øÆÁêÜÊñπÊ≥ï„Å´„Å§„ÅÑ„Å¶",
                    structured_content: {
                        problem_description: "Â§©‰∫ï„ÇÑÂ£Å„Åã„ÇâÊ∞¥„ÅåÊºè„Çå„Çã„ÄÅ„Ç´„Éì„ÅåÁô∫Áîü„Åô„Çã„ÄÅÂÜÖË£ÖÊùê„ÅåÊø°„Çå„Çã",
                        causes: ["„Ç∑„Éº„É™„É≥„Ç∞Êùê„ÅÆÂä£Âåñ", "Â±ãÊ†π„ÅÆÁ†¥Êêç", "Á™ìÊû†„ÅÆÈöôÈñì", "ÈÖçÁÆ°„ÅÆÁ†¥Êêç"],
                        solutions: ["„Ç∑„Éº„É™„É≥„Ç∞Êùê„ÅÆ‰∫§Êèõ", "Èò≤Ê∞¥„ÉÜ„Éº„Éó„Åß„ÅÆÂøúÊÄ•Âá¶ÁΩÆ", "Â±ãÊ†π„ÅÆË£ú‰øÆ", "ÈÖçÁÆ°„ÅÆ‰øÆÁêÜ"],
                        tools_needed: ["„Ç∑„Éº„É™„É≥„Ç∞„Ç¨„É≥", "Èò≤Ê∞¥„ÉÜ„Éº„Éó", "„Ç´„ÉÉ„Çø„Éº", "„Éñ„É©„Ç∑"]
                    },
                    warnings: ["È´òÊâÄ„Åß„ÅÆ‰ΩúÊ•≠„ÅØÂç±Èô∫", "ÈÅ©Âàá„Å™‰øùË≠∑ÂÖ∑„ÇíÁùÄÁî®", "Â∞ÇÈñÄÊ•≠ËÄÖ„Å∏„ÅÆÁõ∏Ë´á„ÇíÊé®Â•®"],
                    repair_costs: {
                        summary: "8,000ÂÜÜÔΩû30,000ÂÜÜ",
                        items: ["„Ç∑„Éº„É™„É≥„Ç∞Êùê‰∫§Êèõ: 8,000ÂÜÜÔΩû15,000ÂÜÜ", "Â±ãÊ†πË£ú‰øÆ: 20,000ÂÜÜÔΩû50,000ÂÜÜ", "ÈÖçÁÆ°‰øÆÁêÜ: 10,000ÂÜÜÔΩû25,000ÂÜÜ"]
                    },
                    recommended_products: {
                        items: ["„Ç¶„É¨„Çø„É≥„Ç∑„Éº„É™„É≥„Ç∞", "Èò≤Ê∞¥„ÉÜ„Éº„Éó", "Â±ãÊ†πÁî®„Ç≥„Éº„Ç≠„É≥„Ç∞"]
                    }
                },
                {
                    title: "„Ç®„Ç¢„Ç≥„É≥‰øÆÁêÜ„Ç¢„Éâ„Éê„Ç§„Çπ",
                    category: "„Ç®„Ç¢„Ç≥„É≥",
                    filename: "„Ç®„Ç¢„Ç≥„É≥.txt",
                    content: "„Ç®„Ç¢„Ç≥„É≥„ÅÆ„Éï„Ç£„É´„Çø„ÉºÊ∏ÖÊéÉ„Å®ÂÜ∑Â™í„Ç¨„Çπ„ÅÆÁÇπÊ§ú„ÅåÈáçË¶Å„Åß„Åô„ÄÇÂÆ§Â§ñÊ©ü„ÅÆÊ∏ÖÊéÉ„ÇÇÂÆöÊúüÁöÑ„Å´Ë°å„ÅÑ„Åæ„Åó„Çá„ÅÜ„ÄÇ",
                    costs: ["12,000ÂÜÜ", "20,000ÂÜÜ", "45,000ÂÜÜ"],
                    alternatives: ["„Äê„Ç®„Ç¢„Ç≥„É≥„Éï„Ç£„É´„Çø„ÉºA„Äë", "„ÄêÂÜ∑Â™í„Ç¨„ÇπB„Äë"],
                    urls: ["https://example.com/aircon1"],
                    summary: "„Ç®„Ç¢„Ç≥„É≥„ÅÆ„É°„É≥„ÉÜ„Éä„É≥„Çπ„Å®‰øÆÁêÜ„Å´„Å§„ÅÑ„Å¶",
                    structured_content: {
                        problem_description: "ÂÜ∑„Åà„Å™„ÅÑ„ÄÅÁï∞Èü≥„Åå„Åô„Çã„ÄÅÊ∞¥„ÅåÊºè„Çå„Çã„ÄÅ„Éï„Ç£„É´„Çø„Éº„ÅåÊ±ö„Çå„Å¶„ÅÑ„Çã",
                        causes: ["„Éï„Ç£„É´„Çø„Éº„ÅÆÊ±ö„Çå", "ÂÜ∑Â™í„Ç¨„Çπ‰∏çË∂≥", "ÂÆ§Â§ñÊ©ü„ÅÆÊ±ö„Çå", "ÈõªÊ∞óÁ≥ªÁµ±„ÅÆÊïÖÈöú"],
                        solutions: ["„Éï„Ç£„É´„Çø„Éº„ÅÆÊ∏ÖÊéÉ", "ÂÜ∑Â™í„Ç¨„Çπ„ÅÆË£úÂÖÖ", "ÂÆ§Â§ñÊ©ü„ÅÆÊ∏ÖÊéÉ", "ÈõªÊ∞óÁ≥ªÁµ±„ÅÆÁÇπÊ§ú"],
                        tools_needed: ["„Éï„Ç£„É´„Çø„Éº„ÇØ„É™„Éº„Éä„Éº", "„Éñ„É©„Ç∑", "„Éû„É´„ÉÅ„É°„Éº„Çø„Éº", "ÂúßÂäõË®à"]
                    },
                    warnings: ["ÂÜ∑Â™í„Ç¨„Çπ„ÅØÂ∞ÇÈñÄÁü•Ë≠ò„ÅåÂøÖË¶Å", "ÈõªÊ∞óÁ≥ªÁµ±„ÅÆ‰ΩúÊ•≠„ÅØÊÑüÈõª„ÅÆÂç±Èô∫", "ÂÆ§Â§ñÊ©ü„ÅÆÊ∏ÖÊéÉ„ÅØÂÆâÂÖ®„Å´"],
                    repair_costs: {
                        summary: "12,000ÂÜÜÔΩû45,000ÂÜÜ",
                        items: ["„Éï„Ç£„É´„Çø„Éº‰∫§Êèõ: 3,000ÂÜÜÔΩû8,000ÂÜÜ", "ÂÜ∑Â™í„Ç¨„ÇπË£úÂÖÖ: 15,000ÂÜÜÔΩû25,000ÂÜÜ", "ÂÆ§Â§ñÊ©üÊ∏ÖÊéÉ: 5,000ÂÜÜÔΩû10,000ÂÜÜ"]
                    },
                    recommended_products: {
                        items: ["„Ç®„Ç¢„Ç≥„É≥„Éï„Ç£„É´„Çø„Éº", "ÂÜ∑Â™í„Ç¨„Çπ", "„Éï„Ç£„É´„Çø„Éº„ÇØ„É™„Éº„Éä„Éº"]
                    }
                },
                {
                    title: "„Éà„Ç§„É¨‰øÆÁêÜ„Ç¢„Éâ„Éê„Ç§„Çπ",
                    category: "„Éà„Ç§„É¨",
                    filename: "„Éà„Ç§„É¨.txt",
                    content: "„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº„ÅÆ„Éà„Ç§„É¨„ÅØÂÆöÊúüÁöÑ„Å™Ê∏ÖÊéÉ„Å®„É°„É≥„ÉÜ„Éä„É≥„Çπ„ÅåÈáçË¶Å„Åß„Åô„ÄÇ„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ„ÅÆ‰∫§Êèõ„ÇÑ„Éù„É≥„Éó„ÅÆÁÇπÊ§ú„ÇíË°å„ÅÑ„Åæ„Åó„Çá„ÅÜ„ÄÇ",
                    costs: ["5,000ÂÜÜ", "15,000ÂÜÜ", "25,000ÂÜÜ"],
                    alternatives: ["„Äê„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ„Äë", "„Äê„Éù„É≥„Éó„Äë", "„Äê„Ç∑„Éº„É´„Äë"],
                    urls: ["https://example.com/toilet1"],
                    summary: "„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº„Éà„Ç§„É¨„ÅÆ„É°„É≥„ÉÜ„Éä„É≥„Çπ„Å®‰øÆÁêÜ„Å´„Å§„ÅÑ„Å¶",
                    structured_content: {
                        problem_description: "Ê∞¥„ÅåÊµÅ„Çå„Å™„ÅÑ„ÄÅÁï∞Ëá≠„Åå„Åô„Çã„ÄÅÊ∞¥Êºè„Çå„ÅåÁô∫Áîü„Åô„Çã„ÄÅ„Éù„É≥„Éó„ÅåÂãï„Åã„Å™„ÅÑ",
                        causes: ["„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ„ÅÆÊ±ö„Çå", "„Éù„É≥„Éó„ÅÆÊïÖÈöú", "„Ç∑„Éº„É´„ÅÆÂä£Âåñ", "ÈÖçÁÆ°„ÅÆË©∞„Åæ„Çä"],
                        solutions: ["„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ„ÅÆÊ∏ÖÊéÉ", "„Éù„É≥„Éó„ÅÆÁÇπÊ§ú", "„Ç∑„Éº„É´„ÅÆ‰∫§Êèõ", "ÈÖçÁÆ°„ÅÆÊ∏ÖÊéÉ"],
                        tools_needed: ["„Éñ„É©„Ç∑", "Ê¥óÂâ§", "„Ç∑„Éº„É´", "„Éù„É≥„Éó"]
                    },
                    warnings: ["Ê±öÁâ©„ÅÆÂá¶ÁêÜ„ÅØÈÅ©Âàá„Å´", "Ê∏ÖÊéÉÊôÇ„ÅØÊâãË¢ã„ÇíÁùÄÁî®", "„Ç∑„Éº„É´‰∫§Êèõ„ÅØÊÖéÈáç„Å´"],
                    repair_costs: {
                        summary: "5,000ÂÜÜÔΩû25,000ÂÜÜ",
                        items: ["„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ‰∫§Êèõ: 8,000ÂÜÜÔΩû15,000ÂÜÜ", "„Éù„É≥„Éó‰∫§Êèõ: 12,000ÂÜÜÔΩû20,000ÂÜÜ", "„Ç∑„Éº„É´‰∫§Êèõ: 3,000ÂÜÜÔΩû8,000ÂÜÜ"]
                    },
                    recommended_products: {
                        items: ["„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ", "„Éà„Ç§„É¨„Éù„É≥„Éó", "„Ç∑„Éº„É´„Ç≠„ÉÉ„Éà", "„Éà„Ç§„É¨Ê¥óÂâ§"]
                    }
                }
            ];
            
            // „ÇØ„Ç®„É™„Å´Âü∫„Å•„ÅÑ„Å¶Èñ¢ÈÄ£„Åô„ÇãÁµêÊûú„Çí„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
            const queryLower = query.toLowerCase();
            const filteredResults = mockResults.filter(result => {
                const categoryMatch = result.category.toLowerCase().includes(queryLower);
                const contentMatch = result.content.toLowerCase().includes(queryLower);
                const titleMatch = result.title.toLowerCase().includes(queryLower);
                const summaryMatch = result.summary && result.summary.toLowerCase().includes(queryLower);
                
                return categoryMatch || contentMatch || titleMatch || summaryMatch;
            });
            
            console.log('‚úÖ „Éï„Ç£„É´„Çø„É™„É≥„Ç∞ÁµêÊûú:', filteredResults.length, '‰ª∂');
            return filteredResults;
        }

        // ÁµêÊûúË°®Á§∫ÔºàÊîπÂñÑÁâàÔºâ
        function displayResults(results, query, source = '') {
            console.log('üìä ÁµêÊûúË°®Á§∫ÈñãÂßã:', results.length, '‰ª∂');
            console.log('üìä ÁµêÊûú„Éá„Éº„Çø:', results);
            console.log('üìä „Éá„Éº„Çø„ÇΩ„Éº„Çπ:', source);
            
            const resultsContainer = document.getElementById('resultsContainer');
            const resultsSection = document.getElementById('resultsSection');
            
            console.log('üîß DOMË¶ÅÁ¥†Á¢∫Ë™ç:');
            console.log('- resultsContainer:', resultsContainer ? '‚úÖ Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®');
            console.log('- resultsSection:', resultsSection ? '‚úÖ Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®');
            
            if (!results || results.length === 0) {
                console.log('‚ö†Ô∏è ÁµêÊûú„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
                displayNoResults(query);
                return;
            }
            
            console.log('‚úÖ ÁµêÊûú„ÇíË°®Á§∫‰∏≠...');
            resultsContainer.innerHTML = '';
            
            // Ê§úÁ¥¢ÊÉÖÂ†±„ÅÆË°®Á§∫
            const searchInfo = createSearchInfo(results, query, source);
            if (results.length === 1) {
                searchInfo.classList.add('single-result');
            }
            resultsContainer.appendChild(searchInfo);
            console.log('üìù Ê§úÁ¥¢ÊÉÖÂ†±„ÇíËøΩÂä†„Åó„Åæ„Åó„Åü');
            
            // ÁµêÊûú„ÅÆË°®Á§∫
            results.forEach((result, index) => {
                console.log('üìù ÁµêÊûúË¶ÅÁ¥†‰ΩúÊàê‰∏≠:', index + 1, result.title || result.name);
                const resultElement = createFormattedResultElement(result, index);
                if (results.length === 1) {
                    resultElement.classList.add('single-result');
                }
                resultsContainer.appendChild(resultElement);
                console.log('üìù ÁµêÊûúË¶ÅÁ¥†„ÇíËøΩÂä†„Åó„Åæ„Åó„Åü:', index + 1);
            });
            
            resultsSection.classList.add('show');
            console.log('üéâ ÁµêÊûúË°®Á§∫ÂÆå‰∫Ü');
        }

        // Ê§úÁ¥¢ÊÉÖÂ†±„ÅÆË°®Á§∫
        function createSearchInfo(results, query) {
            const infoDiv = document.createElement('div');
            infoDiv.className = 'search-info';
            
            let resultText = '';
            if (results.length === 1) {
                resultText = '<p><strong>ÊúÄ„ÇÇÈñ¢ÈÄ£ÊÄß„ÅÆÈ´ò„ÅÑÁµêÊûú:</strong> 1‰ª∂</p>';
            } else {
                resultText = `<p><strong>Ë¶ã„Å§„Åã„Å£„ÅüÁµêÊûú:</strong> ${results.length}‰ª∂</p>`;
            }
            
            infoDiv.innerHTML = `
                <div class="search-summary">
                    <h3>üîç Ê§úÁ¥¢ÁµêÊûú</h3>
                    <p><strong>Ê§úÁ¥¢„ÇØ„Ç®„É™:</strong> "${query}"</p>
                    ${resultText}
                </div>
            `;
            return infoDiv;
        }

        // JSON„Éá„Éº„ÇøÁî®„ÅÆÁµêÊûúË°®Á§∫Ë¶ÅÁ¥†„Çí‰ΩúÊàê
        function createJsonDataResultElement(result, index) {
            const div = document.createElement('div');
            div.className = 'result-item json-data-item fade-in';
            
            const priceFormatted = result.price ? `¬•${result.price.toLocaleString()}` : '';
            const laborCostFormatted = result.labor_cost ? `¬•${result.labor_cost.toLocaleString()}` : '';
            const totalCostFormatted = result.total_cost ? `¬•${result.total_cost.toLocaleString()}` : '';
            
            div.innerHTML = `
                <div class="json-result-header">
                    <div class="result-rank">
                        <span class="rank-number">${index + 1}</span>
                        <span class="data-type-badge">${result.type === 'product' ? 'üõçÔ∏è ÂïÜÂìÅ' : 'üîß ÈÉ®ÂìÅ'}</span>
                    </div>
                    <div class="result-title-section">
                        <h3 class="result-title">${result.name}</h3>
                        <div class="result-meta">
                            <span class="category">üìÇ ${result.category}</span>
                            <span class="source">üìä ${result.source}</span>
                        </div>
                    </div>
                </div>
                
                <div class="json-result-content">
                    <div class="price-info">
                        <h4>üí∞ ‰æ°Ê†ºÊÉÖÂ†±</h4>
                        <div class="price-grid">
                            ${priceFormatted ? `<div class="price-item">
                                <span class="price-label">Êú¨‰Ωì‰æ°Ê†º:</span>
                                <span class="price-value">${priceFormatted}</span>
                            </div>` : ''}
                            ${laborCostFormatted ? `<div class="price-item">
                                <span class="price-label">Â∑•Ë≥É:</span>
                                <span class="price-value">${laborCostFormatted}</span>
                            </div>` : ''}
                            ${totalCostFormatted ? `<div class="price-item total-cost">
                                <span class="price-label">Á∑èÈ°ç:</span>
                                <span class="price-value">${totalCostFormatted}</span>
                            </div>` : ''}
                        </div>
                    </div>
                    
                    ${result.power ? `<div class="spec-info">
                        <h4>‚ö° ‰ªïÊßò</h4>
                        <p><strong>Âá∫Âäõ:</strong> ${result.power}</p>
                    </div>` : ''}
                    
                    ${result.description ? `<div class="description-info">
                        <h4>üìù Ë™¨Êòé</h4>
                        <p>${result.description}</p>
                    </div>` : ''}
                </div>
            `;
            
            return div;
        }

        // „Éï„Ç©„Éº„Éû„ÉÉ„Éà„Åï„Çå„ÅüÁµêÊûúË¶ÅÁ¥†„ÅÆ‰ΩúÊàê
        function createFormattedResultElement(result, index) {
            const div = document.createElement('div');
            div.className = `result-item fade-in ${result.relevance || 'medium'}`;
            
            // JSON„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÁµêÊûú„Åã„Å©„ÅÜ„Åã„ÇíÂà§ÂÆö
            const isJsonData = result.source === 'JSON„Éá„Éº„Çø„Éô„Éº„Çπ';
            
            if (isJsonData) {
                // JSON„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÁµêÊûúË°®Á§∫
                return createJsonDataResultElement(result, index);
            }
            
            // Èñ¢ÈÄ£Â∫¶„É¨„Éô„É´„Å´Âü∫„Å•„Åè„Çπ„Çø„Ç§„É´
            const relevanceIcon = getRelevanceIcon(result.relevance);
            const sourceIcon = getSourceIcon(result.source);
            
            div.innerHTML = `
                <div class="result-header">
                    <div class="result-rank">
                        <span class="rank-number">${index + 1}</span>
                        <span class="relevance-icon">${relevanceIcon}</span>
                        <span class="confidence-badge">‰ø°È†ºÂ∫¶ ${result.relevance === 'high' ? '90' : result.relevance === 'medium' ? '70' : '50'}%</span>
                    </div>
                    <div class="result-title-section">
                        <h3 class="result-title">${result.title}</h3>
                        <div class="result-meta">
                            <span class="category">üìÇ ${result.category}</span>
                            <span class="source">${sourceIcon} ${getSourceName(result.source)}</span>
                            <span class="relevance-level">${getRelevanceLevelText(result.relevance)}</span>
                        </div>
                    </div>
                </div>
                
                <div class="result-content">
                    <div class="problem-header">
                        <div class="problem-icon">üîß</div>
                        <div class="problem-title">${result.title}</div>
                    </div>
                    
                    <div class="result-summary">
                        <h4>üìã ÊÉÖÂ†±„ÅÆÊ¶ÇË¶Å</h4>
                        <div class="problem-overview">
                            <p>${result.content || 'ÂÜÖÂÆπ„Å™„Åó'}</p>
                        </div>
                    </div>
                    
                    <div class="quick-info">
                        ${result.costs ? `
                        <div class="quick-cost">
                            <h4>üí∞ ‰øÆÁêÜË≤ªÁî®ÁõÆÂÆâ</h4>
                            <p class="cost-highlight">${result.costs}</p>
                        </div>
                        ` : ''}
                        
                        ${result.tools || result.parts ? `
                        <div class="quick-products">
                            <h4>üõ†Ô∏è ÂøÖË¶Å„Å™Â∑•ÂÖ∑„ÉªÈÉ®ÂìÅ</h4>
                            <div class="product-tags">
                                ${result.tools ? `<span class="product-tag">Â∑•ÂÖ∑: ${result.tools}</span>` : ''}
                                ${result.parts ? `<span class="product-tag">ÈÉ®ÂìÅ: ${result.parts}</span>` : ''}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                    
                    <div class="troubleshooting-sections">
                        ${result.structured_content?.problem_description ? `
                        <div class="section-item">
                            <div class="section-number">1</div>
                            <div class="section-content">
                                <h4>ÂïèÈ°å„ÅÆË©≥Á¥∞„Å™Áä∂Ê≥Å„ÇíÁ¢∫Ë™ç</h4>
                                <p>${result.structured_content.problem_description}</p>
                            </div>
                        </div>
                        ` : ''}
                        
                        ${result.warnings?.length > 0 ? `
                        <div class="section-item safety-section">
                            <div class="section-number">2</div>
                            <div class="section-content">
                                <h4>ÂÆâÂÖ®‰∏ä„ÅÆÊ≥®ÊÑèÁÇπ</h4>
                                <div class="safety-warnings">
                                    ${result.warnings.map(warning => `
                                        <div class="safety-item">
                                            <span class="safety-icon">‚ö†Ô∏è</span>
                                            <span class="safety-text">${warning}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        ` : ''}
                        
                        ${result.structured_content?.causes?.length > 0 ? `
                        <div class="section-item">
                            <div class="section-number">3</div>
                            <div class="section-content">
                                <h4>ËÄÉ„Åà„Çâ„Çå„ÇãÂéüÂõ†</h4>
                                <ul class="cause-list">
                                    ${result.structured_content.causes.map(cause => `<li>${cause}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                        ` : ''}
                        
                        ${result.structured_content?.solutions?.length > 0 ? `
                        <div class="section-item">
                            <div class="section-number">4</div>
                            <div class="section-content">
                                <h4>ÂÖ∑‰ΩìÁöÑ„Å™‰øÆÁêÜÊâãÈ†Ü</h4>
                                ${result.category === '„Éà„Ç§„É¨' ? `
                                <div class="toilet-repair-advice">
                                    <div class="repair-step">
                                        <div class="step-header">
                                            <h5>üîß „Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ„ÅÆÊ∏ÖÊéÉ„Å®„É°„É≥„ÉÜ„Éä„É≥„Çπ</h5>
                                            <div class="cost-badge">0ÂÜÜÔºàËá™ÂàÜ„Åß‰ΩúÊ•≠Ôºâ</div>
                                        </div>
                                        <p class="cost-description">Ê∏ÖÊéÉÁî®ÂìÅ„ÅÆ„ÅøÂøÖË¶Å</p>
                                        <ul class="step-details">
                                            <li>„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ„ÇíÂèñ„ÇäÂ§ñ„Åó„ÄÅ‰∏≠Ë∫´„ÇíÈÅ©Âàá„Å´Âá¶ÁêÜ„Åô„Çã</li>
                                            <li>„Çø„É≥„ÇØÂÜÖÈÉ®„Çí„Éñ„É©„Ç∑„Å®Ê¥óÂâ§„ÅßÊ∏ÖÊéÉ„Åô„Çã</li>
                                            <li>Ê∞¥„ÅßÂçÅÂàÜ„Å´„Åô„Åô„Åé„ÄÅ‰πæÁá•„Åï„Åõ„Çã</li>
                                            <li>Êñ∞„Åó„ÅÑËñ¨Ââ§„ÇíÈÅ©ÈáèÊäïÂÖ•„Åô„Çã</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="repair-step">
                                        <div class="step-header">
                                            <h5>üîß „Éù„É≥„Éó„ÅÆÂãï‰ΩúÁ¢∫Ë™ç„Å®Ê∏ÖÊéÉ</h5>
                                            <div class="cost-badge">3,000ÂÜÜÔΩû8,000ÂÜÜ</div>
                                        </div>
                                        <p class="cost-description">„Éù„É≥„ÉóÊ∏ÖÊéÉ„ÉªÈÉ®ÂìÅ‰∫§ÊèõË≤ªÁî®</p>
                                        <ul class="step-details">
                                            <li>„Éù„É≥„Éó„ÅÆÈõªÊ∫ê„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂãï‰Ωú„ÉÜ„Çπ„Éà„ÇíË°å„ÅÜ</li>
                                            <li>„Éù„É≥„ÉóÂÜÖÈÉ®„ÅÆË©∞„Åæ„Çä„ÇíÁ¢∫Ë™ç„Åó„ÄÅÊ∏ÖÊéÉ„Åô„Çã</li>
                                            <li>ÈÖçÁÆ°„ÅÆË©∞„Åæ„Çä„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂøÖË¶Å„Å´Âøú„Åò„Å¶Ê∏ÖÊéÉ„Åô„Çã</li>
                                            <li>„Éù„É≥„Éó„ÅÆÂãï‰ΩúÈü≥„ÇíÁ¢∫Ë™ç„Åó„ÄÅÁï∞Â∏∏„Åå„Å™„ÅÑ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="repair-step">
                                        <div class="step-header">
                                            <h5>üîß „Ç∑„Éº„É´„Éª„Éë„ÉÉ„Ç≠„É≥„ÅÆÁÇπÊ§ú„Å®‰∫§Êèõ</h5>
                                            <div class="cost-badge">5,000ÂÜÜÔΩû15,000ÂÜÜ</div>
                                        </div>
                                        <p class="cost-description">ÈÉ®ÂìÅ‰ª£ÔºãÂ∑•Ë≥É</p>
                                        <ul class="step-details">
                                            <li>„Ç∑„Éº„É´„Éª„Éë„ÉÉ„Ç≠„É≥„ÅÆÂä£ÂåñÁä∂Ê≥Å„ÇíÁ¢∫Ë™ç„Åô„Çã</li>
                                            <li>‰∫ÄË£Ç„ÇÑÁ°¨Âåñ„Åå„Å™„ÅÑ„ÅãÁÇπÊ§ú„Åô„Çã</li>
                                            <li>ÂøÖË¶Å„Å´Âøú„Åò„Å¶Êñ∞„Åó„ÅÑ„Ç∑„Éº„É´„Éª„Éë„ÉÉ„Ç≠„É≥„Å´‰∫§Êèõ„Åô„Çã</li>
                                            <li>‰∫§ÊèõÂæå„ÅØÊ∞¥Êºè„Çå„Åå„Å™„ÅÑ„ÅãÁ¢∫Ë™ç„Åô„Çã</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="repair-step">
                                        <div class="step-header">
                                            <h5>üîß ÈõªÊ∫ê„ÉªÈÖçÁ∑ö„ÅÆÁ¢∫Ë™ç</h5>
                                            <div class="cost-badge">2,000ÂÜÜÔΩû10,000ÂÜÜ</div>
                                        </div>
                                        <p class="cost-description">ÈõªÊ∞óÂ∑•‰∫ãË≤ªÁî®</p>
                                        <ul class="step-details">
                                            <li>ÈõªÊ∫ê„Çπ„Ç§„ÉÉ„ÉÅ„ÅÆÂãï‰Ωú„ÇíÁ¢∫Ë™ç„Åô„Çã</li>
                                            <li>ÈÖçÁ∑ö„ÅÆÊñ≠Á∑ö„ÇÑÊé•Ëß¶‰∏çËâØ„Åå„Å™„ÅÑ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã</li>
                                            <li>„Éí„É•„Éº„Ç∫„ÅÆÁä∂ÊÖã„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂøÖË¶Å„Å´Âøú„Åò„Å¶‰∫§Êèõ„Åô„Çã</li>
                                            <li>ÈõªÂúß„Çí„Éû„É´„ÉÅ„É°„Éº„Çø„Éº„ÅßÊ∏¨ÂÆö„Åó„ÄÅÊ≠£Â∏∏ÂÄ§„ÇíÁ¢∫Ë™ç„Åô„Çã</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="repair-step">
                                        <div class="step-header">
                                            <h5>üîß Ê∞¥„Çø„É≥„ÇØ„ÅÆÊ∞¥ÈáèÁ¢∫Ë™ç</h5>
                                            <div class="cost-badge">0ÂÜÜÔΩû3,000ÂÜÜ</div>
                                        </div>
                                        <p class="cost-description">Áµ¶Ê∞¥Á≥ªÁµ±„ÅÆÁÇπÊ§ú„Éª‰øÆÁêÜ</p>
                                        <ul class="step-details">
                                            <li>Ê∞¥„Çø„É≥„ÇØ„ÅÆÊ∞¥Èáè„ÇíÁ¢∫Ë™ç„Åó„ÄÅ‰∏çË∂≥„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅØË£úÂÖÖ„Åô„Çã</li>
                                            <li>Áµ¶Ê∞¥„Éù„É≥„Éó„ÅÆÂãï‰Ωú„ÇíÁ¢∫Ë™ç„Åô„Çã</li>
                                            <li>Áµ¶Ê∞¥ÁÆ°„ÅÆË©∞„Åæ„Çä„Åå„Å™„ÅÑ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã</li>
                                            <li>Áµ¶Ê∞¥„Éê„É´„Éñ„ÅÆÈñãÈñâ„ÇíÁ¢∫Ë™ç„Åô„Çã</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="repair-step">
                                        <div class="step-header">
                                            <h5>üîß Áï∞Áâ©„ÅÆÈô§Âéª</h5>
                                            <div class="cost-badge">1,000ÂÜÜÔΩû5,000ÂÜÜ</div>
                                        </div>
                                        <p class="cost-description">Ê∏ÖÊéÉ„ÉªÂàÜËß£‰ΩúÊ•≠Ë≤ªÁî®</p>
                                        <ul class="step-details">
                                            <li>Áï∞Áâ©„ÅÆ‰ΩçÁΩÆ„Å®Á®ÆÈ°û„ÇíÁâπÂÆö„Åô„Çã</li>
                                            <li>ÂÆâÂÖ®„Å´Áï∞Áâ©„ÇíÂèñ„ÇäÈô§„Åè</li>
                                            <li>ÂΩ±Èüø„ÇíÂèó„Åë„ÅüÈÉ®ÂàÜ„ÇíÊ∏ÖÊéÉ„Åô„Çã</li>
                                            <li>Âãï‰ΩúÁ¢∫Ë™ç„ÇíË°å„ÅÜ</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="repair-step">
                                        <div class="step-header">
                                            <h5>üîß Ëñ¨Ââ§„ÅÆË£úÂÖÖ</h5>
                                            <div class="cost-badge">500ÂÜÜÔΩû2,000ÂÜÜ</div>
                                        </div>
                                        <p class="cost-description">Ëñ¨Ââ§‰ª£„ÅÆ„Åø</p>
                                        <ul class="step-details">
                                            <li>ÈÅ©Âàá„Å™Ëñ¨Ââ§„ÇíÈÅ∏Êäû„Åô„Çã</li>
                                            <li>Ëñ¨Ââ§„ÇíÈÅ©ÈáèÊäïÂÖ•„Åô„Çã</li>
                                            <li>Â∏åÈáàÂÄçÁéá„ÇíÁ¢∫Ë™ç„Åô„Çã</li>
                                            <li>ÂäπÊûú„ÇíÁ¢∫Ë™ç„Åô„Çã</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="repair-step">
                                        <div class="step-header">
                                            <h5>üîß ÊéíÊ∞¥ÂºÅ„ÅÆÂãï‰ΩúÁ¢∫Ë™ç</h5>
                                            <div class="cost-badge">3,000ÂÜÜÔΩû8,000ÂÜÜ</div>
                                        </div>
                                        <p class="cost-description">ÂºÅ„ÅÆÁÇπÊ§ú„Éª‰∫§ÊèõË≤ªÁî®</p>
                                        <ul class="step-details">
                                            <li>ÊéíÊ∞¥ÂºÅ„ÅÆÂãï‰Ωú„ÇíÁ¢∫Ë™ç„Åô„Çã</li>
                                            <li>ÂºÅ„ÅÆÈñãÈñâÁä∂ÊÖã„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã</li>
                                            <li>ÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂºÅ„ÇíÊ∏ÖÊéÉ„Éª‰∫§Êèõ„Åô„Çã</li>
                                            <li>Ê∞¥Êºè„Çå„Åå„Å™„ÅÑ„ÅãÁ¢∫Ë™ç„Åô„Çã</li>
                                        </ul>
                                    </div>
                                </div>
                                ` : `
                                <ol class="solution-steps">
                                    ${result.structured_content.solutions.map(solution => `<li>${solution}</li>`).join('')}
                                </ol>
                                `}
                            </div>
                        </div>
                        ` : ''}
                        
                        ${result.structured_content?.tools_needed?.length > 0 ? `
                        <div class="section-item">
                            <div class="section-number">5</div>
                            <div class="section-content">
                                <h4>ÂøÖË¶Å„Å™Â∑•ÂÖ∑„ÉªÈÉ®ÂìÅ</h4>
                                <div class="tools-list">
                                    ${result.structured_content.tools_needed.map(tool => `
                                        <div class="tool-item">
                                            <span class="tool-icon">üîß</span>
                                            <span class="tool-name">${tool}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        ` : ''}
                        
                        <!-- ‰ª£ÊõøÂìÅ„ÅÆÁ¥π‰ªã„Çª„ÇØ„Ç∑„Éß„É≥ -->
                        ${result.substitutes?.length > 0 ? `
                        <div class="section-item alternative-products-section">
                            <div class="section-number">6</div>
                            <div class="section-content">
                                <h4>üõí ‰ª£ÊõøÂìÅ„Éª‰ª£Áî®ÂìÅ„ÅÆÁ¥π‰ªã</h4>
                                <div class="substitute-products">
                                    ${result.substitutes.map(substitute => `
                                        <div class="substitute-item">
                                            <div class="substitute-header">
                                                <h5>${substitute.name}</h5>
                                                <span class="substitute-price">${substitute.price}</span>
                                            </div>
                                            <div class="substitute-actions">
                                                <a href="${substitute.url}" target="_blank" rel="noopener noreferrer" class="substitute-link">
                                                    üîó ÂïÜÂìÅ„Éö„Éº„Ç∏„ÇíË¶ã„Çã
                                                </a>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        ` : ''}
                        
                        <!-- ÂæìÊù•„ÅÆ‰ª£ÊõøÂìÅÊ§úÁ¥¢„Çª„ÇØ„Ç∑„Éß„É≥ -->
                        <div class="section-item alternative-products-section">
                            <div class="section-number">${result.substitutes?.length > 0 ? '7' : '6'}</div>
                            <div class="section-content">
                                <h4>üõí ÂïÜÂìÅÊ§úÁ¥¢„Éª‰ª£ÊõøÂìÅ„ÅÆÁ¥π‰ªã</h4>
                                
                                <!-- ÂïÜÂìÅÊ§úÁ¥¢Ê©üËÉΩ -->
                                <div class="product-search-section">
                                    <div class="search-header">
                                        <h5>üîç ÂïÜÂìÅ„ÇíÊ§úÁ¥¢</h5>
                                        <p>ÂøÖË¶Å„Å™ÈÉ®ÂìÅ„ÇÑÂ∑•ÂÖ∑„ÇíÊ§úÁ¥¢„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>
                                    </div>
                                    <div class="search-controls">
                                        <input type="text" id="productSearchInput" placeholder="‰æã: „Ç´„Çª„ÉÉ„Éà„Éà„Ç§„É¨Áî®„Éë„ÉÉ„Ç≠„É≥„ÄÅ„Éù„É≥„Éó„ÄÅ„Éí„É•„Éº„Ç∫„Å™„Å©" class="search-input">
                                        <button onclick="searchProducts()" class="search-btn">Ê§úÁ¥¢</button>
                                    </div>
                                    <div class="search-categories">
                                        <button onclick="filterProducts('all')" class="category-btn active">„Åô„Åπ„Å¶</button>
                                        <button onclick="filterProducts('toilet')" class="category-btn">„Éà„Ç§„É¨ÈÉ®ÂìÅ</button>
                                        <button onclick="filterProducts('electrical')" class="category-btn">ÈõªË£ÖÈÉ®ÂìÅ</button>
                                        <button onclick="filterProducts('rainleak')" class="category-btn">Èõ®Êºè„Çä‰øÆÁêÜ</button>
                                        <button onclick="filterProducts('maintenance')" class="category-btn">„É°„É≥„ÉÜ„Éä„É≥„Çπ</button>
                                    </div>
                                </div>
                                
                                <div class="alternative-products" id="productResults">
                                    <div class="product-category" data-category="toilet">
                                        <h5>üîß „Éà„Ç§„É¨Èñ¢ÈÄ£ÈÉ®ÂìÅ</h5>
                                        <div class="product-grid">
                                            <div class="product-item" data-keywords="„Éë„ÉÉ„Ç≠„É≥,„Ç´„Çª„ÉÉ„Éà,„Éà„Ç§„É¨,Ê∞¥Êºè„Çå,„ÉÜ„É©„Éá„É≥">
                                                <div class="product-name">„ÉÜ„É©„Éá„É≥ „Ç´„Çª„ÉÉ„Éà„Éà„Ç§„É¨Áî®„Éë„ÉÉ„Ç≠„É≥</div>
                                                <div class="product-price">¬•2,500</div>
                                                <div class="product-description">„Ç´„Çª„ÉÉ„Éà„Éà„Ç§„É¨„ÅÆÊ∞¥Êºè„ÇåÈò≤Ê≠¢Áî®</div>
                                                <button onclick="searchExternalProduct('„ÉÜ„É©„Éá„É≥ „Ç´„Çª„ÉÉ„Éà„Éà„Ç§„É¨Áî®„Éë„ÉÉ„Ç≠„É≥')" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</button>
                                            </div>
                                            <div class="product-item" data-keywords="„Ç∑„Éº„É´,„Éû„É™„É≥,„Éà„Ç§„É¨,ÂØÜÈñâ,„Çµ„Éã„ÉÜ„ÉÉ„ÇØ">
                                                <div class="product-name">„Çµ„Éã„ÉÜ„ÉÉ„ÇØ „Éû„É™„É≥„Éà„Ç§„É¨Áî®„Ç∑„Éº„É´</div>
                                                <div class="product-price">¬•1,800</div>
                                                <div class="product-description">„Éû„É™„É≥„Éà„Ç§„É¨„ÅÆÂØÜÈñâÁî®„Ç∑„Éº„É´</div>
                                                <a href="https://www.amazon.co.jp/s?k=„Çµ„Éã„ÉÜ„ÉÉ„ÇØ+„Éû„É™„É≥„Éà„Ç§„É¨+„Ç∑„Éº„É´" target="_blank" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</a>
                                            </div>
                                            <div class="product-item" data-keywords="„Ç´„Çª„ÉÉ„Éà,„Çø„É≥„ÇØ,„Ç®„Ç≥„Éà„Ç§„É¨,‰∫§Êèõ">
                                                <div class="product-name">„Ç®„Ç≥„Éà„Ç§„É¨ „Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ</div>
                                                <div class="product-price">¬•8,900</div>
                                                <div class="product-description">‰∫§ÊèõÁî®„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ</div>
                                                <a href="https://www.amazon.co.jp/s?k=„Ç®„Ç≥„Éà„Ç§„É¨+„Ç´„Çª„ÉÉ„Éà„Çø„É≥„ÇØ+‰∫§Êèõ" target="_blank" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</a>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="product-category" data-category="electrical">
                                        <h5>üîß „Éù„É≥„Éó„ÉªÈõªË£ÖÈÉ®ÂìÅ</h5>
                                        <div class="product-grid">
                                            <div class="product-item" data-keywords="„Éù„É≥„Éó,„Ç∑„É£„ÉØ„Éº,„Éà„Ç§„É¨,Ê∞¥Ê¥ó,Â∞èÂûã">
                                                <div class="product-name">„Ç∑„É£„ÉØ„Éº„Éà„Ç§„É¨Áî®„Éù„É≥„Éó</div>
                                                <div class="product-price">¬•12,500</div>
                                                <div class="product-description">Ê∞¥Ê¥ó„Éà„Ç§„É¨Áî®Â∞èÂûã„Éù„É≥„Éó</div>
                                                <button onclick="searchExternalProduct('„Ç∑„É£„ÉØ„Éº„Éà„Ç§„É¨Áî®„Éù„É≥„Éó')" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</button>
                                            </div>
                                            <div class="product-item" data-keywords="„Éí„É•„Éº„Ç∫,12V,„Éà„Ç§„É¨,„Çª„ÉÉ„Éà,ÈõªË£Ö">
                                                <div class="product-name">12V „Éà„Ç§„É¨Áî®„Éí„É•„Éº„Ç∫„Çª„ÉÉ„Éà</div>
                                                <div class="product-price">¬•850</div>
                                                <div class="product-description">ÂêÑÁ®ÆÂÆπÈáè„ÅÆ„Éí„É•„Éº„Ç∫„Çª„ÉÉ„Éà</div>
                                                <button onclick="searchExternalProduct('12V „Éà„Ç§„É¨Áî®„Éí„É•„Éº„Ç∫„Çª„ÉÉ„Éà')" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="product-category" data-category="rainleak">
                                        <h5>üåßÔ∏è Èõ®Êºè„Çä‰øÆÁêÜÁî®ÂìÅ</h5>
                                        <div class="product-grid">
                                            <div class="product-item" data-keywords="„Ç∑„Éº„É™„É≥„Ç∞,„Ç≥„Éº„Ç≠„É≥„Ç∞,Èõ®Êºè„Çä,Èò≤Ê∞¥,„Ç¶„É¨„Çø„É≥">
                                                <div class="product-name">„Ç¶„É¨„Çø„É≥„Ç∑„Éº„É©„É≥„Éà</div>
                                                <div class="product-price">¬•1,200</div>
                                                <div class="product-description">Èõ®Êºè„Çä‰øÆÁêÜÁî®„Ç∑„Éº„É™„É≥„Ç∞Êùê</div>
                                                <button onclick="searchExternalProduct('„Ç¶„É¨„Çø„É≥„Ç∑„Éº„É©„É≥„Éà Èõ®Êºè„Çä‰øÆÁêÜ')" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</button>
                                            </div>
                                            <div class="product-item" data-keywords="„Éñ„ÉÅ„É´„ÉÜ„Éº„Éó,Èò≤Ê∞¥,Èõ®Êºè„Çä,ÂøúÊÄ•Âá¶ÁΩÆ">
                                                <div class="product-name">„Éñ„ÉÅ„É´Èò≤Ê∞¥„ÉÜ„Éº„Éó</div>
                                                <div class="product-price">¬•800</div>
                                                <div class="product-description">ÂøúÊÄ•Èò≤Ê∞¥Áî®„Éñ„ÉÅ„É´„ÉÜ„Éº„Éó</div>
                                                <button onclick="searchExternalProduct('„Éñ„ÉÅ„É´Èò≤Ê∞¥„ÉÜ„Éº„Éó Èõ®Êºè„Çä')" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</button>
                                            </div>
                                            <div class="product-item" data-keywords="„Ç≥„Éº„Ç≠„É≥„Ç∞„Ç¨„É≥,„Ç∑„Éº„É™„É≥„Ç∞,Â∑•ÂÖ∑">
                                                <div class="product-name">„Ç≥„Éº„Ç≠„É≥„Ç∞„Ç¨„É≥</div>
                                                <div class="product-price">¬•2,500</div>
                                                <div class="product-description">„Ç∑„Éº„É™„É≥„Ç∞ÊùêÊ≥®ÂÖ•Áî®Â∑•ÂÖ∑</div>
                                                <button onclick="searchExternalProduct('„Ç≥„Éº„Ç≠„É≥„Ç∞„Ç¨„É≥ „Ç∑„Éº„É™„É≥„Ç∞')" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</button>
                                            </div>
                                            <div class="product-item" data-keywords="„Éë„ÉÉ„Ç≠„É≥,„Ç¨„Çπ„Ç±„ÉÉ„Éà,Èò≤Ê∞¥,‰∫§Êèõ">
                                                <div class="product-name">Èò≤Ê∞¥„Ç¨„Çπ„Ç±„ÉÉ„Éà</div>
                                                <div class="product-price">¬•1,500</div>
                                                <div class="product-description">ÂêÑÁ®Æ„Çµ„Ç§„Ç∫„ÅÆÈò≤Ê∞¥„Ç¨„Çπ„Ç±„ÉÉ„Éà</div>
                                                <button onclick="searchExternalProduct('Èò≤Ê∞¥„Ç¨„Çπ„Ç±„ÉÉ„Éà „Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº')" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</button>
                                            </div>
                                            <div class="product-item" data-keywords="FRP„Éë„ÉÜ,Ë£ú‰øÆ,Èõ®Êºè„Çä,Ê®πËÑÇ">
                                                <div class="product-name">FRP„Éë„ÉÜ</div>
                                                <div class="product-price">¬•3,200</div>
                                                <div class="product-description">FRPË£ú‰øÆÁî®„Éë„ÉÜ</div>
                                                <button onclick="searchExternalProduct('FRP„Éë„ÉÜ Ë£ú‰øÆ')" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</button>
                                            </div>
                                            <div class="product-item" data-keywords="„Éà„ÉÉ„Éó„Ç≥„Éº„Éà,Èò≤Ê∞¥,Â°óË£Ö,‰ªï‰∏ä„Åí">
                                                <div class="product-name">Èò≤Ê∞¥„Éà„ÉÉ„Éó„Ç≥„Éº„Éà</div>
                                                <div class="product-price">¬•2,800</div>
                                                <div class="product-description">Èò≤Ê∞¥‰ªï‰∏ä„ÅíÁî®„Éà„ÉÉ„Éó„Ç≥„Éº„Éà</div>
                                                <button onclick="searchExternalProduct('Èò≤Ê∞¥„Éà„ÉÉ„Éó„Ç≥„Éº„Éà „Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº')" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="product-category" data-category="maintenance">
                                        <h5>üßΩ Ê∏ÖÊéÉ„Éª„É°„É≥„ÉÜ„Éä„É≥„ÇπÁî®ÂìÅ</h5>
                                        <div class="product-grid">
                                            <div class="product-item" data-keywords="Èô§Ëèå,„Çπ„Éó„É¨„Éº,„Éà„Ç§„É¨,„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº">
                                                <div class="product-name">„Éà„Ç§„É¨Áî®Èô§Ëèå„Çπ„Éó„É¨„Éº</div>
                                                <div class="product-price">¬•1,200</div>
                                                <div class="product-description">„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„ÉºÂ∞ÇÁî®Èô§ËèåÂâ§</div>
                                                <button onclick="searchExternalProduct('„Éà„Ç§„É¨Áî®Èô§Ëèå„Çπ„Éó„É¨„Éº')" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</button>
                                            </div>
                                            <div class="product-item" data-keywords="„Éá„Ç™„Éâ„É©„É≥„Éà,„Éà„Ç§„É¨,Ê∂àËá≠,ÂäπÊûú">
                                                <div class="product-name">„Éà„Ç§„É¨Áî®„Éá„Ç™„Éâ„É©„É≥„Éà</div>
                                                <div class="product-price">¬•980</div>
                                                <div class="product-description">Ê∂àËá≠ÂäπÊûú„ÅÆÈ´ò„ÅÑ„Éà„Ç§„É¨Áî®Ââ§</div>
                                                <button onclick="searchExternalProduct('„Éà„Ç§„É¨Áî®„Éá„Ç™„Éâ„É©„É≥„Éà')" class="product-link">Â§ñÈÉ®„ÅßÊ§úÁ¥¢</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        ${result.structured_content?.solutions?.length > 0 ? `
                        <div class="section-item">
                            <div class="section-number">7</div>
                            <div class="section-content">
                                <h4>ÂÖ∑‰ΩìÁöÑ„Å™‰øÆÁêÜÊâãÈ†Ü</h4>
                                <ol class="maintenance-list">
                                    ${result.structured_content.solutions.map((solution, idx) => {
                                        if (typeof solution === 'object' && solution.title) {
                                            return `
                                                <li>
                                                    <strong>${solution.title}</strong>
                                                    ${solution.cost ? `<br><span class="cost-info">üí∞ Ë≤ªÁî®ÁõÆÂÆâ: ${solution.cost}</span>` : ''}
                                                    ${solution.description ? `<br><span class="description">${solution.description}</span>` : ''}
                                                </li>
                                            `;
                                        } else if (typeof solution === 'string') {
                                            return `<li><strong>${solution}</strong></li>`;
                                        } else {
                                            return `<li><strong>‰øÆÁêÜÊâãÈ†Ü ${idx + 1}</strong></li>`;
                                        }
                                    }).join('')}
                                </ol>
                            </div>
                        </div>
                        ` : ''}
                        
                        ${result.substitute_products?.length > 0 ? `
                        <div class="section-item substitute-section">
                            <div class="section-number">6</div>
                            <div class="section-content">
                                <h4>üîß ‰ª£Áî®ÂìÅ„Éª‰ª£ÊõøÂìÅ„ÅÆÁ¥π‰ªã</h4>
                                <div class="substitute-products">
                                    <p class="substitute-intro">Â£ä„Çå„ÅüÈöõ„ÅÆ‰ª£Áî®ÂìÅ„Éª‰ª£ÊõøÂìÅ„Çí„ÅîÁ¥π‰ªã„Åó„Åæ„ÅôÔºö</p>
                                    <div class="product-grid">
                                        ${result.substitute_products.map(product => `
                                            <div class="substitute-item">
                                                <div class="product-info">
                                                    <h6>${product.name}</h6>
                                                    ${product.url ? `
                                                        <a href="${product.url}" target="_blank" rel="noopener noreferrer" class="product-link">
                                                            üîó Ë©≥Á¥∞„ÇíË¶ã„Çã
                                                        </a>
                                                    ` : ''}
                                                </div>
                                                <div class="product-type">
                                                    <span class="type-badge">‰ª£Áî®ÂìÅ</span>
                                                </div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>
                        ` : ''}
                        
                        ${result.part_purchase_info?.length > 0 ? `
                        <div class="section-item purchase-section">
                            <div class="section-number">${result.substitute_products?.length > 0 ? '7' : '6'}</div>
                            <div class="section-content">
                                <h4>üõí ÈÉ®ÂìÅË≥ºÂÖ•ÊÉÖÂ†±</h4>
                                <div class="purchase-info">
                                    <p class="purchase-intro">‰øÆÁêÜ„Å´ÂøÖË¶Å„Å™ÈÉ®ÂìÅ„ÅÆË≥ºÂÖ•ÊÉÖÂ†±„Çí„ÅîÊ°àÂÜÖ„Åó„Åæ„ÅôÔºö</p>
                                    <div class="part-grid">
                                        ${result.part_purchase_info.map(part => `
                                            <div class="part-item">
                                                <div class="part-info">
                                                    <h6>${part.name}</h6>
                                                    ${part.url ? `
                                                        <a href="${part.url}" target="_blank" rel="noopener noreferrer" class="part-link">
                                                            üõí Ë≥ºÂÖ•„Éö„Éº„Ç∏
                                                        </a>
                                                    ` : `
                                                        <div class="part-search">
                                                            <span class="search-text">ÂïÜÂìÅÂêç„ÅßÊ§úÁ¥¢</span>
                                                        </div>
                                                    `}
                                                </div>
                                                <div class="part-type">
                                                    <span class="type-badge purchase">Ë≥ºÂÖ•ÈÉ®ÂìÅ</span>
                                                </div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>
                        ` : ''}
                        
                        <!-- Â∞ÇÈñÄÂÆ∂„Å∏„ÅÆÁõ∏Ë´á„Çø„Ç§„Éü„É≥„Ç∞„Çª„ÇØ„Ç∑„Éß„É≥„ÇíÂâäÈô§ -->
                                
                                <div class="support-center-detailed">
                                    <h5>üè¢ Â≤°Â±±„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº‰øÆÁêÜ„Çµ„Éù„Éº„Éà„Çª„É≥„Çø„Éº</h5>
                                    <p class="support-intro">Â∞ÇÈñÄÁöÑ„Å™‰øÆÁêÜ„ÇÑ„É°„É≥„ÉÜ„Éä„É≥„Çπ„ÅåÂøÖË¶Å„Å™Â†¥Âêà„ÅØ„ÄÅ„ÅäÊ∞óËªΩ„Å´„ÅîÁõ∏Ë´á„Åè„Å†„Åï„ÅÑÔºö</p>
                                    
                                    <div class="contact-details">
                                        <div class="contact-item">
                                            <span class="contact-icon">üìç</span>
                                            <span class="contact-label">‰ΩèÊâÄ:</span>
                                            <span class="contact-value">„Äí700-0921 Â≤°Â±±Â∏ÇÂåóÂå∫Êù±Âè§Êùæ485-4 2F</span>
                                        </div>
                                        <div class="contact-item">
                                            <span class="contact-icon">üìû</span>
                                            <span class="contact-label">ÈõªË©±:</span>
                                            <span class="contact-value">086-206-6622</span>
                                        </div>
                                        <div class="contact-item">
                                            <span class="contact-icon">üìß</span>
                                            <span class="contact-label">„ÅäÂïèÂêà„Çè„Åõ:</span>
                                            <span class="contact-value"><a href="https://camper-repair.net/contact/" target="_blank" rel="noopener noreferrer">https://camper-repair.net/contact/</a></span>
                                        </div>
                                        <div class="contact-item">
                                            <span class="contact-icon">üåê</span>
                                            <span class="contact-label">„Éõ„Éº„É†„Éö„Éº„Ç∏:</span>
                                            <span class="contact-value"><a href="https://camper-repair.net/blog/" target="_blank" rel="noopener noreferrer">https://camper-repair.net/blog/</a></span>
                                        </div>
                                        <div class="contact-item">
                                            <span class="contact-icon">‚è∞</span>
                                            <span class="contact-label">Âñ∂Ê•≠ÊôÇÈñì:</span>
                                            <span class="contact-value">Âπ¥‰∏≠ÁÑ°‰ºëÔºà9:00ÔΩû21:00Ôºâ</span>
                                        </div>
                                        <div class="contact-note">
                                            ‚Äª‰∏çÂú®ÊôÇ„ÅØÊäò„ÇäËøî„Åó„ÅäÈõªË©±Â∑Æ„Åó‰∏ä„Åí„Åæ„Åô„ÄÇ
                                        </div>
                                        <div class="company-info">
                                            ÔºàÈÅãÂñ∂ÔºâÊ†™Âºè‰ºöÁ§æ„É™„ÇØ„Ç®„Çπ„Éà„Éó„É©„Çπ
                                        </div>
                                    </div>
                                    
                                    <div class="service-list">
                                        <h6>üîß ÂØæÂøú„Çµ„Éº„Éì„Çπ:</h6>
                                        <ul class="service-items">
                                            <li>„Éê„ÉÉ„ÉÜ„É™„Éº„Éª„Ç§„É≥„Éê„Éº„Çø„Éº‰øÆÁêÜ„Éª‰∫§Êèõ</li>
                                            <li>ÈõªÊ∞óÈÖçÁ∑ö„ÉªÈõªË£ÖÁ≥ª„Éà„É©„Éñ„É´ÂØæÂøú</li>
                                            <li>Èõ®Êºè„Çä„ÉªÈò≤Ê∞¥Â∑•‰∫ã</li>
                                            <li>ÂêÑÁ®ÆÂÆ∂Èõª„ÉªË®≠ÂÇô„ÅÆ‰øÆÁêÜ</li>
                                            <li>ÂÆöÊúüÁÇπÊ§ú„Éª„É°„É≥„ÉÜ„Éä„É≥„Çπ</li>
                                            <li>Á∑äÊÄ•ÂØæÂøú„ÉªÂá∫Âºµ‰øÆÁêÜÔºàË¶ÅÁõ∏Ë´áÔºâ</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="consultation-info">
                                        <h6>üí° „ÅîÁõ∏Ë´á„ÅÆÈöõ„ÅØ:</h6>
                                        <ul class="consultation-items">
                                            <li>ËªäÁ®Æ„ÉªÂπ¥Âºè</li>
                                            <li>ÁóáÁä∂„ÅÆË©≥Á¥∞</li>
                                            <li>Â∏åÊúõ„Åô„ÇãÂØæÂøúÊñπÊ≥ï</li>
                                        </ul>
                                        <p class="consultation-note">„Çí„ÅäÊïô„Åà„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="support-center">
                        <h3>„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº‰øÆÁêÜ„Çµ„Éù„Éº„Éà„Çª„É≥„Çø„Éº</h3>
                        <div class="support-info">
                            <div class="contact-info">
                                <p><strong>üìû „ÅäÈõªË©±„Åß„ÅÆ„ÅîÁõ∏Ë´á</strong></p>
                                <p>‰øÆÁêÜ„Å´Èñ¢„Åô„Çã„ÅîË≥™Âïè„ÇÑ„ÅîÁõ∏Ë´á„ÅØ„ÄÅ„ÅäÊ∞óËªΩ„Å´„ÅäÈõªË©±„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
                            </div>
                            <div class="contact-info">
                                <p><strong>üåê „Ç™„É≥„É©„Ç§„É≥„Çµ„Éù„Éº„Éà</strong></p>
                                <p>Ë©≥Á¥∞„Å™‰øÆÁêÜ„Éû„Éã„É•„Ç¢„É´„ÇÑÈÉ®ÂìÅÊÉÖÂ†±„ÅØ„ÄÅ„Ç™„É≥„É©„Ç§„É≥„Åß„ÅîÁ¢∫Ë™ç„ÅÑ„Åü„Å†„Åë„Åæ„Åô„ÄÇ</p>
                            </div>
                        </div>
                    </div>
                    
                    
                    ${result.structured_content?.solutions?.length > 0 ? `
                    <div class="repair-steps">
                        <h4>üìù ÂÖ∑‰ΩìÁöÑ„Å™‰øÆÁêÜÊâãÈ†Ü</h4>
                        <ol class="steps-list">
                            ${result.structured_content.solutions.map((solution, idx) => {
                                if (typeof solution === 'object' && solution !== null) {
                                    // „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂ†¥Âêà„ÄÅÈÅ©Âàá„Å´„Éï„Ç©„Éº„Éû„ÉÉ„Éà
                                    let result = '';
                                    if (solution.title) result += `<strong>${solution.title}</strong>`;
                                    if (solution.description) result += `<br><span class="description">${solution.description}</span>`;
                                    if (solution.cost) result += `<br><span class="cost-info">üí∞ Ë≤ªÁî®ÁõÆÂÆâ: ${solution.cost}</span>`;
                                    if (solution.time) result += `<br><span class="time-info">‚è±Ô∏è ‰øÆÁêÜÊôÇÈñì: ${solution.time}</span>`;
                                    if (solution.symptoms) result += `<br><span class="symptoms">üìã ÁóáÁä∂: ${solution.symptoms}</span>`;
                                    if (solution.cause) result += `<br><span class="cause">üîç ÂéüÂõ†: ${solution.cause}</span>`;
                                    if (solution.solution) result += `<br><span class="solution">üîß ÂØæÂá¶Ê≥ï: ${solution.solution}</span>`;
                                    
                                    // „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Éó„É≠„Éë„ÉÜ„Ç£„Åå‰Ωï„ÇÇ„Å™„ÅÑÂ†¥Âêà„ÅØ„ÄÅJSON.stringify„Çí‰ΩøÁî®
                                    if (!result) {
                                        result = `<strong>‰øÆÁêÜÊâãÈ†Ü ${idx + 1}</strong><br><span class="description">${JSON.stringify(solution, null, 2)}</span>`;
                                    }
                                    
                                    return `<li>${result}</li>`;
                                } else if (typeof solution === 'string') {
                                    return `<li><strong>${solution}</strong></li>`;
                                } else {
                                    return `<li><strong>‰øÆÁêÜÊâãÈ†Ü ${idx + 1}</strong><br><span class="description">${String(solution)}</span></li>`;
                                }
                            }).join('')}
                        </ol>
                    </div>
                    ` : ''}
                    
                    <!-- Ë©≥Á¥∞„Çª„ÇØ„Ç∑„Éß„É≥„ÇíÈùûË°®Á§∫Ë®≠ÂÆö -->
                    <!--
                    <div class="detailed-sections">
                        ${result.repair_costs?.items?.length > 0 ? `
                        <div class="collapsible-section">
                            <button class="section-header" onclick="toggleSection('costs${index}')">
                                <h4>üí∞ Ë©≥Á¥∞„Å™‰øÆÁêÜË≤ªÁî®</h4>
                                <span class="toggle-icon">‚ñº</span>
                            </button>
                            <div class="section-content" id="costs${index}" style="display: none;">
                                <p class="cost-summary">${result.repair_costs.summary}</p>
                                
                                ${result.repair_costs.detailed_breakdown?.length > 0 ? `
                                <div class="cost-breakdown">
                                    ${result.repair_costs.detailed_breakdown.map(cost => `
                                        <div class="cost-item">
                                            <div class="cost-header">
                                                ${cost.min_cost && cost.max_cost ? 
                                                    `<span class="cost-range">${cost.min_cost} - ${cost.max_cost}</span>` :
                                                    `<span class="cost-single">${cost.cost}</span>`
                                                }
                                            </div>
                                            <div class="cost-description">${cost.description}</div>
                                            ${cost.reason && cost.reason.length > 0 ? `
                                            <div class="cost-reason">
                                                <strong>Ê†πÊã†:</strong> ${cost.reason.join(', ')}
                                            </div>
                                            ` : ''}
                                        </div>
                                    `).join('')}
                                </div>
                                ` : ''}
                                
                                <ul class="cost-list">
                                    ${result.repair_costs.items.map(cost => `<li>${cost}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                        ` : ''}
                        
                        ${result.recommended_products?.items?.length > 0 ? `
                        <div class="collapsible-section">
                            <button class="section-header" onclick="toggleSection('products${index}')">
                                <h4>üõ†Ô∏è Ë©≥Á¥∞„Å™Êé®Â•®Ë£ΩÂìÅ</h4>
                                <span class="toggle-icon">‚ñº</span>
                            </button>
                            <div class="section-content" id="products${index}" style="display: none;">
                                ${result.recommended_products.detailed_products?.length > 0 ? `
                                <div class="product-details">
                                    ${result.recommended_products.detailed_products.map(product => `
                                        <div class="product-item">
                                            <strong>${product.name}</strong>
                                            <p>${product.description}</p>
                                        </div>
                                    `).join('')}
                                </div>
                                ` : ''}
                                
                                <ul class="product-list">
                                    ${result.recommended_products.items.map(product => `<li>${product}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                        ` : ''}
                        
                        ${result.warnings?.length > 0 ? `
                        <div class="collapsible-section warning-section">
                            <button class="section-header" onclick="toggleSection('warnings${index}')">
                                <h4>‚ö†Ô∏è ÈáçË¶Å„Å™Ê≥®ÊÑè‰∫ãÈ†Ö</h4>
                                <span class="toggle-icon">‚ñº</span>
                            </button>
                            <div class="section-content" id="warnings${index}" style="display: none;">
                                <div class="warning-list">
                                    ${result.warnings.map(warning => `
                                        <div class="warning-item">
                                            <span class="warning-icon">‚ö†Ô∏è</span>
                                            <span class="warning-text">${warning}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        ` : ''}
                        
                        ${result.related_links?.items?.length > 0 ? `
                        <div class="collapsible-section">
                            <button class="section-header" onclick="toggleSection('links${index}')">
                                <h4>üîó Èñ¢ÈÄ£„É™„É≥„ÇØ„ÉªÂèÇËÄÉË≥áÊñô</h4>
                                <span class="toggle-icon">‚ñº</span>
                            </button>
                            <div class="section-content" id="links${index}" style="display: none;">
                                ${result.related_links.additional_resources?.length > 0 ? `
                                <div class="additional-resources">
                                    <h5>ÂèÇËÄÉË≥áÊñô</h5>
                                    <ul class="resource-list">
                                        ${result.related_links.additional_resources.map(resource => `<li>${resource}</li>`).join('')}
                                    </ul>
                                </div>
                                ` : ''}
                                
                                <div class="link-list">
                                    ${result.related_links.items.map(url => `
                                        <a href="${url}" target="_blank" class="external-link">
                                            üîó ${url}
                                        </a>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        ` : ''}
                    </div>
                    -->
                    
                    <!-- ÂÆåÂÖ®„Å™ÂÜÖÂÆπË°®Á§∫„Å®Èñ¢ÈÄ£Â∫¶Ë©≥Á¥∞„Çª„ÇØ„Ç∑„Éß„É≥„ÇíÂâäÈô§ -->
                </div>
                
                <div class="result-actions">
                    <button class="btn btn-primary" onclick="copyToClipboard('${result.title} - ${result.summary}')">
                        üìã „Åì„ÅÆÊÉÖÂ†±„Çí„Ç≥„Éî„Éº
                    </button>
                </div>
            `;
            
            return div;
        }

        // Èñ¢ÈÄ£Â∫¶„Ç¢„Ç§„Ç≥„É≥„ÅÆÂèñÂæó
        function getRelevanceIcon(level) {
            const icons = {
                'high': 'üî•',
                'medium': '‚≠ê',
                'low': 'üìå',
                'very_low': 'üìù'
            };
            return icons[level] || '‚≠ê';
        }

        // „ÇΩ„Éº„Çπ„Ç¢„Ç§„Ç≥„É≥„ÅÆÂèñÂæó
        function getSourceIcon(source) {
            const icons = {
                'text_file': 'üìÑ',
                'notion': 'üìä',
                'rag_text': 'ü§ñ',
                'blog': 'üîó',
                'fallback': '‚ùå'
            };
            return icons[source] || 'üìÑ';
        }

        // „ÇΩ„Éº„ÇπÂêç„ÅÆÂèñÂæó
        function getSourceName(source) {
            const names = {
                'text_file': '„ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´',
                'notion': 'Notion„Éá„Éº„Çø„Éô„Éº„Çπ',
                'rag_text': 'RAGÊ§úÁ¥¢',
                'blog': '„Éñ„É≠„Ç∞Ë®ò‰∫ã',
                'fallback': '„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ'
            };
            return names[source] || '„ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´';
        }

        // Èñ¢ÈÄ£Â∫¶„É¨„Éô„É´„ÅÆ„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó
        function getRelevanceLevelText(level) {
            const texts = {
                'high': 'üî• È´òÈñ¢ÈÄ£ÊÄß',
                'medium': '‚≠ê ‰∏≠Èñ¢ÈÄ£ÊÄß',
                'low': 'üìå ‰ΩéÈñ¢ÈÄ£ÊÄß',
                'very_low': 'üìù ÂèÇËÄÉÁ®ãÂ∫¶'
            };
            return texts[level] || '‚≠ê ‰∏≠Èñ¢ÈÄ£ÊÄß';
        }

        // Â∞ÇÈñÄÂÆ∂„Çª„ÇØ„Ç∑„Éß„É≥„ÅÆÁï™Âè∑„ÇíË®àÁÆó
        function getExpertSectionNumber(result) {
            let sectionNumber = 6; // Âü∫Êú¨Áï™Âè∑
            
            if (result.substitute_products?.length > 0) {
                sectionNumber++;
            }
            
            if (result.part_purchase_info?.length > 0) {
                sectionNumber++;
            }
            
            return sectionNumber;
        }

        // ÂÆåÂÖ®„Å™ÂÜÖÂÆπ„ÅÆË°®Á§∫Âàá„ÇäÊõø„Åà
        function toggleFullContent(index) {
            const fullContent = document.getElementById(`fullContent${index}`);
            const button = fullContent.previousElementSibling;
            
            if (fullContent.style.display === 'none') {
                fullContent.style.display = 'block';
                button.textContent = 'üìñ ÂÆåÂÖ®„Å™ÂÜÖÂÆπ„ÇíÈùûË°®Á§∫';
                button.classList.add('active');
            } else {
                fullContent.style.display = 'none';
                button.textContent = 'üìñ ÂÆåÂÖ®„Å™ÂÜÖÂÆπ„ÇíË°®Á§∫';
                button.classList.remove('active');
            }
        }

        // Ë©≥Á¥∞Ë°®Á§∫„ÅÆÂàá„ÇäÊõø„Åà
        function showFullContent(index) {
            toggleFullContent(index);
        }

        // „Çª„ÇØ„Ç∑„Éß„É≥„ÅÆÊäò„Çä„Åü„Åü„ÅøÂàá„ÇäÊõø„Åà
        function toggleSection(sectionId) {
            const content = document.getElementById(sectionId);
            const header = content.previousElementSibling;
            const icon = header.querySelector('.toggle-icon');
            
            if (content.style.display === 'none') {
                content.style.display = 'block';
                header.classList.add('active');
                icon.textContent = '‚ñ≤';
            } else {
                content.style.display = 'none';
                header.classList.remove('active');
                icon.textContent = '‚ñº';
            }
        }

        // „ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                // ÊàêÂäüÊôÇ„ÅÆ„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = '‚úÖ „Ç≥„Éî„ÉºÂÆå‰∫Ü';
                button.style.background = '#28a745';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
            }).catch(function(err) {
                console.error('„Ç≥„Éî„Éº„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ', err);
                alert('„Ç≥„Éî„Éº„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÊâãÂãï„Åß„Ç≥„Éî„Éº„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
            });
        }

        // ÂïÜÂìÅÊ§úÁ¥¢Ê©üËÉΩ
        function searchProducts() {
            const searchTerm = document.getElementById('productSearchInput').value.toLowerCase();
            const productItems = document.querySelectorAll('.product-item');
            
            if (!searchTerm) {
                // Ê§úÁ¥¢Ë™û„ÅåÁ©∫„ÅÆÂ†¥Âêà„ÅØ„Åô„Åπ„Å¶Ë°®Á§∫
                productItems.forEach(item => {
                    item.classList.remove('hidden', 'highlight');
                });
                return;
            }
            
            // Èõ®Êºè„ÇäÈñ¢ÈÄ£„ÅÆ„Ç≠„Éº„ÉØ„Éº„Éâ„Éû„ÉÉ„Éî„É≥„Ç∞
            const rainLeakKeywords = {
                'Èõ®Êºè„Çä': ['„Ç∑„Éº„É™„É≥„Ç∞', '„Ç≥„Éº„Ç≠„É≥„Ç∞', '„Éë„ÉÉ„Ç≠„É≥', 'Èò≤Ê∞¥', '„Éñ„ÉÅ„É´„ÉÜ„Éº„Éó', '„Ç¶„É¨„Çø„É≥„Ç∑„Éº„É©„É≥„Éà'],
                'Èõ®Êºè': ['„Ç∑„Éº„É™„É≥„Ç∞', '„Ç≥„Éº„Ç≠„É≥„Ç∞', '„Éë„ÉÉ„Ç≠„É≥', 'Èò≤Ê∞¥', '„Éñ„ÉÅ„É´„ÉÜ„Éº„Éó', '„Ç¶„É¨„Çø„É≥„Ç∑„Éº„É©„É≥„Éà'],
                'Ê∞¥Êºè„Çå': ['„Ç∑„Éº„É™„É≥„Ç∞', '„Ç≥„Éº„Ç≠„É≥„Ç∞', '„Éë„ÉÉ„Ç≠„É≥', 'Èò≤Ê∞¥', '„Éñ„ÉÅ„É´„ÉÜ„Éº„Éó', '„Ç¶„É¨„Çø„É≥„Ç∑„Éº„É©„É≥„Éà'],
                'ÊºèÊ∞¥': ['„Ç∑„Éº„É™„É≥„Ç∞', '„Ç≥„Éº„Ç≠„É≥„Ç∞', '„Éë„ÉÉ„Ç≠„É≥', 'Èò≤Ê∞¥', '„Éñ„ÉÅ„É´„ÉÜ„Éº„Éó', '„Ç¶„É¨„Çø„É≥„Ç∑„Éº„É©„É≥„Éà']
            };
            
            // Ê§úÁ¥¢Ë™û„ÇíÊã°Âºµ
            let expandedSearchTerms = [searchTerm];
            if (rainLeakKeywords[searchTerm]) {
                expandedSearchTerms = expandedSearchTerms.concat(rainLeakKeywords[searchTerm]);
            }
            
            productItems.forEach(item => {
                const keywords = item.getAttribute('data-keywords') || '';
                const productName = item.querySelector('.product-name').textContent.toLowerCase();
                const description = item.querySelector('.product-description').textContent.toLowerCase();
                
                let isMatch = false;
                for (const term of expandedSearchTerms) {
                    if (productName.includes(term) || 
                        description.includes(term) || 
                        keywords.includes(term)) {
                        isMatch = true;
                        break;
                    }
                }
                
                if (isMatch) {
                    item.classList.remove('hidden');
                    item.classList.add('highlight');
                } else {
                    item.classList.add('hidden');
                    item.classList.remove('highlight');
                }
            });
            
            // Ê§úÁ¥¢ÁµêÊûú„Åå„Å™„ÅÑÂ†¥Âêà„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫
            const visibleItems = document.querySelectorAll('.product-item:not(.hidden)');
            if (visibleItems.length === 0 && searchTerm) {
                showNoResultsMessage(searchTerm);
            } else {
                hideNoResultsMessage();
            }
        }
        
        function showNoResultsMessage(searchTerm) {
            let noResultsDiv = document.getElementById('noResultsMessage');
            if (!noResultsDiv) {
                noResultsDiv = document.createElement('div');
                noResultsDiv.id = 'noResultsMessage';
                noResultsDiv.className = 'no-results-message';
                noResultsDiv.innerHTML = `
                    <div class="no-results-content">
                        <h5>üîç Ê§úÁ¥¢ÁµêÊûú„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü</h5>
                        <p>„Äå${searchTerm}„Äç„Å´Èñ¢ÈÄ£„Åô„ÇãÂïÜÂìÅ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ</p>
                        <div class="suggestions">
                            <h6>üí° Ê§úÁ¥¢„ÅÆ„Éí„É≥„ÉàÔºö</h6>
                            <ul>
                                <li>Âà•„ÅÆ„Ç≠„Éº„ÉØ„Éº„Éâ„ÅßÊ§úÁ¥¢„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ</li>
                                <li>ÂïÜÂìÅÂêç„ÅÆ‰∏ÄÈÉ®„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ</li>
                                <li>„Ç´„ÉÜ„Ç¥„É™„Éú„Çø„É≥„ÅßÁµû„ÇäËæº„Çì„Åß„Åè„Å†„Åï„ÅÑ</li>
                            </ul>
                        </div>
                        <button onclick="clearSearch()" class="clear-search-btn">Ê§úÁ¥¢„Çí„ÇØ„É™„Ç¢</button>
                    </div>
                `;
                document.querySelector('.product-grid').appendChild(noResultsDiv);
            }
        }
        
        function hideNoResultsMessage() {
            const noResultsDiv = document.getElementById('noResultsMessage');
            if (noResultsDiv) {
                noResultsDiv.remove();
            }
        }
        
        function clearSearch() {
            document.getElementById('productSearchInput').value = '';
            searchProducts();
        }

        // „Ç´„ÉÜ„Ç¥„É™„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
        function filterProducts(category) {
            const categories = document.querySelectorAll('.product-category');
            const buttons = document.querySelectorAll('.category-btn');
            
            // „Éú„Çø„É≥„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„ÇíÊõ¥Êñ∞
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            categories.forEach(cat => {
                const catType = cat.getAttribute('data-category');
                
                if (category === 'all' || catType === category) {
                    cat.classList.remove('hidden');
                } else {
                    cat.classList.add('hidden');
                }
            });
            
            // Ê§úÁ¥¢ÁµêÊûú„ÅÆ„Éè„Ç§„É©„Ç§„Éà„Çí„ÇØ„É™„Ç¢
            const productItems = document.querySelectorAll('.product-item');
            productItems.forEach(item => {
                item.classList.remove('highlight');
            });
        }

        // Â§ñÈÉ®ÂïÜÂìÅÊ§úÁ¥¢
        function searchExternalProduct(productName) {
            // Ë§áÊï∞„ÅÆEC„Çµ„Ç§„Éà„ÅßÊ§úÁ¥¢
            const searchQueries = [
                `https://www.amazon.co.jp/s?k=${encodeURIComponent(productName + ' „Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº')}`,
                `https://search.rakuten.co.jp/search/mall/${encodeURIComponent(productName + ' „Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº')}`,
                `https://shopping.yahoo.co.jp/search?p=${encodeURIComponent(productName + ' „Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº')}`
            ];
            
            // „É¶„Éº„Ç∂„Éº„Å´ÈÅ∏ÊäûËÇ¢„ÇíÊèêÁ§∫
            const choice = confirm(`„Äå${productName}„Äç„ÇíÊ§úÁ¥¢„Åó„Åæ„Åô„ÄÇ\n\nOK: Amazon„ÅßÊ§úÁ¥¢\n„Ç≠„É£„É≥„Çª„É´: ‰ªñ„ÅÆ„Çµ„Ç§„Éà„ÅßÊ§úÁ¥¢`);
            
            if (choice) {
                window.open(searchQueries[0], '_blank');
            } else {
                // Ë§áÊï∞„Çµ„Ç§„Éà„ÅÆÈÅ∏ÊäûËÇ¢„ÇíË°®Á§∫
                const siteChoice = confirm(`Ê§úÁ¥¢„Çµ„Ç§„Éà„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö\n\nOK: Ê•ΩÂ§©Â∏ÇÂ†¥\n„Ç≠„É£„É≥„Çª„É´: Yahoo!„Ç∑„Éß„ÉÉ„Éî„É≥„Ç∞`);
                const siteIndex = siteChoice ? 1 : 2;
                window.open(searchQueries[siteIndex], '_blank');
            }
        }

        // Enter„Ç≠„Éº„ÅßÊ§úÁ¥¢
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('productSearchInput');
            if (searchInput) {
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        searchProducts();
                    }
                });
            }
        });

        // ÁµêÊûúË¶ÅÁ¥†„ÅÆ‰ΩúÊàêÔºàÂæìÊù•ÁâàÔºâ
        function createResultElement(result, index) {
            const div = document.createElement('div');
            div.className = 'result-item fade-in';
            div.style.animationDelay = `${index * 0.1}s`;
            
            let urlsHtml = '';
            if (result.urls && result.urls.length > 0) {
                urlsHtml = `
                    <div class="url-info">
                        <strong>üîó Èñ¢ÈÄ£URL:</strong><br>
                        ${result.urls.map(url => `<a href="${url}" class="url-link" target="_blank">${url}</a>`).join('<br>')}
                    </div>
                `;
            }
            
            div.innerHTML = `
                <h3 class="result-title">${result.title}</h3>
                <span class="result-category">${result.category}</span>
                <div class="result-content">${result.content}</div>
                <div class="result-details">
                    ${result.costs && result.costs.length > 0 ? `
                        <div class="cost-info">
                            <strong>üí∞ ‰øÆÁêÜË≤ªÁî®:</strong> ${result.costs.join(', ')}
                        </div>
                    ` : ''}
                    ${result.alternatives && result.alternatives.length > 0 ? `
                        <div class="product-info">
                            <strong>üõ†Ô∏è Êé®Â•®Ë£ΩÂìÅ:</strong> ${result.alternatives.join(', ')}
                        </div>
                    ` : ''}
                    ${urlsHtml}
                </div>
            `;
            
            return div;
        }

        // ÁµêÊûú„Å™„ÅóË°®Á§∫
        function displayNoResults(query) {
            const resultsContainer = document.getElementById('resultsContainer');
            const resultsSection = document.getElementById('resultsSection');
            
            resultsContainer.innerHTML = `
                <div class="no-results">
                    <h3>üîç Ë©≤ÂΩì„Åô„Çã‰øÆÁêÜ„Ç¢„Éâ„Éê„Ç§„Çπ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü</h3>
                    <p>„Äå${query}„Äç„Å´Èñ¢„Åô„ÇãÊÉÖÂ†±„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ</p>
                    
                    <div class="suggestions">
                        <h4>üõ†Ô∏è „Åù„ÅÆ‰ªñ„ÅÆÁõ∏Ë´áÊñπÊ≥ï</h4>
                        <p>„Çà„ÇäË©≥Á¥∞„Å™Áõ∏Ë´á„Çí„ÅîÂ∏åÊúõ„ÅÆÂ†¥Âêà:</p>
                        <ul style="text-align: left; display: inline-block;">
                            <li><strong>AI„ÉÅ„É£„ÉÉ„ÉàÁõ∏Ë´á</strong>: ÂÖ∑‰ΩìÁöÑ„Å™ÁóáÁä∂„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèÁõ∏Ë´á</li>
                            <li><strong>ÂØæË©±ÂºèÁóáÁä∂Ë®∫Êñ≠</strong>: ÊÆµÈöéÁöÑ„Å™Ë®∫Êñ≠„ÅßÂïèÈ°å„ÇíÁâπÂÆö</li>
                            <li><strong>Â∞ÇÈñÄÂ∫óÁõ∏Ë´á</strong>: Â≤°Â±±„Ç≠„É£„É≥„Éî„É≥„Ç∞„Ç´„Éº‰øÆÁêÜ„Çµ„Éù„Éº„Éà„Çª„É≥„Çø„Éº</li>
                        </ul>
                    </div>
                </div>
            `;
            
            resultsSection.classList.add('show');
        }

        // „Çø„Ç∞Ê§úÁ¥¢
        function searchTag(tag) {
            document.getElementById('searchInput').value = tag;
            document.getElementById('searchForm').dispatchEvent(new Event('submit'));
        }

        // „Ç®„É©„ÉºË°®Á§∫
        function displayError(message) {
            const resultsContainer = document.getElementById('resultsContainer');
            const resultsSection = document.getElementById('resultsSection');
            
            resultsContainer.innerHTML = `
                <div class="no-results">
                    <h3>‚ùå „Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü</h3>
                    <p>${message}</p>
                </div>
            `;
            
            resultsSection.classList.add('show');
        }

        // SERPÊ§úÁ¥¢ÂÆüË°åÈñ¢Êï∞
        window.executeSERPSearch = async function() {
            const searchInput = document.getElementById('searchInput');
            const query = searchInput.value.trim();
            
            console.log('üåê SERPÊ§úÁ¥¢ÂÆüË°å:', query);
            
            if (!query) {
                alert('Ê§úÁ¥¢„Ç≠„Éº„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                return;
            }
            
            // „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫
            showLoading();
            
            try {
                // SERPÊ§úÁ¥¢ÂÆüË°å
                const results = await searchWithSERP(query);
                console.log('üìä SERPÊ§úÁ¥¢ÁµêÊûú:', results);
                
                if (results && results.length > 0) {
                    // ÁµêÊûúË°®Á§∫
                    displayResults(results, query, '„É™„Ç¢„É´„Çø„Ç§„É†Ê§úÁ¥¢ÁµêÊûú');
                } else {
                    showError('„É™„Ç¢„É´„Çø„Ç§„É†ÊÉÖÂ†±„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ');
                }
                
            } catch (error) {
                console.error('‚ùå SERPÊ§úÁ¥¢„Ç®„É©„Éº:', error);
                showError('„É™„Ç¢„É´„Çø„Ç§„É†Ê§úÁ¥¢‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ');
            } finally {
                hideLoading();
            }
        }

        // ‰æ°Ê†ºÊ§úÁ¥¢ÂÆüË°åÈñ¢Êï∞
        window.executePriceSearch = async function() {
            const searchInput = document.getElementById('searchInput');
            const query = searchInput.value.trim();
            
            console.log('üí∞ ‰æ°Ê†ºÊ§úÁ¥¢ÂÆüË°å:', query);
            
            if (!query) {
                alert('Ê§úÁ¥¢„Ç≠„Éº„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                return;
            }
            
            // „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫
            showLoading();
            
            try {
                // „Åæ„ÅöJSON„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâÊ§úÁ¥¢
                const jsonResults = await searchRepairCostsFromJSON(query);
                console.log('üìä JSON‰æ°Ê†ºÊ§úÁ¥¢ÁµêÊûú:', jsonResults);
                
                if (jsonResults && jsonResults.length > 0) {
                    // JSON„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÁµêÊûú„ÇíË°®Á§∫
                    displayResults(jsonResults, query, '‰øÆÁêÜË≤ªÁî®„Éá„Éº„Çø„Éô„Éº„Çπ');
                } else {
                    // JSON„Éá„Éº„Çø„Éô„Éº„Çπ„Å´„Å™„ÅÑÂ†¥Âêà„ÅØ„ÄÅÂæìÊù•„ÅÆ‰æ°Ê†ºÊ§úÁ¥¢„ÇíÂÆüË°å
                    const results = await searchPartsPrice(query);
                    console.log('üìä ‰æ°Ê†ºÊ§úÁ¥¢ÁµêÊûú:', results);
                    
                    if (results && results.length > 0) {
                        displayResults(results, query, '‰æ°Ê†ºÊ§úÁ¥¢ÁµêÊûú');
                    } else {
                        showError('‰æ°Ê†ºÊÉÖÂ†±„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ');
                    }
                }
                
            } catch (error) {
                console.error('‚ùå ‰æ°Ê†ºÊ§úÁ¥¢„Ç®„É©„Éº:', error);
                showError('‰æ°Ê†ºÊ§úÁ¥¢‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ');
            } finally {
                hideLoading();
            }
        }

        // JSON„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„Çâ‰øÆÁêÜË≤ªÁî®„ÇíÊ§úÁ¥¢
        async function searchRepairCostsFromJSON(query) {
            try {
                // JSON„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Åø
                const response = await fetch('/api/repair_costs');
                if (!response.ok) {
                    throw new Error('‰øÆÁêÜË≤ªÁî®„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');
                }
                
                const data = await response.json();
                const results = [];
                
                // „ÇØ„Ç®„É™„Å´Âü∫„Å•„ÅÑ„Å¶Èñ¢ÈÄ£„Åô„ÇãÂïÜÂìÅ„ÇíÊ§úÁ¥¢
                const queryLower = query.toLowerCase();
                
                // ÂêÑ„Ç´„ÉÜ„Ç¥„É™„ÇíÊ§úÁ¥¢
                for (const [categoryKey, categoryData] of Object.entries(data.repair_costs)) {
                    const categoryName = categoryData.category;
                    
                    // „Ç´„ÉÜ„Ç¥„É™Âêç„Åß„Éû„ÉÉ„ÉÅ„É≥„Ç∞
                    if (categoryName.includes(query) || queryLower.includes(categoryKey)) {
                        // ÂïÜÂìÅÊÉÖÂ†±„ÇíËøΩÂä†
                        if (categoryData.products) {
                            for (const product of categoryData.products) {
                                results.push({
                                    type: 'product',
                                    category: categoryName,
                                    name: product.name,
                                    price: product.price,
                                    labor_cost: product.labor_cost,
                                    total_cost: product.total_cost,
                                    description: product.description,
                                    power: product.power || product.capacity || product.voltage || '',
                                    source: 'JSON„Éá„Éº„Çø„Éô„Éº„Çπ'
                                });
                            }
                        }
                        
                        // ÈÉ®ÂìÅÊÉÖÂ†±„ÇíËøΩÂä†
                        if (categoryData.parts) {
                            for (const part of categoryData.parts) {
                                results.push({
                                    type: 'part',
                                    category: categoryName,
                                    name: part.name,
                                    price: part.price,
                                    description: part.description,
                                    source: 'JSON„Éá„Éº„Çø„Éô„Éº„Çπ'
                                });
                            }
                        }
                    }
                    
                    // ÂïÜÂìÅÂêç„Åß„Éû„ÉÉ„ÉÅ„É≥„Ç∞
                    if (categoryData.products) {
                        for (const product of categoryData.products) {
                            if (product.name.toLowerCase().includes(queryLower) || 
                                queryLower.includes(product.name.toLowerCase())) {
                                results.push({
                                    type: 'product',
                                    category: categoryName,
                                    name: product.name,
                                    price: product.price,
                                    labor_cost: product.labor_cost,
                                    total_cost: product.total_cost,
                                    description: product.description,
                                    power: product.power || product.capacity || product.voltage || '',
                                    source: 'JSON„Éá„Éº„Çø„Éô„Éº„Çπ'
                                });
                            }
                        }
                    }
                }
                
                return results;
                
            } catch (error) {
                console.error('JSON„Éá„Éº„Çø„Éô„Éº„ÇπÊ§úÁ¥¢„Ç®„É©„Éº:', error);
                return [];
            }
        }

        // Áµ±Âêà„ÉÅ„É£„ÉÉ„Éà„Éú„ÉÉ„Éà„Å´Êàª„ÇãÈñ¢Êï∞
        function goBackToChatbot() {
            window.location.href = 'http://localhost:5001/unified_chatbot.html';
        }

        // „ÉÜ„Çπ„ÉàÁî®„ÅÆÊ§úÁ¥¢Èñ¢Êï∞
        window.testSearch = function() {
            const testQueries = ['„Éê„ÉÉ„ÉÜ„É™„Éº„ÅåÂÖÖÈõª„Åï„Çå„Å™„ÅÑ', '„Éà„Ç§„É¨„ÅÆÊ∞¥„ÅåÊµÅ„Çå„Å™„ÅÑ', '„Ç®„Ç¢„Ç≥„É≥„ÅåÂÜ∑„Åà„Å™„ÅÑ', 'Èõ®Êºè„Çä„Åå„Åô„Çã'];
            const randomQuery = testQueries[Math.floor(Math.random() * testQueries.length)];
            document.getElementById('searchInput').value = randomQuery;
            console.log('üß™ „ÉÜ„Çπ„ÉàÊ§úÁ¥¢ÂÆüË°å:', randomQuery);
            window.executeSearch();
        }

        // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÔºàÊúÄÈÅ©ÂåñÁâàÔºâ
        // DOMContentLoaded„Çí‰ΩøÁî®„Åó„Å¶„Çà„ÇäÊó©„ÅèË°®Á§∫
        document.addEventListener('DOMContentLoaded', function() {
            console.log('‚ö° DOMË™≠„ÅøËæº„ÅøÂÆå‰∫ÜÔºàÈ´òÈÄüË°®Á§∫Ôºâ');
            
            // „Éï„Çß„Éº„Éâ„Ç§„É≥„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÇíÂç≥Â∫ß„Å´ÈñãÂßã
            const elements = document.querySelectorAll('.fade-in');
            elements.forEach((element, index) => {
                setTimeout(() => {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, index * 50); // 100ms ‚Üí 50ms„Å´Áü≠Á∏Æ
            });
        });
        
        window.addEventListener('load', function() {
            console.log('üöÄ „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
            
            // „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±„ÅÆË°®Á§∫
            console.log('üîß „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±:');
            console.log('- Ê§úÁ¥¢„Éï„Ç©„Éº„É†:', document.getElementById('searchForm') ? '‚úÖ Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®');
            console.log('- Ê§úÁ¥¢ÂÖ•Âäõ:', document.getElementById('searchInput') ? '‚úÖ Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®');
            console.log('- „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë¶ÅÁ¥†:', document.getElementById('loading') ? '‚úÖ Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®');
            console.log('- ÁµêÊûú„Çª„ÇØ„Ç∑„Éß„É≥:', document.getElementById('resultsSection') ? '‚úÖ Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®');
            console.log('- ÁµêÊûú„Ç≥„É≥„ÉÜ„Éä:', document.getElementById('resultsContainer') ? '‚úÖ Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®');
            
            // „ÉÜ„Çπ„ÉàÁî®„ÅÆÊ§úÁ¥¢„Éú„Çø„É≥„ÇíËøΩÂä†ÔºàÈñãÁô∫ÊôÇ„ÅÆ„ÅøÔºâ
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                const testButton = document.createElement('button');
                testButton.textContent = 'üß™ „ÉÜ„Çπ„ÉàÊ§úÁ¥¢';
                testButton.style.cssText = 'position: fixed; top: 10px; right: 10px; z-index: 1000; background: #28a745; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer;';
                testButton.onclick = window.testSearch;
                document.body.appendChild(testButton);
                console.log('üß™ „ÉÜ„Çπ„ÉàÊ§úÁ¥¢„Éú„Çø„É≥„ÇíËøΩÂä†„Åó„Åæ„Åó„Åü');
                
                // „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±Ë°®Á§∫
                const debugInfo = document.createElement('div');
                debugInfo.id = 'debugInfo';
                debugInfo.style.cssText = 'position: fixed; top: 50px; right: 10px; z-index: 1000; background: rgba(0,0,0,0.8); color: white; padding: 10px; border-radius: 5px; font-size: 12px; max-width: 200px;';
                debugInfo.innerHTML = `
                    <div>ÁèæÂú®„ÅÆÊ§úÁ¥¢Áä∂ÊÖã: <span id="searchStatus">„Å™„Åó</span></div>
                    <div>Ê§úÁ¥¢„ÇØ„Ç®„É™: <span id="searchQuery">-</span></div>
                    <div>Ê§úÁ¥¢„Éú„Çø„É≥: <span id="buttonStatus">True</span></div>
                `;
                document.body.appendChild(debugInfo);
                console.log('üîß „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±„ÇíËøΩÂä†„Åó„Åæ„Åó„Åü');
            }
        });
    </script>
</body>
</html>
