{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/udemy-langchain/camper-repair-clean/frontend/components/Navigation.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\n\r\nexport default function Navigation() {\r\n  const pathname = usePathname();\r\n\r\n  const navLinks = [\r\n    { href: '/', label: 'ğŸ  ãƒ›ãƒ¼ãƒ ', icon: 'ğŸ ' },\r\n    { href: '/chat', label: 'ğŸ’¬ ãƒãƒ£ãƒƒãƒˆ', icon: 'ğŸ’¬' },\r\n    { href: '/partner', label: 'ğŸ”§ ä¿®ç†åº—ç´¹ä»‹', icon: 'ğŸ”§' },\r\n    { href: '/factory', label: 'ğŸ­ å·¥å ´ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰', icon: 'ğŸ­' },\r\n    { href: '/admin', label: 'âš™ï¸ ç®¡ç†è€…ç”»é¢', icon: 'âš™ï¸' },\r\n  ];\r\n\r\n  return (\r\n    <nav className=\"bg-white/95 backdrop-blur-sm rounded-lg shadow-md p-4 mb-6\">\r\n      <div className=\"flex flex-wrap gap-2 justify-center items-center\">\r\n        {navLinks.map((link) => {\r\n          const isActive = pathname === link.href;\r\n          return (\r\n            <Link\r\n              key={link.href}\r\n              href={link.href}\r\n              className={`px-4 py-2 rounded-lg font-semibold transition-all ${\r\n                isActive\r\n                  ? 'bg-purple-600 text-white shadow-lg'\r\n                  : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n              }`}\r\n            >\r\n              {link.label}\r\n            </Link>\r\n          );\r\n        })}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,WAAW,IAAA,8NAAW;IAE5B,MAAM,WAAW;QACf;YAAE,MAAM;YAAK,OAAO;YAAU,MAAM;QAAK;QACzC;YAAE,MAAM;YAAS,OAAO;YAAW,MAAM;QAAK;QAC9C;YAAE,MAAM;YAAY,OAAO;YAAY,MAAM;QAAK;QAClD;YAAE,MAAM;YAAY,OAAO;YAAgB,MAAM;QAAK;QACtD;YAAE,MAAM;YAAU,OAAO;YAAY,MAAM;QAAK;KACjD;IAED,qBACE,uQAAC;QAAI,WAAU;kBACb,cAAA,uQAAC;YAAI,WAAU;sBACZ,SAAS,GAAG,CAAC,CAAC;gBACb,MAAM,WAAW,aAAa,KAAK,IAAI;gBACvC,qBACE,uQAAC,oPAAI;oBAEH,MAAM,KAAK,IAAI;oBACf,WAAW,CAAC,kDAAkD,EAC5D,WACI,uCACA,+CACJ;8BAED,KAAK,KAAK;mBARN,KAAK,IAAI;;;;;YAWpB;;;;;;;;;;;AAIR;GAjCwB;;QACL,8NAAW;;;KADN"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/udemy-langchain/camper-repair-clean/frontend/lib/api.ts"],"sourcesContent":["/**\r\n * APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ\r\n * æ—¢å­˜ã®Flaskãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã¨é€šä¿¡ã™ã‚‹ãŸã‚ã®é–¢æ•°ç¾¤\r\n */\r\n\r\nimport axios from 'axios';\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5002';\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 60000, // 60ç§’ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\r\n});\r\n\r\n// ãƒãƒ£ãƒƒãƒˆAPI\r\nexport interface ChatMessage {\r\n  message: string;\r\n  session_id?: string;\r\n}\r\n\r\nexport interface ChatResponse {\r\n  answer?: string;\r\n  response?: string;\r\n  type?: string;\r\n  error?: string;\r\n}\r\n\r\nexport const chatApi = {\r\n  /**\r\n   * ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡\r\n   */\r\n  sendMessage: async (message: string, sessionId?: string): Promise<ChatResponse> => {\r\n    const response = await apiClient.post<ChatResponse>('/api/unified/chat', {\r\n      message,\r\n      session_id: sessionId,\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * ä¼šè©±ã‚’é–‹å§‹\r\n   */\r\n  startConversation: async (sessionId?: string): Promise<ChatResponse> => {\r\n    const response = await apiClient.post<ChatResponse>('/start_conversation', {\r\n      session_id: sessionId,\r\n    });\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// å·¥å ´ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰API\r\nexport interface FactoryCase {\r\n  id: string;\r\n  title: string;\r\n  status: string;\r\n  created_at: string;\r\n  [key: string]: any;\r\n}\r\n\r\nexport const factoryApi = {\r\n  /**\r\n   * æ¡ˆä»¶ä¸€è¦§ã‚’å–å¾—\r\n   */\r\n  getCases: async (status?: string): Promise<FactoryCase[]> => {\r\n    try {\r\n      const params = status ? { status } : {};\r\n      const response = await apiClient.get<{ success: boolean; cases: FactoryCase[] }>('/admin/api/cases', { params });\r\n      \r\n      if (response.data.success && response.data.cases) {\r\n        return response.data.cases;\r\n      }\r\n      \r\n      // äº’æ›æ€§ã®ãŸã‚ã€casesãŒç›´æ¥é…åˆ—ã®å ´åˆã‚‚å¯¾å¿œ\r\n      if (Array.isArray(response.data)) {\r\n        return response.data;\r\n      }\r\n      \r\n      return [];\r\n    } catch (error: any) {\r\n      console.error('æ¡ˆä»¶å–å¾—APIã‚¨ãƒ©ãƒ¼:', error);\r\n      if (error.response) {\r\n        console.error('ãƒ¬ã‚¹ãƒãƒ³ã‚¹:', error.response.data);\r\n        console.error('ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:', error.response.status);\r\n      }\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * æ¡ˆä»¶ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°\r\n   */\r\n  updateCaseStatus: async (pageId: string, status: string): Promise<void> => {\r\n    await apiClient.post('/admin/api/update-status', {\r\n      page_id: pageId,\r\n      status,\r\n    });\r\n  },\r\n\r\n  /**\r\n   * ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ \r\n   */\r\n  addComment: async (pageId: string, comment: string): Promise<void> => {\r\n    await apiClient.post('/admin/api/add-comment', {\r\n      page_id: pageId,\r\n      comment,\r\n    });\r\n  },\r\n};\r\n\r\n// å·¥å ´ãƒãƒƒãƒãƒ³ã‚°APIï¼ˆãƒ•ã‚§ãƒ¼ã‚º4-1ï¼‰\r\nexport interface CaseInfo {\r\n  category?: string;\r\n  user_message?: string;\r\n  customer_location?: string;\r\n  prefecture?: string;\r\n}\r\n\r\nexport interface MatchedFactory {\r\n  factory_id: string;\r\n  name: string;\r\n  prefecture: string;\r\n  specialties: string[];\r\n  matching_score: number;\r\n  score_details: {\r\n    location_score: number;\r\n    specialty_score: number;\r\n    workload_score: number;\r\n    rating_score: number;\r\n    total_score: number;\r\n  };\r\n  [key: string]: any;\r\n}\r\n\r\nexport const factoryMatchingApi = {\r\n  /**\r\n   * æ¡ˆä»¶ã«æœ€é©ãªå·¥å ´ã‚’ãƒãƒƒãƒãƒ³ã‚°\r\n   */\r\n  matchFactories: async (\r\n    caseInfo: CaseInfo,\r\n    maxResults: number = 5\r\n  ): Promise<MatchedFactory[]> => {\r\n    try {\r\n      const response = await apiClient.post<{\r\n        success: boolean;\r\n        matched_factories: MatchedFactory[];\r\n        count: number;\r\n      }>('/api/v1/factories/match', {\r\n        case: caseInfo,\r\n        max_results: maxResults,\r\n      });\r\n\r\n      if (response.data.success && response.data.matched_factories) {\r\n        return response.data.matched_factories;\r\n      }\r\n\r\n      return [];\r\n    } catch (error: any) {\r\n      console.error('å·¥å ´ãƒãƒƒãƒãƒ³ã‚°APIã‚¨ãƒ©ãƒ¼:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * æ¡ˆä»¶ã‚’è‡ªå‹•çš„ã«æœ€é©ãªå·¥å ´ã«å‰²ã‚Šå½“ã¦\r\n   */\r\n  autoAssignCase: async (\r\n    caseId: string,\r\n    caseInfo: CaseInfo\r\n  ): Promise<MatchedFactory | null> => {\r\n    try {\r\n      const response = await apiClient.post<{\r\n        success: boolean;\r\n        assigned_factory?: MatchedFactory;\r\n        error?: string;\r\n      }>(`/api/v1/cases/${caseId}/auto-assign`, {\r\n        case: caseInfo,\r\n      });\r\n\r\n      if (response.data.success && response.data.assigned_factory) {\r\n        return response.data.assigned_factory;\r\n      }\r\n\r\n      return null;\r\n    } catch (error: any) {\r\n      console.error('æ¡ˆä»¶è‡ªå‹•å‰²ã‚Šå½“ã¦APIã‚¨ãƒ©ãƒ¼:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¿®ç†åº—APIï¼ˆãƒ•ã‚§ãƒ¼ã‚º4-2ï¼‰\r\nexport interface PartnerShop {\r\n  shop_id: string;\r\n  name: string;\r\n  phone: string;\r\n  email: string;\r\n  prefecture: string;\r\n  address: string;\r\n  specialties: string[];\r\n  business_hours: string;\r\n  initial_diagnosis_fee: number;\r\n  success_rate: number;\r\n  total_referrals: number;\r\n  total_deals: number;\r\n  status: string;\r\n  line_notification: boolean;\r\n  line_webhook_url?: string;\r\n  page_id: string;\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface Deal {\r\n  deal_id: string;\r\n  customer_name: string;\r\n  phone: string;\r\n  email?: string;\r\n  prefecture: string;\r\n  symptom_category: string;\r\n  symptom_detail: string;\r\n  partner_page_ids: string[];\r\n  inquiry_date: string;\r\n  status: string;\r\n  deal_date?: string;\r\n  deal_amount: number;\r\n  commission_rate: number;\r\n  commission_amount: number;\r\n  payment_status: string;\r\n  notes?: string;\r\n  page_id: string;\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface InquiryFormData {\r\n  customer_name: string;\r\n  phone: string;\r\n  email?: string;\r\n  prefecture: string;\r\n  symptom_category: string;\r\n  symptom_detail: string;\r\n  partner_page_id: string;\r\n}\r\n\r\nexport const partnerShopApi = {\r\n  /**\r\n   * ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¿®ç†åº—ä¸€è¦§ã‚’å–å¾—\r\n   */\r\n  getShops: async (\r\n    status?: string,\r\n    prefecture?: string,\r\n    specialty?: string\r\n  ): Promise<PartnerShop[]> => {\r\n    try {\r\n      const params: any = {};\r\n      if (status) params.status = status;\r\n      if (prefecture) params.prefecture = prefecture;\r\n      if (specialty) params.specialty = specialty;\r\n\r\n      const response = await apiClient.get<{\r\n        shops: PartnerShop[];\r\n        count: number;\r\n      }>('/api/v1/partner-shops', { params });\r\n\r\n      return response.data.shops || [];\r\n    } catch (error: any) {\r\n      console.error('ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¿®ç†åº—ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼:', error);\r\n      // æ¥ç¶šã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯ã‚ˆã‚Šè©³ç´°ãªæƒ…å ±ã‚’æä¾›\r\n      if (error.code === 'ECONNREFUSED' || error.message?.includes('Network Error')) {\r\n        const connectionError = new Error('ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã¾ã›ã‚“ã€‚ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚');\r\n        (connectionError as any).code = error.code;\r\n        throw connectionError;\r\n      }\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¿®ç†åº—è©³ç´°ã‚’å–å¾—\r\n   */\r\n  getShop: async (shopId: string): Promise<PartnerShop | null> => {\r\n    try {\r\n      const response = await apiClient.get<PartnerShop>(\r\n        `/api/v1/partner-shops/${shopId}`\r\n      );\r\n      return response.data;\r\n    } catch (error: any) {\r\n      console.error('ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¿®ç†åº—å–å¾—ã‚¨ãƒ©ãƒ¼:', error);\r\n      return null;\r\n    }\r\n  },\r\n};\r\n\r\nexport const dealApi = {\r\n  /**\r\n   * å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã‚’é€ä¿¡ï¼ˆå•†è«‡ä½œæˆï¼‰\r\n   */\r\n  submitInquiry: async (formData: InquiryFormData): Promise<Deal> => {\r\n    try {\r\n      const response = await apiClient.post<{\r\n        success: boolean;\r\n        deal: Deal;\r\n        message: string;\r\n      }>('/api/v1/deals', formData);\r\n\r\n      if (response.data.success && response.data.deal) {\r\n        return response.data.deal;\r\n      }\r\n\r\n      throw new Error(response.data.message || 'å•ã„åˆã‚ã›ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ');\r\n    } catch (error: any) {\r\n      console.error('å•ã„åˆã‚ã›é€ä¿¡ã‚¨ãƒ©ãƒ¼:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * å•†è«‡ä¸€è¦§ã‚’å–å¾—\r\n   */\r\n  getDeals: async (\r\n    status?: string,\r\n    partnerPageId?: string\r\n  ): Promise<Deal[]> => {\r\n    try {\r\n      const params: any = {};\r\n      if (status) params.status = status;\r\n      if (partnerPageId) params.partner_page_id = partnerPageId;\r\n\r\n      const response = await apiClient.get<{\r\n        deals: Deal[];\r\n        count: number;\r\n      }>('/api/v1/deals', { params });\r\n\r\n      return response.data.deals || [];\r\n    } catch (error: any) {\r\n      console.error('å•†è«‡ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * å•†è«‡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°\r\n   */\r\n  updateStatus: async (\r\n    dealId: string,\r\n    status: string\r\n  ): Promise<Deal> => {\r\n    try {\r\n      const response = await apiClient.patch<{\r\n        success: boolean;\r\n        deal: Deal;\r\n      }>(`/api/v1/deals/${dealId}/status`, { status });\r\n\r\n      if (response.data.success && response.data.deal) {\r\n        return response.data.deal;\r\n      }\r\n\r\n      throw new Error('ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ');\r\n    } catch (error: any) {\r\n      console.error('ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°ã‚¨ãƒ©ãƒ¼:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * æˆç´„é‡‘é¡ã‚’æ›´æ–°\r\n   */\r\n  updateAmount: async (\r\n    dealId: string,\r\n    dealAmount: number,\r\n    commissionRate?: number\r\n  ): Promise<Deal> => {\r\n    try {\r\n      const response = await apiClient.patch<{\r\n        success: boolean;\r\n        deal: Deal;\r\n      }>(`/api/v1/deals/${dealId}/amount`, {\r\n        deal_amount: dealAmount,\r\n        commission_rate: commissionRate,\r\n      });\r\n\r\n      if (response.data.success && response.data.deal) {\r\n        return response.data.deal;\r\n      }\r\n\r\n      throw new Error('æˆç´„é‡‘é¡æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ');\r\n    } catch (error: any) {\r\n      console.error('æˆç´„é‡‘é¡æ›´æ–°ã‚¨ãƒ©ãƒ¼:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// ç®¡ç†è€…API\r\nexport interface FileInfo {\r\n  name: string;\r\n  size: string;\r\n}\r\n\r\nexport interface SystemInfo {\r\n  dbStatus: string;\r\n  docCount: number;\r\n}\r\n\r\nexport interface Builder {\r\n  id: string;\r\n  name: string;\r\n  prefecture: string;\r\n  address: string;\r\n  phone: string;\r\n  email: string;\r\n  status: string;\r\n}\r\n\r\nexport const adminApi = {\r\n  /**\r\n   * ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å†æ§‹ç¯‰\r\n   */\r\n  reloadDatabase: async (): Promise<{ success: boolean; message?: string; error?: string }> => {\r\n    const response = await apiClient.post('/reload_data');\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ã‚’å–å¾—\r\n   */\r\n  getFileList: async (): Promise<FileInfo[]> => {\r\n    try {\r\n      const response = await apiClient.get('/api/admin/files');\r\n      return response.data.files || [];\r\n    } catch (error) {\r\n      console.error('ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼:', error);\r\n      return [];\r\n    }\r\n  },\r\n\r\n  /**\r\n   * ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ã‚’å–å¾—\r\n   */\r\n  getSystemInfo: async (): Promise<SystemInfo> => {\r\n    try {\r\n      const response = await apiClient.get('/api/admin/system-info');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼:', error);\r\n      return {\r\n        dbStatus: 'ã‚¨ãƒ©ãƒ¼',\r\n        docCount: 0,\r\n      };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * ãƒ“ãƒ«ãƒ€ãƒ¼ä¸€è¦§ã‚’å–å¾—\r\n   */\r\n  getBuilders: async (): Promise<Builder[]> => {\r\n    try {\r\n      const response = await apiClient.get('/api/v1/builders');\r\n      return response.data.builders || [];\r\n    } catch (error) {\r\n      console.error('ãƒ“ãƒ«ãƒ€ãƒ¼ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * å·¥å ´ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æƒ…å ±ã‚’å–å¾—\r\n   */\r\n  getFactoryNetwork: async () => {\r\n    try {\r\n      const response = await apiClient.get('/api/admin/factory-network');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('å·¥å ´ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼:', error);\r\n      return { factories: [] };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * ãƒˆãƒ©ãƒ–ãƒ«å‚¾å‘åˆ†æã‚’å–å¾—\r\n   */\r\n  getAnalytics: async () => {\r\n    try {\r\n      const response = await apiClient.get('/api/admin/analytics');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('ãƒˆãƒ©ãƒ–ãƒ«å‚¾å‘åˆ†æå–å¾—ã‚¨ãƒ©ãƒ¼:', error);\r\n      return { trends: [] };\r\n    }\r\n  },\r\n};\r\n\r\n// å·¥è³ƒæ¨å®šAPIï¼ˆãƒ•ã‚§ãƒ¼ã‚º4-4ï¼‰\r\nexport interface CostEstimationRequest {\r\n  symptoms: string;\r\n  category?: string;\r\n  vehicle_info?: string;\r\n}\r\n\r\nexport interface CostEstimation {\r\n  estimated_work_hours: number;\r\n  difficulty: string;\r\n  labor_cost_min: number;\r\n  labor_cost_max: number;\r\n  parts_cost_min: number;\r\n  parts_cost_max: number;\r\n  diagnosis_fee: number;\r\n  total_cost_min: number;\r\n  total_cost_max: number;\r\n  reasoning: string;\r\n  similar_cases_count?: number;\r\n  similar_cases_avg_cost?: number;\r\n}\r\n\r\nexport const costEstimationApi = {\r\n  /**\r\n   * å·¥è³ƒã‚’æ¨å®š\r\n   */\r\n  estimateCost: async (request: CostEstimationRequest): Promise<CostEstimation> => {\r\n    try {\r\n      const response = await apiClient.post<{\r\n        success: boolean;\r\n        estimation: CostEstimation;\r\n        error?: string;\r\n      }>('/api/v1/cost-estimation', request);\r\n\r\n      if (response.data.success && response.data.estimation) {\r\n        return response.data.estimation;\r\n      }\r\n\r\n      throw new Error(response.data.error || 'å·¥è³ƒæ¨å®šã«å¤±æ•—ã—ã¾ã—ãŸ');\r\n    } catch (error: any) {\r\n      console.error('å·¥è³ƒæ¨å®šAPIã‚¨ãƒ©ãƒ¼:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\nexport default apiClient;\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/udemy-langchain/camper-repair-clean/frontend/components/Partner/ShopCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PartnerShop } from '@/lib/api';\r\n\r\ninterface ShopCardProps {\r\n  shop: PartnerShop;\r\n  onSelect?: (shop: PartnerShop) => void;\r\n  showSelectButton?: boolean;\r\n}\r\n\r\nexport default function ShopCard({\r\n  shop,\r\n  onSelect,\r\n  showSelectButton = false,\r\n}: ShopCardProps) {\r\n  const successRate = shop.success_rate || 0;\r\n  const successRateColor =\r\n    successRate >= 80\r\n      ? 'text-green-600'\r\n      : successRate >= 60\r\n      ? 'text-yellow-600'\r\n      : 'text-red-600';\r\n\r\n  return (\r\n    <div className=\"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow\">\r\n      <div className=\"flex justify-between items-start mb-4\">\r\n        <div>\r\n          <h3 className=\"text-xl font-bold text-gray-900 mb-1\">\r\n            {shop.shop_id} - {shop.name}\r\n          </h3>\r\n          <p className=\"text-sm text-gray-600\">\r\n            ğŸ“ {shop.prefecture} {shop.address}\r\n          </p>\r\n        </div>\r\n        {shop.status && (\r\n          <span\r\n            className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n              shop.status === 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–'\r\n                ? 'bg-green-100 text-green-800'\r\n                : shop.status === 'ä¼‘æ­¢ä¸­'\r\n                ? 'bg-yellow-100 text-yellow-800'\r\n                : 'bg-gray-100 text-gray-800'\r\n            }`}\r\n          >\r\n            {shop.status}\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"space-y-2 mb-4\">\r\n        <div className=\"flex items-center gap-2 text-sm\">\r\n          <span className=\"text-gray-600\">ğŸ“</span>\r\n          <span>{shop.phone}</span>\r\n        </div>\r\n        {shop.email && (\r\n          <div className=\"flex items-center gap-2 text-sm\">\r\n            <span className=\"text-gray-600\">ğŸ“§</span>\r\n            <span>{shop.email}</span>\r\n          </div>\r\n        )}\r\n        {shop.business_hours && (\r\n          <div className=\"flex items-center gap-2 text-sm\">\r\n            <span className=\"text-gray-600\">ğŸ•</span>\r\n            <span>{shop.business_hours}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {shop.specialties && shop.specialties.length > 0 && (\r\n        <div className=\"mb-4\">\r\n          <p className=\"text-sm font-medium text-gray-700 mb-2\">å°‚é–€åˆ†é‡:</p>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {shop.specialties.map((specialty, index) => (\r\n              <span\r\n                key={index}\r\n                className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-semibold\"\r\n              >\r\n                {specialty}\r\n              </span>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"grid grid-cols-2 gap-4 mb-4 text-sm\">\r\n        <div>\r\n          <span className=\"text-gray-600\">åˆè¨ºæ–­æ–™:</span>\r\n          <span className=\"font-semibold ml-2\">\r\n            Â¥{shop.initial_diagnosis_fee?.toLocaleString() || '0'}\r\n          </span>\r\n        </div>\r\n        <div>\r\n          <span className=\"text-gray-600\">æˆç´„ç‡:</span>\r\n          <span className={`font-semibold ml-2 ${successRateColor}`}>\r\n            {successRate.toFixed(1)}%\r\n          </span>\r\n        </div>\r\n        <div>\r\n          <span className=\"text-gray-600\">ç·ç´¹ä»‹æ•°:</span>\r\n          <span className=\"font-semibold ml-2\">{shop.total_referrals || 0}ä»¶</span>\r\n        </div>\r\n        <div>\r\n          <span className=\"text-gray-600\">æˆç´„æ•°:</span>\r\n          <span className=\"font-semibold ml-2\">{shop.total_deals || 0}ä»¶</span>\r\n        </div>\r\n      </div>\r\n\r\n      {showSelectButton && onSelect && (\r\n        <button\r\n          onClick={() => onSelect(shop)}\r\n          className=\"w-full px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-semibold\"\r\n        >\r\n          ã“ã®ä¿®ç†åº—ã‚’é¸æŠ\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;;AAUe,SAAS,SAAS,EAC/B,IAAI,EACJ,QAAQ,EACR,mBAAmB,KAAK,EACV;IACd,MAAM,cAAc,KAAK,YAAY,IAAI;IACzC,MAAM,mBACJ,eAAe,KACX,mBACA,eAAe,KACf,oBACA;IAEN,qBACE,uQAAC;QAAI,WAAU;;0BACb,uQAAC;gBAAI,WAAU;;kCACb,uQAAC;;0CACC,uQAAC;gCAAG,WAAU;;oCACX,KAAK,OAAO;oCAAC;oCAAI,KAAK,IAAI;;;;;;;0CAE7B,uQAAC;gCAAE,WAAU;;oCAAwB;oCAC/B,KAAK,UAAU;oCAAC;oCAAE,KAAK,OAAO;;;;;;;;;;;;;oBAGrC,KAAK,MAAM,kBACV,uQAAC;wBACC,WAAW,CAAC,6CAA6C,EACvD,KAAK,MAAM,KAAK,UACZ,gCACA,KAAK,MAAM,KAAK,QAChB,kCACA,6BACJ;kCAED,KAAK,MAAM;;;;;;;;;;;;0BAKlB,uQAAC;gBAAI,WAAU;;kCACb,uQAAC;wBAAI,WAAU;;0CACb,uQAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,uQAAC;0CAAM,KAAK,KAAK;;;;;;;;;;;;oBAElB,KAAK,KAAK,kBACT,uQAAC;wBAAI,WAAU;;0CACb,uQAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,uQAAC;0CAAM,KAAK,KAAK;;;;;;;;;;;;oBAGpB,KAAK,cAAc,kBAClB,uQAAC;wBAAI,WAAU;;0CACb,uQAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,uQAAC;0CAAM,KAAK,cAAc;;;;;;;;;;;;;;;;;;YAK/B,KAAK,WAAW,IAAI,KAAK,WAAW,CAAC,MAAM,GAAG,mBAC7C,uQAAC;gBAAI,WAAU;;kCACb,uQAAC;wBAAE,WAAU;kCAAyC;;;;;;kCACtD,uQAAC;wBAAI,WAAU;kCACZ,KAAK,WAAW,CAAC,GAAG,CAAC,CAAC,WAAW,sBAChC,uQAAC;gCAEC,WAAU;0CAET;+BAHI;;;;;;;;;;;;;;;;0BAUf,uQAAC;gBAAI,WAAU;;kCACb,uQAAC;;0CACC,uQAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,uQAAC;gCAAK,WAAU;;oCAAqB;oCACjC,KAAK,qBAAqB,EAAE,oBAAoB;;;;;;;;;;;;;kCAGtD,uQAAC;;0CACC,uQAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,uQAAC;gCAAK,WAAW,CAAC,mBAAmB,EAAE,kBAAkB;;oCACtD,YAAY,OAAO,CAAC;oCAAG;;;;;;;;;;;;;kCAG5B,uQAAC;;0CACC,uQAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,uQAAC;gCAAK,WAAU;;oCAAsB,KAAK,eAAe,IAAI;oCAAE;;;;;;;;;;;;;kCAElE,uQAAC;;0CACC,uQAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,uQAAC;gCAAK,WAAU;;oCAAsB,KAAK,WAAW,IAAI;oCAAE;;;;;;;;;;;;;;;;;;;YAI/D,oBAAoB,0BACnB,uQAAC;gBACC,SAAS,IAAM,SAAS;gBACxB,WAAU;0BACX;;;;;;;;;;;;AAMT;KA3GwB"}},
    {"offset": {"line": 733, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/udemy-langchain/camper-repair-clean/frontend/components/Partner/ShopList.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { partnerShopApi, PartnerShop } from '@/lib/api';\r\nimport ShopCard from './ShopCard';\r\n\r\ninterface ShopListProps {\r\n  prefecture?: string;\r\n  specialty?: string;\r\n  onShopSelect?: (shop: PartnerShop) => void;\r\n  showSelectButton?: boolean;\r\n}\r\n\r\nexport default function ShopList({\r\n  prefecture,\r\n  specialty,\r\n  onShopSelect,\r\n  showSelectButton = false,\r\n}: ShopListProps) {\r\n  const [shops, setShops] = useState<PartnerShop[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    loadShops();\r\n  }, [prefecture, specialty]);\r\n\r\n  const loadShops = async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const shopList = await partnerShopApi.getShops(\r\n        'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–', // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªåº—èˆ—ã®ã¿\r\n        prefecture,\r\n        specialty\r\n      );\r\n      setShops(shopList);\r\n    } catch (err: any) {\r\n      console.error('ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¿®ç†åº—ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼:', err);\r\n      \r\n      // ã‚ˆã‚Šè©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º\r\n      let errorMessage = 'ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¿®ç†åº—ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ';\r\n      \r\n      if (err.code === 'ECONNREFUSED' || err.message?.includes('Network Error')) {\r\n        errorMessage = 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã¾ã›ã‚“ã€‚ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚';\r\n      } else if (err.response?.status === 404) {\r\n        errorMessage = 'APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚';\r\n      } else if (err.response?.data?.error) {\r\n        errorMessage = err.response.data.error;\r\n      } else if (err.message) {\r\n        errorMessage = err.message;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\r\n        <p className=\"mt-2 text-gray-600\">èª­ã¿è¾¼ã¿ä¸­...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-100 text-red-800 p-4 rounded-lg border border-red-300\">\r\n        âŒ {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (shops.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-8 text-gray-600\">\r\n        ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¿®ç†åº—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n      {shops.map((shop) => (\r\n        <ShopCard\r\n          key={shop.shop_id || shop.page_id}\r\n          shop={shop}\r\n          onSelect={onShopSelect}\r\n          showSelectButton={showSelectButton}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAae,SAAS,SAAS,EAC/B,UAAU,EACV,SAAS,EACT,YAAY,EACZ,mBAAmB,KAAK,EACV;;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAgB,EAAE;IACpD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,mPAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAgB;IAElD,IAAA,oPAAS;8BAAC;YACR;QACF;6BAAG;QAAC;QAAY;KAAU;IAE1B,MAAM,YAAY;QAChB,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,yMAAc,CAAC,QAAQ,CAC5C,SACA,YACA;YAEF,SAAS;QACX,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,oBAAoB;YAElC,mBAAmB;YACnB,IAAI,eAAe;YAEnB,IAAI,IAAI,IAAI,KAAK,kBAAkB,IAAI,OAAO,EAAE,SAAS,kBAAkB;gBACzE,eAAe;YACjB,OAAO,IAAI,IAAI,QAAQ,EAAE,WAAW,KAAK;gBACvC,eAAe;YACjB,OAAO,IAAI,IAAI,QAAQ,EAAE,MAAM,OAAO;gBACpC,eAAe,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK;YACxC,OAAO,IAAI,IAAI,OAAO,EAAE;gBACtB,eAAe,IAAI,OAAO;YAC5B;YAEA,SAAS;QACX,SAAU;YACR,aAAa;QACf;IACF;IAEA,IAAI,WAAW;QACb,qBACE,uQAAC;YAAI,WAAU;;8BACb,uQAAC;oBAAI,WAAU;;;;;;8BACf,uQAAC;oBAAE,WAAU;8BAAqB;;;;;;;;;;;;IAGxC;IAEA,IAAI,OAAO;QACT,qBACE,uQAAC;YAAI,WAAU;;gBAA+D;gBACzE;;;;;;;IAGT;IAEA,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,qBACE,uQAAC;YAAI,WAAU;sBAAiC;;;;;;IAIpD;IAEA,qBACE,uQAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,qBACV,uQAAC,0NAAQ;gBAEP,MAAM;gBACN,UAAU;gBACV,kBAAkB;eAHb,KAAK,OAAO,IAAI,KAAK,OAAO;;;;;;;;;;AAQ3C;GApFwB;KAAA"}},
    {"offset": {"line": 861, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/udemy-langchain/camper-repair-clean/frontend/components/Partner/InquiryForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { dealApi, InquiryFormData, costEstimationApi, CostEstimation } from '@/lib/api';\r\n\r\ninterface InquiryFormProps {\r\n  defaultCategory?: string;\r\n  defaultDetail?: string;\r\n  defaultPrefecture?: string;\r\n  partnerPageId?: string;\r\n  onSuccess?: (dealId: string) => void;\r\n  onCancel?: () => void;\r\n}\r\n\r\nexport default function InquiryForm({\r\n  defaultCategory = '',\r\n  defaultDetail = '',\r\n  defaultPrefecture = '',\r\n  partnerPageId = '',\r\n  onSuccess,\r\n  onCancel,\r\n}: InquiryFormProps) {\r\n  const [formData, setFormData] = useState<InquiryFormData>({\r\n    customer_name: '',\r\n    phone: '',\r\n    email: '',\r\n    prefecture: defaultPrefecture,\r\n    symptom_category: defaultCategory,\r\n    symptom_detail: defaultDetail,\r\n    partner_page_id: partnerPageId,\r\n  });\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState(false);\r\n  const [isEstimating, setIsEstimating] = useState(false);\r\n  const [estimation, setEstimation] = useState<CostEstimation | null>(null);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setError(null);\r\n    setSuccess(false);\r\n\r\n    try {\r\n      // å¿…é ˆé …ç›®ãƒã‚§ãƒƒã‚¯\r\n      if (!formData.customer_name || !formData.phone || !formData.prefecture) {\r\n        setError('åå‰ã€é›»è©±ç•ªå·ã€éƒ½é“åºœçœŒã¯å¿…é ˆã§ã™');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (!formData.symptom_category || !formData.symptom_detail) {\r\n        setError('ç—‡çŠ¶ã‚«ãƒ†ã‚´ãƒªã¨ç—‡çŠ¶è©³ç´°ã¯å¿…é ˆã§ã™');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (!formData.partner_page_id) {\r\n        setError('ç´¹ä»‹ä¿®ç†åº—ãŒé¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      const deal = await dealApi.submitInquiry(formData);\r\n      setSuccess(true);\r\n\r\n      if (onSuccess) {\r\n        onSuccess(deal.deal_id);\r\n      }\r\n\r\n      // 3ç§’å¾Œã«ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆ\r\n      setTimeout(() => {\r\n        setFormData({\r\n          customer_name: '',\r\n          phone: '',\r\n          email: '',\r\n          prefecture: defaultPrefecture,\r\n          symptom_category: defaultCategory,\r\n          symptom_detail: defaultDetail,\r\n          partner_page_id: partnerPageId,\r\n        });\r\n        setSuccess(false);\r\n      }, 3000);\r\n    } catch (err: any) {\r\n      setError(err.response?.data?.error || err.message || 'å•ã„åˆã‚ã›ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  if (success) {\r\n    return (\r\n      <div className=\"bg-green-100 text-green-800 p-6 rounded-lg border border-green-300\">\r\n        <div className=\"flex items-center gap-2 mb-2\">\r\n          <span className=\"text-2xl\">âœ…</span>\r\n          <h3 className=\"text-lg font-bold\">å•ã„åˆã‚ã›ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸ</h3>\r\n        </div>\r\n        <p className=\"text-sm\">ä¿®ç†åº—ã‹ã‚‰é€£çµ¡ãŒã‚ã‚Šã¾ã™ã®ã§ã€ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          ãŠåå‰ <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          value={formData.customer_name}\r\n          onChange={(e) => setFormData({ ...formData, customer_name: e.target.value })}\r\n          required\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          placeholder=\"ä¾‹: å±±ç”°å¤ªéƒ\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          é›»è©±ç•ªå· <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"tel\"\r\n          value={formData.phone}\r\n          onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n          required\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          placeholder=\"ä¾‹: 090-1234-5678\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä»»æ„ï¼‰\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          value={formData.email}\r\n          onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          placeholder=\"ä¾‹: example@email.com\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          æ‰€åœ¨åœ°ï¼ˆéƒ½é“åºœçœŒï¼‰ <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          value={formData.prefecture}\r\n          onChange={(e) => setFormData({ ...formData, prefecture: e.target.value })}\r\n          required\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          placeholder=\"ä¾‹: æ±äº¬éƒ½\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          ç—‡çŠ¶ã‚«ãƒ†ã‚´ãƒª <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          value={formData.symptom_category}\r\n          onChange={(e) => setFormData({ ...formData, symptom_category: e.target.value })}\r\n          required\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          placeholder=\"ä¾‹: ã‚¨ã‚¢ã‚³ãƒ³ã€ãƒãƒƒãƒ†ãƒªãƒ¼\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          ç—‡çŠ¶è©³ç´° <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <textarea\r\n          value={formData.symptom_detail}\r\n          onChange={(e) => {\r\n            setFormData({ ...formData, symptom_detail: e.target.value });\r\n            setEstimation(null); // ç—‡çŠ¶ãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰æ¨å®šçµæœã‚’ã‚¯ãƒªã‚¢\r\n          }}\r\n          required\r\n          rows={4}\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          placeholder=\"ä¾‹: ã‚¨ã‚¢ã‚³ãƒ³ãŒåŠ¹ã‹ãªã„ã€å†·æˆ¿ãŒåŠ¹ã‹ãªã„\"\r\n        />\r\n        {formData.symptom_detail && (\r\n          <button\r\n            type=\"button\"\r\n            onClick={async () => {\r\n              setIsEstimating(true);\r\n              setError(null);\r\n              try {\r\n                const result = await costEstimationApi.estimateCost({\r\n                  symptoms: formData.symptom_detail,\r\n                  category: formData.symptom_category,\r\n                });\r\n                setEstimation(result);\r\n              } catch (err: any) {\r\n                setError(err.message || 'å·¥è³ƒæ¨å®šã«å¤±æ•—ã—ã¾ã—ãŸ');\r\n              } finally {\r\n                setIsEstimating(false);\r\n              }\r\n            }}\r\n            disabled={isEstimating || !formData.symptom_detail}\r\n            className=\"mt-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm font-semibold\"\r\n          >\r\n            {isEstimating ? 'æ¨å®šä¸­...' : 'ğŸ’° å·¥è³ƒã‚’æ¨å®š'}\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* å·¥è³ƒæ¨å®šçµæœ */}\r\n      {estimation && (\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n          <h3 className=\"text-lg font-bold text-blue-900 mb-3\">ğŸ’° å·¥è³ƒæ¨å®šçµæœ</h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3\">\r\n            <div className=\"bg-white p-3 rounded-lg\">\r\n              <div className=\"text-sm text-gray-600 mb-1\">ä½œæ¥­æ™‚é–“</div>\r\n              <div className=\"text-xl font-bold text-blue-600\">\r\n                {estimation.estimated_work_hours}æ™‚é–“\r\n              </div>\r\n              <div className=\"text-xs text-gray-500 mt-1\">é›£æ˜“åº¦: {estimation.difficulty}</div>\r\n            </div>\r\n            <div className=\"bg-white p-3 rounded-lg\">\r\n              <div className=\"text-sm text-gray-600 mb-1\">è¨ºæ–­æ–™</div>\r\n              <div className=\"text-xl font-bold text-blue-600\">\r\n                {estimation.diagnosis_fee.toLocaleString()}å††\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-white p-3 rounded-lg\">\r\n              <div className=\"text-sm text-gray-600 mb-1\">å·¥è³ƒ</div>\r\n              <div className=\"text-xl font-bold text-blue-600\">\r\n                {estimation.labor_cost_min.toLocaleString()}å†† ã€œ {estimation.labor_cost_max.toLocaleString()}å††\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-white p-3 rounded-lg\">\r\n              <div className=\"text-sm text-gray-600 mb-1\">éƒ¨å“ä»£</div>\r\n              <div className=\"text-xl font-bold text-blue-600\">\r\n                {estimation.parts_cost_min.toLocaleString()}å†† ã€œ {estimation.parts_cost_max.toLocaleString()}å††\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3\">\r\n            <div className=\"text-sm font-semibold text-yellow-900 mb-1\">ç·é¡ï¼ˆç›®å®‰ï¼‰</div>\r\n            <div className=\"text-2xl font-bold text-yellow-700\">\r\n              {estimation.total_cost_min.toLocaleString()}å†† ã€œ {estimation.total_cost_max.toLocaleString()}å††\r\n            </div>\r\n          </div>\r\n          {estimation.reasoning && (\r\n            <div className=\"text-sm text-gray-700 bg-white p-3 rounded-lg\">\r\n              <div className=\"font-semibold mb-1\">æ¨å®šç†ç”±:</div>\r\n              <div>{estimation.reasoning}</div>\r\n            </div>\r\n          )}\r\n          {estimation.similar_cases_count && estimation.similar_cases_count > 0 && (\r\n            <div className=\"text-xs text-gray-500 mt-2\">\r\n              â€» é¡ä¼¼ã‚±ãƒ¼ã‚¹ {estimation.similar_cases_count}ä»¶ã‚’å‚è€ƒã«æ¨å®šã—ã¾ã—ãŸ\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {error && (\r\n        <div className=\"bg-red-100 text-red-800 p-4 rounded-lg border border-red-300\">\r\n          âŒ {error}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex gap-4\">\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          className=\"flex-1 px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-semibold\"\r\n        >\r\n          {isLoading ? 'é€ä¿¡ä¸­...' : 'ğŸ“§ å•ã„åˆã‚ã›ã‚’é€ä¿¡'}\r\n        </button>\r\n        {onCancel && (\r\n          <button\r\n            type=\"button\"\r\n            onClick={onCancel}\r\n            className=\"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\"\r\n          >\r\n            ã‚­ãƒ£ãƒ³ã‚»ãƒ«\r\n          </button>\r\n        )}\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1523, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/udemy-langchain/camper-repair-clean/frontend/app/partner/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Navigation from '@/components/Navigation';\r\nimport ShopList from '@/components/Partner/ShopList';\r\nimport InquiryForm from '@/components/Partner/InquiryForm';\r\nimport { PartnerShop } from '@/lib/api';\r\n\r\nexport default function PartnerPage() {\r\n  const [selectedShop, setSelectedShop] = useState<PartnerShop | null>(null);\r\n  const [showInquiryForm, setShowInquiryForm] = useState(false);\r\n  const [filterPrefecture, setFilterPrefecture] = useState<string>('');\r\n  const [filterSpecialty, setFilterSpecialty] = useState<string>('');\r\n\r\n  const handleShopSelect = (shop: PartnerShop) => {\r\n    setSelectedShop(shop);\r\n    setShowInquiryForm(true);\r\n  };\r\n\r\n  const handleInquirySuccess = (dealId: string) => {\r\n    alert(`âœ… å•ã„åˆã‚ã›ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸï¼ˆå•†è«‡ID: ${dealId}ï¼‰`);\r\n    setShowInquiryForm(false);\r\n    setSelectedShop(null);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowInquiryForm(false);\r\n    setSelectedShop(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-4\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */}\r\n        <Navigation />\r\n\r\n        {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n            ğŸ”§ ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¿®ç†åº—ç´¹ä»‹\r\n          </h1>\r\n          <p className=\"text-gray-600\">\r\n            ãŠå®¢æ§˜ã«æœ€é©ãªä¿®ç†åº—ã‚’ã”ç´¹ä»‹ã—ã¾ã™\r\n          </p>\r\n        </div>\r\n\r\n        {/* ãƒ•ã‚£ãƒ«ã‚¿ */}\r\n        {!showInquiryForm && (\r\n          <div className=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  éƒ½é“åºœçœŒ\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={filterPrefecture}\r\n                  onChange={(e) => setFilterPrefecture(e.target.value)}\r\n                  placeholder=\"ä¾‹: æ±äº¬éƒ½ã€å¤§é˜ªåºœ\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  å°‚é–€åˆ†é‡\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={filterSpecialty}\r\n                  onChange={(e) => setFilterSpecialty(e.target.value)}\r\n                  placeholder=\"ä¾‹: ã‚¨ã‚¢ã‚³ãƒ³ã€ãƒãƒƒãƒ†ãƒªãƒ¼\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ  */}\r\n        {showInquiryForm && selectedShop && (\r\n          <div className=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\r\n            <div className=\"mb-4\">\r\n              <h2 className=\"text-xl font-bold text-gray-900 mb-2\">\r\n                å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ \r\n              </h2>\r\n              <p className=\"text-sm text-gray-600 mb-4\">\r\n                é¸æŠã•ã‚ŒãŸä¿®ç†åº—: <span className=\"font-semibold\">{selectedShop.name}</span>\r\n              </p>\r\n            </div>\r\n            <InquiryForm\r\n              defaultCategory=\"\"\r\n              defaultDetail=\"\"\r\n              defaultPrefecture={filterPrefecture}\r\n              partnerPageId={selectedShop.page_id}\r\n              onSuccess={handleInquirySuccess}\r\n              onCancel={handleCancel}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¿®ç†åº—ä¸€è¦§ */}\r\n        {!showInquiryForm && (\r\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n              ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¿®ç†åº—ä¸€è¦§\r\n            </h2>\r\n            <ShopList\r\n              prefecture={filterPrefecture || undefined}\r\n              specialty={filterSpecialty || undefined}\r\n              onShopSelect={handleShopSelect}\r\n              showSelectButton={true}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAQe,SAAS;;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mPAAQ,EAAqB;IACrE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,mPAAQ,EAAC;IACvD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,mPAAQ,EAAS;IACjE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,mPAAQ,EAAS;IAE/D,MAAM,mBAAmB,CAAC;QACxB,gBAAgB;QAChB,mBAAmB;IACrB;IAEA,MAAM,uBAAuB,CAAC;QAC5B,MAAM,CAAC,sBAAsB,EAAE,OAAO,CAAC,CAAC;QACxC,mBAAmB;QACnB,gBAAgB;IAClB;IAEA,MAAM,eAAe;QACnB,mBAAmB;QACnB,gBAAgB;IAClB;IAEA,qBACE,uQAAC;QAAI,WAAU;kBACb,cAAA,uQAAC;YAAI,WAAU;;8BAEb,uQAAC,iNAAU;;;;;8BAGX,uQAAC;oBAAI,WAAU;;sCACb,uQAAC;4BAAG,WAAU;sCAAwC;;;;;;sCAGtD,uQAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;gBAM9B,CAAC,iCACA,uQAAC;oBAAI,WAAU;;sCACb,uQAAC;4BAAG,WAAU;sCAA2C;;;;;;sCACzD,uQAAC;4BAAI,WAAU;;8CACb,uQAAC;;sDACC,uQAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,uQAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;4CACnD,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAGd,uQAAC;;sDACC,uQAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,uQAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;4CAClD,aAAY;4CACZ,WAAU;;;;;;;;;;;;;;;;;;;;;;;;gBAQnB,mBAAmB,8BAClB,uQAAC;oBAAI,WAAU;;sCACb,uQAAC;4BAAI,WAAU;;8CACb,uQAAC;oCAAG,WAAU;8CAAuC;;;;;;8CAGrD,uQAAC;oCAAE,WAAU;;wCAA6B;sDAC9B,uQAAC;4CAAK,WAAU;sDAAiB,aAAa,IAAI;;;;;;;;;;;;;;;;;;sCAGhE,uQAAC,6NAAW;4BACV,iBAAgB;4BAChB,eAAc;4BACd,mBAAmB;4BACnB,eAAe,aAAa,OAAO;4BACnC,WAAW;4BACX,UAAU;;;;;;;;;;;;gBAMf,CAAC,iCACA,uQAAC;oBAAI,WAAU;;sCACb,uQAAC;4BAAG,WAAU;sCAA2C;;;;;;sCAGzD,uQAAC,0NAAQ;4BACP,YAAY,oBAAoB;4BAChC,WAAW,mBAAmB;4BAC9B,cAAc;4BACd,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;AAOhC;GA9GwB;KAAA"}}]
}